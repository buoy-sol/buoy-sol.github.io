var jv=Object.defineProperty;var Gv=(o,p,i)=>p in o?jv(o,p,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[p]=i;var ku=(o,p,i)=>Gv(o,typeof p!="symbol"?p+"":p,i);(function(){const p=document.createElement("link").relList;if(p&&p.supports&&p.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function i(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=i(s);fetch(s.href,l)}})();function kv(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Vu={exports:{}},kr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg;function Vv(){if(tg)return kr;tg=1;var o=Symbol.for("react.transitional.element"),p=Symbol.for("react.fragment");function i(a,s,l){var u=null;if(l!==void 0&&(u=""+l),s.key!==void 0&&(u=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:o,type:a,key:u,ref:s!==void 0?s:null,props:l}}return kr.Fragment=p,kr.jsx=i,kr.jsxs=i,kr}var ig;function Iv(){return ig||(ig=1,Vu.exports=Vv()),Vu.exports}var U=Iv(),Iu={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng;function qv(){if(ng)return Ie;ng=1;var o=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,b={};function D(z,ee,ge){this.props=z,this.context=ee,this.refs=b,this.updater=ge||w}D.prototype.isReactComponent={},D.prototype.setState=function(z,ee){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ee,"setState")},D.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function A(){}A.prototype=D.prototype;function L(z,ee,ge){this.props=z,this.context=ee,this.refs=b,this.updater=ge||w}var j=L.prototype=new A;j.constructor=L,_(j,D.prototype),j.isPureReactComponent=!0;var ae=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function he(z,ee,ge,J,we,Ve){return ge=Ve.ref,{$$typeof:o,type:z,key:ee,ref:ge!==void 0?ge:null,props:Ve}}function pe(z,ee){return he(z.type,ee,void 0,void 0,void 0,z.props)}function fe(z){return typeof z=="object"&&z!==null&&z.$$typeof===o}function ke(z){var ee={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ge){return ee[ge]})}var Be=/\/+/g;function Te(z,ee){return typeof z=="object"&&z!==null&&z.key!=null?ke(""+z.key):ee.toString(36)}function be(){}function Fe(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(be,be):(z.status="pending",z.then(function(ee){z.status==="pending"&&(z.status="fulfilled",z.value=ee)},function(ee){z.status==="pending"&&(z.status="rejected",z.reason=ee)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Ne(z,ee,ge,J,we){var Ve=typeof z;(Ve==="undefined"||Ve==="boolean")&&(z=null);var Re=!1;if(z===null)Re=!0;else switch(Ve){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(z.$$typeof){case o:case p:Re=!0;break;case g:return Re=z._init,Ne(Re(z._payload),ee,ge,J,we)}}if(Re)return we=we(z),Re=J===""?"."+Te(z,0):J,ae(we)?(ge="",Re!=null&&(ge=Re.replace(Be,"$&/")+"/"),Ne(we,ee,ge,"",function(Yt){return Yt})):we!=null&&(fe(we)&&(we=pe(we,ge+(we.key==null||z&&z.key===we.key?"":(""+we.key).replace(Be,"$&/")+"/")+Re)),ee.push(we)),1;Re=0;var Et=J===""?".":J+":";if(ae(z))for(var lt=0;lt<z.length;lt++)J=z[lt],Ve=Et+Te(J,lt),Re+=Ne(J,ee,ge,Ve,we);else if(lt=y(z),typeof lt=="function")for(z=lt.call(z),lt=0;!(J=z.next()).done;)J=J.value,Ve=Et+Te(J,lt++),Re+=Ne(J,ee,ge,Ve,we);else if(Ve==="object"){if(typeof z.then=="function")return Ne(Fe(z),ee,ge,J,we);throw ee=String(z),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Re}function k(z,ee,ge){if(z==null)return z;var J=[],we=0;return Ne(z,J,"","",function(Ve){return ee.call(ge,Ve,we++)}),J}function oe(z){if(z._status===-1){var ee=z._result;ee=ee(),ee.then(function(ge){(z._status===0||z._status===-1)&&(z._status=1,z._result=ge)},function(ge){(z._status===0||z._status===-1)&&(z._status=2,z._result=ge)}),z._status===-1&&(z._status=0,z._result=ee)}if(z._status===1)return z._result.default;throw z._result}var de=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function Me(){}return Ie.Children={map:k,forEach:function(z,ee,ge){k(z,function(){ee.apply(this,arguments)},ge)},count:function(z){var ee=0;return k(z,function(){ee++}),ee},toArray:function(z){return k(z,function(ee){return ee})||[]},only:function(z){if(!fe(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ie.Component=D,Ie.Fragment=i,Ie.Profiler=s,Ie.PureComponent=L,Ie.StrictMode=a,Ie.Suspense=h,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(z){return I.H.useMemoCache(z)}},Ie.cache=function(z){return function(){return z.apply(null,arguments)}},Ie.cloneElement=function(z,ee,ge){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var J=_({},z.props),we=z.key,Ve=void 0;if(ee!=null)for(Re in ee.ref!==void 0&&(Ve=void 0),ee.key!==void 0&&(we=""+ee.key),ee)!N.call(ee,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ee.ref===void 0||(J[Re]=ee[Re]);var Re=arguments.length-2;if(Re===1)J.children=ge;else if(1<Re){for(var Et=Array(Re),lt=0;lt<Re;lt++)Et[lt]=arguments[lt+2];J.children=Et}return he(z.type,we,void 0,void 0,Ve,J)},Ie.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Ie.createElement=function(z,ee,ge){var J,we={},Ve=null;if(ee!=null)for(J in ee.key!==void 0&&(Ve=""+ee.key),ee)N.call(ee,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(we[J]=ee[J]);var Re=arguments.length-2;if(Re===1)we.children=ge;else if(1<Re){for(var Et=Array(Re),lt=0;lt<Re;lt++)Et[lt]=arguments[lt+2];we.children=Et}if(z&&z.defaultProps)for(J in Re=z.defaultProps,Re)we[J]===void 0&&(we[J]=Re[J]);return he(z,Ve,void 0,void 0,null,we)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(z){return{$$typeof:d,render:z}},Ie.isValidElement=fe,Ie.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:oe}},Ie.memo=function(z,ee){return{$$typeof:c,type:z,compare:ee===void 0?null:ee}},Ie.startTransition=function(z){var ee=I.T,ge={};I.T=ge;try{var J=z(),we=I.S;we!==null&&we(ge,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Me,de)}catch(Ve){de(Ve)}finally{I.T=ee}},Ie.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ie.use=function(z){return I.H.use(z)},Ie.useActionState=function(z,ee,ge){return I.H.useActionState(z,ee,ge)},Ie.useCallback=function(z,ee){return I.H.useCallback(z,ee)},Ie.useContext=function(z){return I.H.useContext(z)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(z,ee){return I.H.useDeferredValue(z,ee)},Ie.useEffect=function(z,ee,ge){var J=I.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(z,ee)},Ie.useId=function(){return I.H.useId()},Ie.useImperativeHandle=function(z,ee,ge){return I.H.useImperativeHandle(z,ee,ge)},Ie.useInsertionEffect=function(z,ee){return I.H.useInsertionEffect(z,ee)},Ie.useLayoutEffect=function(z,ee){return I.H.useLayoutEffect(z,ee)},Ie.useMemo=function(z,ee){return I.H.useMemo(z,ee)},Ie.useOptimistic=function(z,ee){return I.H.useOptimistic(z,ee)},Ie.useReducer=function(z,ee,ge){return I.H.useReducer(z,ee,ge)},Ie.useRef=function(z){return I.H.useRef(z)},Ie.useState=function(z){return I.H.useState(z)},Ie.useSyncExternalStore=function(z,ee,ge){return I.H.useSyncExternalStore(z,ee,ge)},Ie.useTransition=function(){return I.H.useTransition()},Ie.version="19.1.0",Ie}var ag;function cc(){return ag||(ag=1,Iu.exports=qv()),Iu.exports}var F=cc(),qu={exports:{}},Vr={},Zu={exports:{}},Yu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg;function Zv(){return rg||(rg=1,function(o){function p(k,oe){var de=k.length;k.push(oe);e:for(;0<de;){var Me=de-1>>>1,z=k[Me];if(0<s(z,oe))k[Me]=oe,k[de]=z,de=Me;else break e}}function i(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var oe=k[0],de=k.pop();if(de!==oe){k[0]=de;e:for(var Me=0,z=k.length,ee=z>>>1;Me<ee;){var ge=2*(Me+1)-1,J=k[ge],we=ge+1,Ve=k[we];if(0>s(J,de))we<z&&0>s(Ve,J)?(k[Me]=Ve,k[we]=de,Me=we):(k[Me]=J,k[ge]=de,Me=ge);else if(we<z&&0>s(Ve,de))k[Me]=Ve,k[we]=de,Me=we;else break e}}return oe}function s(k,oe){var de=k.sortIndex-oe.sortIndex;return de!==0?de:k.id-oe.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;o.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();o.unstable_now=function(){return u.now()-d}}var h=[],c=[],g=1,v=null,y=3,w=!1,_=!1,b=!1,D=!1,A=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function ae(k){for(var oe=i(c);oe!==null;){if(oe.callback===null)a(c);else if(oe.startTime<=k)a(c),oe.sortIndex=oe.expirationTime,p(h,oe);else break;oe=i(c)}}function I(k){if(b=!1,ae(k),!_)if(i(h)!==null)_=!0,N||(N=!0,Te());else{var oe=i(c);oe!==null&&Ne(I,oe.startTime-k)}}var N=!1,he=-1,pe=5,fe=-1;function ke(){return D?!0:!(o.unstable_now()-fe<pe)}function Be(){if(D=!1,N){var k=o.unstable_now();fe=k;var oe=!0;try{e:{_=!1,b&&(b=!1,L(he),he=-1),w=!0;var de=y;try{t:{for(ae(k),v=i(h);v!==null&&!(v.expirationTime>k&&ke());){var Me=v.callback;if(typeof Me=="function"){v.callback=null,y=v.priorityLevel;var z=Me(v.expirationTime<=k);if(k=o.unstable_now(),typeof z=="function"){v.callback=z,ae(k),oe=!0;break t}v===i(h)&&a(h),ae(k)}else a(h);v=i(h)}if(v!==null)oe=!0;else{var ee=i(c);ee!==null&&Ne(I,ee.startTime-k),oe=!1}}break e}finally{v=null,y=de,w=!1}oe=void 0}}finally{oe?Te():N=!1}}}var Te;if(typeof j=="function")Te=function(){j(Be)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Fe=be.port2;be.port1.onmessage=Be,Te=function(){Fe.postMessage(null)}}else Te=function(){A(Be,0)};function Ne(k,oe){he=A(function(){k(o.unstable_now())},oe)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(k){k.callback=null},o.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<k?Math.floor(1e3/k):5},o.unstable_getCurrentPriorityLevel=function(){return y},o.unstable_next=function(k){switch(y){case 1:case 2:case 3:var oe=3;break;default:oe=y}var de=y;y=oe;try{return k()}finally{y=de}},o.unstable_requestPaint=function(){D=!0},o.unstable_runWithPriority=function(k,oe){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var de=y;y=k;try{return oe()}finally{y=de}},o.unstable_scheduleCallback=function(k,oe,de){var Me=o.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Me+de:Me):de=Me,k){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=de+z,k={id:g++,callback:oe,priorityLevel:k,startTime:de,expirationTime:z,sortIndex:-1},de>Me?(k.sortIndex=de,p(c,k),i(h)===null&&k===i(c)&&(b?(L(he),he=-1):b=!0,Ne(I,de-Me))):(k.sortIndex=z,p(h,k),_||w||(_=!0,N||(N=!0,Te()))),k},o.unstable_shouldYield=ke,o.unstable_wrapCallback=function(k){var oe=y;return function(){var de=y;y=oe;try{return k.apply(this,arguments)}finally{y=de}}}}(Yu)),Yu}var lg;function Yv(){return lg||(lg=1,Zu.exports=Zv()),Zu.exports}var Wu={exports:{}},Vt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function Wv(){if(sg)return Vt;sg=1;var o=cc();function p(h){var c="https://react.dev/errors/"+h;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)c+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(p(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(h,c,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:h,containerInfo:c,implementation:g}}var u=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,c){if(h==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Vt.createPortal=function(h,c){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(p(299));return l(h,c,null,g)},Vt.flushSync=function(h){var c=u.T,g=a.p;try{if(u.T=null,a.p=2,h)return h()}finally{u.T=c,a.p=g,a.d.f()}},Vt.preconnect=function(h,c){typeof h=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,a.d.C(h,c))},Vt.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},Vt.preinit=function(h,c){if(typeof h=="string"&&c&&typeof c.as=="string"){var g=c.as,v=d(g,c.crossOrigin),y=typeof c.integrity=="string"?c.integrity:void 0,w=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;g==="style"?a.d.S(h,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:w}):g==="script"&&a.d.X(h,{crossOrigin:v,integrity:y,fetchPriority:w,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Vt.preinitModule=function(h,c){if(typeof h=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var g=d(c.as,c.crossOrigin);a.d.M(h,{crossOrigin:g,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&a.d.M(h)},Vt.preload=function(h,c){if(typeof h=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var g=c.as,v=d(g,c.crossOrigin);a.d.L(h,g,{crossOrigin:v,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Vt.preloadModule=function(h,c){if(typeof h=="string")if(c){var g=d(c.as,c.crossOrigin);a.d.m(h,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:g,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else a.d.m(h)},Vt.requestFormReset=function(h){a.d.r(h)},Vt.unstable_batchedUpdates=function(h,c){return h(c)},Vt.useFormState=function(h,c,g){return u.H.useFormState(h,c,g)},Vt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Vt.version="19.1.0",Vt}var og;function Qg(){if(og)return Wu.exports;og=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(p){console.error(p)}}return o(),Wu.exports=Wv(),Wu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function Xv(){if(ug)return Vr;ug=1;var o=Yv(),p=cc(),i=Qg();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function u(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(a(188))}function h(e){var t=e.alternate;if(!t){if(t=l(e),t===null)throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var f=n.return;if(f===null)break;var m=f.alternate;if(m===null){if(r=f.return,r!==null){n=r;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===n)return d(f),e;if(m===r)return d(f),t;m=m.sibling}throw Error(a(188))}if(n.return!==r.return)n=f,r=m;else{for(var E=!1,R=f.child;R;){if(R===n){E=!0,n=f,r=m;break}if(R===r){E=!0,r=f,n=m;break}R=R.sibling}if(!E){for(R=m.child;R;){if(R===n){E=!0,n=m,r=f;break}if(R===r){E=!0,r=m,n=f;break}R=R.sibling}if(!E)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(n.tag!==3)throw Error(a(188));return n.stateNode.current===n?e:t}function c(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=c(e),t!==null)return t;e=e.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),j=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),fe=Symbol.for("react.activity"),ke=Symbol.for("react.memo_cache_sentinel"),Be=Symbol.iterator;function Te(e){return e===null||typeof e!="object"?null:(e=Be&&e[Be]||e["@@iterator"],typeof e=="function"?e:null)}var be=Symbol.for("react.client.reference");function Fe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===be?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case D:return"Profiler";case b:return"StrictMode";case I:return"Suspense";case N:return"SuspenseList";case fe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case j:return(e.displayName||"Context")+".Provider";case L:return(e._context.displayName||"Context")+".Consumer";case ae:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case he:return t=e.displayName||null,t!==null?t:Fe(e.type)||"Memo";case pe:t=e._payload,e=e._init;try{return Fe(e(t))}catch{}}return null}var Ne=Array.isArray,k=p.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Me=[],z=-1;function ee(e){return{current:e}}function ge(e){0>z||(e.current=Me[z],Me[z]=null,z--)}function J(e,t){z++,Me[z]=e.current,e.current=t}var we=ee(null),Ve=ee(null),Re=ee(null),Et=ee(null);function lt(e,t){switch(J(Re,t),J(Ve,e),J(we,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ad(t),e=Od(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ge(we),J(we,e)}function Yt(){ge(we),ge(Ve),ge(Re)}function vt(e){e.memoizedState!==null&&J(Et,e);var t=we.current,n=Od(t,e.type);t!==n&&(J(Ve,e),J(we,n))}function jt(e){Ve.current===e&&(ge(we),ge(Ve)),Et.current===e&&(ge(Et),Hr._currentValue=de)}var Ai=Object.prototype.hasOwnProperty,Oi=o.unstable_scheduleCallback,It=o.unstable_cancelCallback,Gi=o.unstable_shouldYield,Mi=o.unstable_requestPaint,T=o.unstable_now,O=o.unstable_getCurrentPriorityLevel,Z=o.unstable_ImmediatePriority,le=o.unstable_UserBlockingPriority,ce=o.unstable_NormalPriority,ve=o.unstable_LowPriority,ie=o.unstable_IdlePriority,He=o.log,$e=o.unstable_setDisableYieldValue,qe=null,me=null;function it(e){if(typeof He=="function"&&$e(e),me&&typeof me.setStrictMode=="function")try{me.setStrictMode(qe,e)}catch{}}var S=Math.clz32?Math.clz32:M,x=Math.log,C=Math.LN2;function M(e){return e>>>=0,e===0?32:31-(x(e)/C|0)|0}var K=256,se=4194304;function Ee(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qe(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var f=0,m=e.suspendedLanes,E=e.pingedLanes;e=e.warmLanes;var R=r&134217727;return R!==0?(r=R&~m,r!==0?f=Ee(r):(E&=R,E!==0?f=Ee(E):n||(n=R&~e,n!==0&&(f=Ee(n))))):(R=r&~m,R!==0?f=Ee(R):E!==0?f=Ee(E):n||(n=r&~e,n!==0&&(f=Ee(n)))),f===0?0:t!==0&&t!==f&&(t&m)===0&&(m=f&-f,n=t&-t,m>=n||m===32&&(n&4194048)!==0)?t:f}function Se(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function zt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pt(){var e=K;return K<<=1,(K&4194048)===0&&(K=256),e}function xi(){var e=se;return se<<=1,(se&62914560)===0&&(se=4194304),e}function ki(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Un(e,t,n,r,f,m){var E=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var R=e.entanglements,P=e.expirationTimes,Y=e.hiddenUpdates;for(n=E&~n;0<n;){var $=31-S(n),ne=1<<$;R[$]=0,P[$]=-1;var W=Y[$];if(W!==null)for(Y[$]=null,$=0;$<W.length;$++){var X=W[$];X!==null&&(X.lane&=-536870913)}n&=~ne}r!==0&&Fn(e,r,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(E&~t))}function Fn(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-S(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194090}function jn(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-S(n),f=1<<r;f&t|e[r]&t&&(e[r]|=t),n&=~f}}function Za(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ya(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function B(){var e=oe.p;return e!==0?e:(e=window.event,e===void 0?32:Xd(e.type))}function V(e,t){var n=oe.p;try{return oe.p=e,t()}finally{oe.p=n}}var Q=Math.random().toString(36).slice(2),re="__reactFiber$"+Q,ue="__reactProps$"+Q,_e="__reactContainer$"+Q,Pe="__reactEvents$"+Q,ye="__reactListeners$"+Q,Ae="__reactHandles$"+Q,Oe="__reactResources$"+Q,Ue="__reactMarker$"+Q;function Ce(e){delete e[re],delete e[ue],delete e[Pe],delete e[ye],delete e[Ae]}function Ge(e){var t=e[re];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_e]||n[re]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ld(e);e!==null;){if(n=e[re])return n;e=Ld(e)}return t}e=n,n=e.parentNode}return null}function nt(e){if(e=e[re]||e[_e]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function mt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(a(33))}function wt(e){var t=e[Oe];return t||(t=e[Oe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function at(e){e[Ue]=!0}var et=new Set,ln={};function qt(e,t){ui(e,t),ui(e+"Capture",t)}function ui(e,t){for(ln[e]=t,e=0;e<t.length;e++)et.add(t[e])}var Wt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sn={},on={};function Wa(e){return Ai.call(on,e)?!0:Ai.call(sn,e)?!1:Wt.test(e)?on[e]=!0:(sn[e]=!0,!1)}function ci(e,t,n){if(Wa(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Vi(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ye(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}var Gt,Ei;function Si(e){if(Gt===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gt=t&&t[1]||"",Ei=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gt+e+Ei}var Gn=!1;function yt(e,t){if(!e||Gn)return"";Gn=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var W=X}Reflect.construct(e,[],ne)}else{try{ne.call()}catch(X){W=X}e.call(ne.prototype)}}else{try{throw Error()}catch(X){W=X}(ne=e())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&W&&typeof X.stack=="string")return[X.stack,W.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=r.DetermineComponentFrameRoot(),E=m[0],R=m[1];if(E&&R){var P=E.split(`
`),Y=R.split(`
`);for(f=r=0;r<P.length&&!P[r].includes("DetermineComponentFrameRoot");)r++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(r===P.length||f===Y.length)for(r=P.length-1,f=Y.length-1;1<=r&&0<=f&&P[r]!==Y[f];)f--;for(;1<=r&&0<=f;r--,f--)if(P[r]!==Y[f]){if(r!==1||f!==1)do if(r--,f--,0>f||P[r]!==Y[f]){var $=`
`+P[r].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=r&&0<=f);break}}}finally{Gn=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Si(n):""}function un(e){switch(e.tag){case 26:case 27:case 5:return Si(e.type);case 16:return Si("Lazy");case 13:return Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return yt(e.type,!1);case 11:return yt(e.type.render,!1);case 1:return yt(e.type,!0);case 31:return Si("Activity");default:return""}}function Xa(e){try{var t="";do t+=un(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Xt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Bp(e){var t=Sc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var f=n.get,m=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return f.call(this)},set:function(E){r=""+E,m.call(this,E)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(E){r=""+E},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function al(e){e._valueTracker||(e._valueTracker=Bp(e))}function _c(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Sc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function rl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Np=/[\n"\\]/g;function hi(e){return e.replace(Np,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Us(e,t,n,r,f,m,E,R){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),t!=null?E==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Xt(t)):e.value!==""+Xt(t)&&(e.value=""+Xt(t)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),t!=null?Fs(e,E,Xt(t)):n!=null?Fs(e,E,Xt(n)):r!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.name=""+Xt(R):e.removeAttribute("name")}function bc(e,t,n,r,f,m,E,R){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),t!=null||n!=null){if(!(m!=="submit"&&m!=="reset"||t!=null))return;n=n!=null?""+Xt(n):"",t=t!=null?""+Xt(t):n,R||t===e.value||(e.value=t),e.defaultValue=t}r=r??f,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=R?e.checked:!!r,e.defaultChecked=!!r,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E)}function Fs(e,t,n){t==="number"&&rl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function oa(e,t,n,r){if(e=e.options,t){t={};for(var f=0;f<n.length;f++)t["$"+n[f]]=!0;for(n=0;n<e.length;n++)f=t.hasOwnProperty("$"+e[n].value),e[n].selected!==f&&(e[n].selected=f),f&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Xt(n),t=null,f=0;f<e.length;f++){if(e[f].value===n){e[f].selected=!0,r&&(e[f].defaultSelected=!0);return}t!==null||e[f].disabled||(t=e[f])}t!==null&&(t.selected=!0)}}function Rc(e,t,n){if(t!=null&&(t=""+Xt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Xt(n):""}function Cc(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(a(92));if(Ne(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Xt(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r)}function ua(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dc(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||Hp.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ac(e,t,n){if(t!=null&&typeof t!="object")throw Error(a(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var f in t)r=t[f],t.hasOwnProperty(f)&&n[f]!==r&&Dc(e,f,r)}else for(var m in t)t.hasOwnProperty(m)&&Dc(e,m,t[m])}function js(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Up=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ll(e){return Fp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Gs=null;function ks(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ca=null,ha=null;function Oc(e){var t=nt(e);if(t&&(e=t.stateNode)){var n=e[ue]||null;e:switch(e=t.stateNode,t.type){case"input":if(Us(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+hi(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var f=r[ue]||null;if(!f)throw Error(a(90));Us(r,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&_c(r)}break e;case"textarea":Rc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&oa(e,!!n.multiple,t,!1)}}}var Vs=!1;function Mc(e,t,n){if(Vs)return e(t,n);Vs=!0;try{var r=e(t);return r}finally{if(Vs=!1,(ca!==null||ha!==null)&&(ql(),ca&&(t=ca,e=ha,ha=ca=null,Oc(t),e)))for(t=0;t<e.length;t++)Oc(e[t])}}function Qa(e,t){var n=e.stateNode;if(n===null)return null;var r=n[ue]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(a(231,t,typeof n));return n}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=!1;if(Ii)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){Is=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{Is=!1}var cn=null,qs=null,sl=null;function Pc(){if(sl)return sl;var e,t=qs,n=t.length,r,f="value"in cn?cn.value:cn.textContent,m=f.length;for(e=0;e<n&&t[e]===f[e];e++);var E=n-e;for(r=1;r<=E&&t[n-r]===f[m-r];r++);return sl=f.slice(e,1<r?1-r:void 0)}function ol(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ul(){return!0}function zc(){return!1}function Qt(e){function t(n,r,f,m,E){this._reactName=n,this._targetInst=f,this.type=r,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(n=e[R],this[R]=n?n(m):m[R]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ul:zc,this.isPropagationStopped=zc,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),t}var kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cl=Qt(kn),Ja=g({},kn,{view:0,detail:0}),jp=Qt(Ja),Zs,Ys,$a,hl=g({},Ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$a&&($a&&e.type==="mousemove"?(Zs=e.screenX-$a.screenX,Ys=e.screenY-$a.screenY):Ys=Zs=0,$a=e),Zs)},movementY:function(e){return"movementY"in e?e.movementY:Ys}}),Lc=Qt(hl),Gp=g({},hl,{dataTransfer:0}),kp=Qt(Gp),Vp=g({},Ja,{relatedTarget:0}),Ws=Qt(Vp),Ip=g({},kn,{animationName:0,elapsedTime:0,pseudoElement:0}),qp=Qt(Ip),Zp=g({},kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yp=Qt(Zp),Wp=g({},kn,{data:0}),Bc=Qt(Wp),Xp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Kp[e])?!!t[e]:!1}function Xs(){return Jp}var $p=g({},Ja,{key:function(e){if(e.key){var t=Xp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ol(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xs,charCode:function(e){return e.type==="keypress"?ol(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ol(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),em=Qt($p),tm=g({},hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nc=Qt(tm),im=g({},Ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xs}),nm=Qt(im),am=g({},kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),rm=Qt(am),lm=g({},hl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sm=Qt(lm),om=g({},kn,{newState:0,oldState:0}),um=Qt(om),cm=[9,13,27,32],Qs=Ii&&"CompositionEvent"in window,er=null;Ii&&"documentMode"in document&&(er=document.documentMode);var hm=Ii&&"TextEvent"in window&&!er,Hc=Ii&&(!Qs||er&&8<er&&11>=er),Uc=" ",Fc=!1;function jc(e,t){switch(e){case"keyup":return cm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function fm(e,t){switch(e){case"compositionend":return Gc(t);case"keypress":return t.which!==32?null:(Fc=!0,Uc);case"textInput":return e=t.data,e===Uc&&Fc?null:e;default:return null}}function dm(e,t){if(fa)return e==="compositionend"||!Qs&&jc(e,t)?(e=Pc(),sl=qs=cn=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hc&&t.locale!=="ko"?null:t.data;default:return null}}var gm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gm[e.type]:t==="textarea"}function Vc(e,t,n,r){ca?ha?ha.push(r):ha=[r]:ca=r,t=Kl(t,"onChange"),0<t.length&&(n=new cl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var tr=null,ir=null;function pm(e){_d(e,0)}function fl(e){var t=mt(e);if(_c(t))return e}function Ic(e,t){if(e==="change")return t}var qc=!1;if(Ii){var Ks;if(Ii){var Js="oninput"in document;if(!Js){var Zc=document.createElement("div");Zc.setAttribute("oninput","return;"),Js=typeof Zc.oninput=="function"}Ks=Js}else Ks=!1;qc=Ks&&(!document.documentMode||9<document.documentMode)}function Yc(){tr&&(tr.detachEvent("onpropertychange",Wc),ir=tr=null)}function Wc(e){if(e.propertyName==="value"&&fl(ir)){var t=[];Vc(t,ir,e,ks(e)),Mc(pm,t)}}function mm(e,t,n){e==="focusin"?(Yc(),tr=t,ir=n,tr.attachEvent("onpropertychange",Wc)):e==="focusout"&&Yc()}function vm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fl(ir)}function ym(e,t){if(e==="click")return fl(t)}function Tm(e,t){if(e==="input"||e==="change")return fl(t)}function wm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ei=typeof Object.is=="function"?Object.is:wm;function nr(e,t){if(ei(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var f=n[r];if(!Ai.call(t,f)||!ei(e[f],t[f]))return!1}return!0}function Xc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qc(e,t){var n=Xc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xc(n)}}function Kc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=rl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=rl(e.document)}return t}function $s(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var xm=Ii&&"documentMode"in document&&11>=document.documentMode,da=null,eo=null,ar=null,to=!1;function $c(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;to||da==null||da!==rl(r)||(r=da,"selectionStart"in r&&$s(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ar&&nr(ar,r)||(ar=r,r=Kl(eo,"onSelect"),0<r.length&&(t=new cl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=da)))}function Vn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ga={animationend:Vn("Animation","AnimationEnd"),animationiteration:Vn("Animation","AnimationIteration"),animationstart:Vn("Animation","AnimationStart"),transitionrun:Vn("Transition","TransitionRun"),transitionstart:Vn("Transition","TransitionStart"),transitioncancel:Vn("Transition","TransitionCancel"),transitionend:Vn("Transition","TransitionEnd")},io={},eh={};Ii&&(eh=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function In(e){if(io[e])return io[e];if(!ga[e])return e;var t=ga[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in eh)return io[e]=t[n];return e}var th=In("animationend"),ih=In("animationiteration"),nh=In("animationstart"),Em=In("transitionrun"),Sm=In("transitionstart"),_m=In("transitioncancel"),ah=In("transitionend"),rh=new Map,no="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");no.push("scrollEnd");function _i(e,t){rh.set(e,t),qt(t,[e])}var lh=new WeakMap;function fi(e,t){if(typeof e=="object"&&e!==null){var n=lh.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Xa(t)},lh.set(e,t),t)}return{value:e,source:t,stack:Xa(t)}}var di=[],pa=0,ao=0;function dl(){for(var e=pa,t=ao=pa=0;t<e;){var n=di[t];di[t++]=null;var r=di[t];di[t++]=null;var f=di[t];di[t++]=null;var m=di[t];if(di[t++]=null,r!==null&&f!==null){var E=r.pending;E===null?f.next=f:(f.next=E.next,E.next=f),r.pending=f}m!==0&&sh(n,f,m)}}function gl(e,t,n,r){di[pa++]=e,di[pa++]=t,di[pa++]=n,di[pa++]=r,ao|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function ro(e,t,n,r){return gl(e,t,n,r),pl(e)}function ma(e,t){return gl(e,null,null,t),pl(e)}function sh(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var f=!1,m=e.return;m!==null;)m.childLanes|=n,r=m.alternate,r!==null&&(r.childLanes|=n),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,f&&t!==null&&(f=31-S(n),e=m.hiddenUpdates,r=e[f],r===null?e[f]=[t]:r.push(t),t.lane=n|536870912),m):null}function pl(e){if(50<Ar)throw Ar=0,fu=null,Error(a(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var va={};function bm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(e,t,n,r){return new bm(e,t,n,r)}function lo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,t){var n=e.alternate;return n===null?(n=ti(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function oh(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ml(e,t,n,r,f,m){var E=0;if(r=e,typeof e=="function")lo(e)&&(E=1);else if(typeof e=="string")E=Cv(e,n,we.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case fe:return e=ti(31,n,t,f),e.elementType=fe,e.lanes=m,e;case _:return qn(n.children,f,m,t);case b:E=8,f|=24;break;case D:return e=ti(12,n,t,f|2),e.elementType=D,e.lanes=m,e;case I:return e=ti(13,n,t,f),e.elementType=I,e.lanes=m,e;case N:return e=ti(19,n,t,f),e.elementType=N,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A:case j:E=10;break e;case L:E=9;break e;case ae:E=11;break e;case he:E=14;break e;case pe:E=16,r=null;break e}E=29,n=Error(a(130,e===null?"null":typeof e,"")),r=null}return t=ti(E,n,t,f),t.elementType=e,t.type=r,t.lanes=m,t}function qn(e,t,n,r){return e=ti(7,e,r,t),e.lanes=n,e}function so(e,t,n){return e=ti(6,e,null,t),e.lanes=n,e}function oo(e,t,n){return t=ti(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ya=[],Ta=0,vl=null,yl=0,gi=[],pi=0,Zn=null,Zi=1,Yi="";function Yn(e,t){ya[Ta++]=yl,ya[Ta++]=vl,vl=e,yl=t}function uh(e,t,n){gi[pi++]=Zi,gi[pi++]=Yi,gi[pi++]=Zn,Zn=e;var r=Zi;e=Yi;var f=32-S(r)-1;r&=~(1<<f),n+=1;var m=32-S(t)+f;if(30<m){var E=f-f%5;m=(r&(1<<E)-1).toString(32),r>>=E,f-=E,Zi=1<<32-S(t)+f|n<<f|r,Yi=m+e}else Zi=1<<m|n<<f|r,Yi=e}function uo(e){e.return!==null&&(Yn(e,1),uh(e,1,0))}function co(e){for(;e===vl;)vl=ya[--Ta],ya[Ta]=null,yl=ya[--Ta],ya[Ta]=null;for(;e===Zn;)Zn=gi[--pi],gi[pi]=null,Yi=gi[--pi],gi[pi]=null,Zi=gi[--pi],gi[pi]=null}var Zt=null,St=null,st=!1,Wn=null,zi=!1,ho=Error(a(519));function Xn(e){var t=Error(a(418,""));throw sr(fi(t,e)),ho}function ch(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[re]=e,t[ue]=r,n){case"dialog":Je("cancel",t),Je("close",t);break;case"iframe":case"object":case"embed":Je("load",t);break;case"video":case"audio":for(n=0;n<Mr.length;n++)Je(Mr[n],t);break;case"source":Je("error",t);break;case"img":case"image":case"link":Je("error",t),Je("load",t);break;case"details":Je("toggle",t);break;case"input":Je("invalid",t),bc(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),al(t);break;case"select":Je("invalid",t);break;case"textarea":Je("invalid",t),Cc(t,r.value,r.defaultValue,r.children),al(t)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||Dd(t.textContent,n)?(r.popover!=null&&(Je("beforetoggle",t),Je("toggle",t)),r.onScroll!=null&&Je("scroll",t),r.onScrollEnd!=null&&Je("scrollend",t),r.onClick!=null&&(t.onclick=Jl),t=!0):t=!1,t||Xn(e)}function hh(e){for(Zt=e.return;Zt;)switch(Zt.tag){case 5:case 13:zi=!1;return;case 27:case 3:zi=!0;return;default:Zt=Zt.return}}function rr(e){if(e!==Zt)return!1;if(!st)return hh(e),st=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Du(e.type,e.memoizedProps)),n=!n),n&&St&&Xn(e),hh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){St=Ri(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}St=null}}else t===27?(t=St,Rn(e.type)?(e=Pu,Pu=null,St=e):St=t):St=Zt?Ri(e.stateNode.nextSibling):null;return!0}function lr(){St=Zt=null,st=!1}function fh(){var e=Wn;return e!==null&&($t===null?$t=e:$t.push.apply($t,e),Wn=null),e}function sr(e){Wn===null?Wn=[e]:Wn.push(e)}var fo=ee(null),Qn=null,Wi=null;function hn(e,t,n){J(fo,t._currentValue),t._currentValue=n}function Xi(e){e._currentValue=fo.current,ge(fo)}function go(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function po(e,t,n,r){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var R=m;m=f;for(var P=0;P<t.length;P++)if(R.context===t[P]){m.lanes|=n,R=m.alternate,R!==null&&(R.lanes|=n),go(m.return,n,e),r||(E=null);break e}m=R.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(a(341));E.lanes|=n,m=E.alternate,m!==null&&(m.lanes|=n),go(E,n,e),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===e){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function or(e,t,n,r){e=null;for(var f=t,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var R=f.type;ei(f.pendingProps.value,E.value)||(e!==null?e.push(R):e=[R])}}else if(f===Et.current){if(E=f.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Hr):e=[Hr])}f=f.return}e!==null&&po(t,e,n,r),t.flags|=262144}function Tl(e){for(e=e.firstContext;e!==null;){if(!ei(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Kn(e){Qn=e,Wi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function kt(e){return dh(Qn,e)}function wl(e,t){return Qn===null&&Kn(e),dh(e,t)}function dh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Wi===null){if(e===null)throw Error(a(308));Wi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Wi=Wi.next=t;return n}var Rm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Cm=o.unstable_scheduleCallback,Dm=o.unstable_NormalPriority,Mt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mo(){return{controller:new Rm,data:new Map,refCount:0}}function ur(e){e.refCount--,e.refCount===0&&Cm(Dm,function(){e.controller.abort()})}var cr=null,vo=0,wa=0,xa=null;function Am(e,t){if(cr===null){var n=cr=[];vo=0,wa=Tu(),xa={status:"pending",value:void 0,then:function(r){n.push(r)}}}return vo++,t.then(gh,gh),t}function gh(){if(--vo===0&&cr!==null){xa!==null&&(xa.status="fulfilled");var e=cr;cr=null,wa=0,xa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Om(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(f){n.push(f)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var f=0;f<n.length;f++)(0,n[f])(t)},function(f){for(r.status="rejected",r.reason=f,f=0;f<n.length;f++)(0,n[f])(void 0)}),r}var ph=k.S;k.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Am(e,t),ph!==null&&ph(e,t)};var Jn=ee(null);function yo(){var e=Jn.current;return e!==null?e:gt.pooledCache}function xl(e,t){t===null?J(Jn,Jn.current):J(Jn,t.pool)}function mh(){var e=yo();return e===null?null:{parent:Mt._currentValue,pool:e}}var hr=Error(a(460)),vh=Error(a(474)),El=Error(a(542)),To={then:function(){}};function yh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Sl(){}function Th(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Sl,Sl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,xh(e),e;default:if(typeof t.status=="string")t.then(Sl,Sl);else{if(e=gt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var f=t;f.status="fulfilled",f.value=r}},function(r){if(t.status==="pending"){var f=t;f.status="rejected",f.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,xh(e),e}throw fr=t,hr}}var fr=null;function wh(){if(fr===null)throw Error(a(459));var e=fr;return fr=null,e}function xh(e){if(e===hr||e===El)throw Error(a(483))}var fn=!1;function wo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function dn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function gn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(ot&2)!==0){var f=r.pending;return f===null?t.next=t:(t.next=f.next,f.next=t),r.pending=t,t=pl(e),sh(e,null,n),t}return gl(e,r,t,n),pl(e)}function dr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jn(e,n)}}function Eo(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var f=null,m=null;if(n=n.firstBaseUpdate,n!==null){do{var E={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,n=n.next}while(n!==null);m===null?f=m=t:m=m.next=t}else f=m=t;n={baseState:r.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var So=!1;function gr(){if(So){var e=xa;if(e!==null)throw e}}function pr(e,t,n,r){So=!1;var f=e.updateQueue;fn=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var P=R,Y=P.next;P.next=null,E===null?m=Y:E.next=Y,E=P;var $=e.alternate;$!==null&&($=$.updateQueue,R=$.lastBaseUpdate,R!==E&&(R===null?$.firstBaseUpdate=Y:R.next=Y,$.lastBaseUpdate=P))}if(m!==null){var ne=f.baseState;E=0,$=Y=P=null,R=m;do{var W=R.lane&-536870913,X=W!==R.lane;if(X?(tt&W)===W:(r&W)===W){W!==0&&W===wa&&(So=!0),$!==null&&($=$.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var je=e,ze=R;W=t;var ft=n;switch(ze.tag){case 1:if(je=ze.payload,typeof je=="function"){ne=je.call(ft,ne,W);break e}ne=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=ze.payload,W=typeof je=="function"?je.call(ft,ne,W):je,W==null)break e;ne=g({},ne,W);break e;case 2:fn=!0}}W=R.callback,W!==null&&(e.flags|=64,X&&(e.flags|=8192),X=f.callbacks,X===null?f.callbacks=[W]:X.push(W))}else X={lane:W,tag:R.tag,payload:R.payload,callback:R.callback,next:null},$===null?(Y=$=X,P=ne):$=$.next=X,E|=W;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;X=R,R=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);$===null&&(P=ne),f.baseState=P,f.firstBaseUpdate=Y,f.lastBaseUpdate=$,m===null&&(f.shared.lanes=0),En|=E,e.lanes=E,e.memoizedState=ne}}function Eh(e,t){if(typeof e!="function")throw Error(a(191,e));e.call(t)}function Sh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Eh(n[e],t)}var Ea=ee(null),_l=ee(0);function _h(e,t){e=nn,J(_l,e),J(Ea,t),nn=e|t.baseLanes}function _o(){J(_l,nn),J(Ea,Ea.current)}function bo(){nn=_l.current,ge(Ea),ge(_l)}var pn=0,Ze=null,ct=null,Dt=null,bl=!1,Sa=!1,$n=!1,Rl=0,mr=0,_a=null,Mm=0;function Rt(){throw Error(a(321))}function Ro(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ei(e[n],t[n]))return!1;return!0}function Co(e,t,n,r,f,m){return pn=m,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=e===null||e.memoizedState===null?of:uf,$n=!1,m=n(r,f),$n=!1,Sa&&(m=Rh(t,n,r,f)),bh(e),m}function bh(e){k.H=Pl;var t=ct!==null&&ct.next!==null;if(pn=0,Dt=ct=Ze=null,bl=!1,mr=0,_a=null,t)throw Error(a(300));e===null||Lt||(e=e.dependencies,e!==null&&Tl(e)&&(Lt=!0))}function Rh(e,t,n,r){Ze=e;var f=0;do{if(Sa&&(_a=null),mr=0,Sa=!1,25<=f)throw Error(a(301));if(f+=1,Dt=ct=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}k.H=Um,m=t(n,r)}while(Sa);return m}function Pm(){var e=k.H,t=e.useState()[0];return t=typeof t.then=="function"?vr(t):t,e=e.useState()[0],(ct!==null?ct.memoizedState:null)!==e&&(Ze.flags|=1024),t}function Do(){var e=Rl!==0;return Rl=0,e}function Ao(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Oo(e){if(bl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}bl=!1}pn=0,Dt=ct=Ze=null,Sa=!1,mr=Rl=0,_a=null}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Ze.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function At(){if(ct===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=Dt===null?Ze.memoizedState:Dt.next;if(t!==null)Dt=t,ct=e;else{if(e===null)throw Ze.alternate===null?Error(a(467)):Error(a(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Dt===null?Ze.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function Mo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vr(e){var t=mr;return mr+=1,_a===null&&(_a=[]),e=Th(_a,e,t),t=Ze,(Dt===null?t.memoizedState:Dt.next)===null&&(t=t.alternate,k.H=t===null||t.memoizedState===null?of:uf),e}function Cl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vr(e);if(e.$$typeof===j)return kt(e)}throw Error(a(438,String(e)))}function Po(e){var t=null,n=Ze.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=Ze.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(f){return f.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Mo(),Ze.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=ke;return t.index++,n}function Qi(e,t){return typeof t=="function"?t(e):t}function Dl(e){var t=At();return zo(t,ct,e)}function zo(e,t,n){var r=e.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=n;var f=e.baseQueue,m=r.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}t.baseQueue=f=m,r.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{t=f.next;var R=E=null,P=null,Y=t,$=!1;do{var ne=Y.lane&-536870913;if(ne!==Y.lane?(tt&ne)===ne:(pn&ne)===ne){var W=Y.revertLane;if(W===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ne===wa&&($=!0);else if((pn&W)===W){Y=Y.next,W===wa&&($=!0);continue}else ne={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(R=P=ne,E=m):P=P.next=ne,Ze.lanes|=W,En|=W;ne=Y.action,$n&&n(m,ne),m=Y.hasEagerState?Y.eagerState:n(m,ne)}else W={lane:ne,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(R=P=W,E=m):P=P.next=W,Ze.lanes|=ne,En|=ne;Y=Y.next}while(Y!==null&&Y!==t);if(P===null?E=m:P.next=R,!ei(m,e.memoizedState)&&(Lt=!0,$&&(n=xa,n!==null)))throw n;e.memoizedState=m,e.baseState=E,e.baseQueue=P,r.lastRenderedState=m}return f===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Lo(e){var t=At(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,f=n.pending,m=t.memoizedState;if(f!==null){n.pending=null;var E=f=f.next;do m=e(m,E.action),E=E.next;while(E!==f);ei(m,t.memoizedState)||(Lt=!0),t.memoizedState=m,t.baseQueue===null&&(t.baseState=m),n.lastRenderedState=m}return[m,r]}function Ch(e,t,n){var r=Ze,f=At(),m=st;if(m){if(n===void 0)throw Error(a(407));n=n()}else n=t();var E=!ei((ct||f).memoizedState,n);E&&(f.memoizedState=n,Lt=!0),f=f.queue;var R=Oh.bind(null,r,f,e);if(yr(2048,8,R,[e]),f.getSnapshot!==t||E||Dt!==null&&Dt.memoizedState.tag&1){if(r.flags|=2048,ba(9,Al(),Ah.bind(null,r,f,n,t),null),gt===null)throw Error(a(349));m||(pn&124)!==0||Dh(r,t,n)}return n}function Dh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ze.updateQueue,t===null?(t=Mo(),Ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ah(e,t,n,r){t.value=n,t.getSnapshot=r,Mh(t)&&Ph(e)}function Oh(e,t,n){return n(function(){Mh(t)&&Ph(e)})}function Mh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ei(e,n)}catch{return!0}}function Ph(e){var t=ma(e,2);t!==null&&li(t,e,2)}function Bo(e){var t=Kt();if(typeof e=="function"){var n=e;if(e=n(),$n){it(!0);try{n()}finally{it(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:e},t}function zh(e,t,n,r){return e.baseState=n,zo(e,ct,typeof r=="function"?r:Qi)}function zm(e,t,n,r,f){if(Ml(e))throw Error(a(485));if(e=t.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};k.T!==null?n(!0):m.isTransition=!1,r(m),n=t.pending,n===null?(m.next=t.pending=m,Lh(t,m)):(m.next=n.next,t.pending=n.next=m)}}function Lh(e,t){var n=t.action,r=t.payload,f=e.state;if(t.isTransition){var m=k.T,E={};k.T=E;try{var R=n(f,r),P=k.S;P!==null&&P(E,R),Bh(e,t,R)}catch(Y){No(e,t,Y)}finally{k.T=m}}else try{m=n(f,r),Bh(e,t,m)}catch(Y){No(e,t,Y)}}function Bh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Nh(e,t,r)},function(r){return No(e,t,r)}):Nh(e,t,n)}function Nh(e,t,n){t.status="fulfilled",t.value=n,Hh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Lh(e,n)))}function No(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,Hh(t),t=t.next;while(t!==r)}e.action=null}function Hh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Uh(e,t){return t}function Fh(e,t){if(st){var n=gt.formState;if(n!==null){e:{var r=Ze;if(st){if(St){t:{for(var f=St,m=zi;f.nodeType!==8;){if(!m){f=null;break t}if(f=Ri(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){St=Ri(f.nextSibling),r=f.data==="F!";break e}}Xn(r)}r=!1}r&&(t=n[0])}}return n=Kt(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uh,lastRenderedState:t},n.queue=r,n=rf.bind(null,Ze,r),r.dispatch=n,r=Bo(!1),m=Go.bind(null,Ze,!1,r.queue),r=Kt(),f={state:t,dispatch:null,action:e,pending:null},r.queue=f,n=zm.bind(null,Ze,f,m,n),f.dispatch=n,r.memoizedState=e,[t,n,!1]}function jh(e){var t=At();return Gh(t,ct,e)}function Gh(e,t,n){if(t=zo(e,t,Uh)[0],e=Dl(Qi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=vr(t)}catch(E){throw E===hr?El:E}else r=t;t=At();var f=t.queue,m=f.dispatch;return n!==t.memoizedState&&(Ze.flags|=2048,ba(9,Al(),Lm.bind(null,f,n),null)),[r,m,e]}function Lm(e,t){e.action=t}function kh(e){var t=At(),n=ct;if(n!==null)return Gh(t,n,e);At(),t=t.memoizedState,n=At();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ba(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=Ze.updateQueue,t===null&&(t=Mo(),Ze.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Al(){return{destroy:void 0,resource:void 0}}function Vh(){return At().memoizedState}function Ol(e,t,n,r){var f=Kt();r=r===void 0?null:r,Ze.flags|=e,f.memoizedState=ba(1|t,Al(),n,r)}function yr(e,t,n,r){var f=At();r=r===void 0?null:r;var m=f.memoizedState.inst;ct!==null&&r!==null&&Ro(r,ct.memoizedState.deps)?f.memoizedState=ba(t,m,n,r):(Ze.flags|=e,f.memoizedState=ba(1|t,m,n,r))}function Ih(e,t){Ol(8390656,8,e,t)}function qh(e,t){yr(2048,8,e,t)}function Zh(e,t){return yr(4,2,e,t)}function Yh(e,t){return yr(4,4,e,t)}function Wh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xh(e,t,n){n=n!=null?n.concat([e]):null,yr(4,4,Wh.bind(null,t,e),n)}function Ho(){}function Qh(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Ro(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Kh(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Ro(t,r[1]))return r[0];if(r=e(),$n){it(!0);try{e()}finally{it(!1)}}return n.memoizedState=[r,t],r}function Uo(e,t,n){return n===void 0||(pn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=td(),Ze.lanes|=e,En|=e,n)}function Jh(e,t,n,r){return ei(n,t)?n:Ea.current!==null?(e=Uo(e,n,r),ei(e,t)||(Lt=!0),e):(pn&42)===0?(Lt=!0,e.memoizedState=n):(e=td(),Ze.lanes|=e,En|=e,t)}function $h(e,t,n,r,f){var m=oe.p;oe.p=m!==0&&8>m?m:8;var E=k.T,R={};k.T=R,Go(e,!1,t,n);try{var P=f(),Y=k.S;if(Y!==null&&Y(R,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var $=Om(P,r);Tr(e,t,$,ri(e))}else Tr(e,t,r,ri(e))}catch(ne){Tr(e,t,{then:function(){},status:"rejected",reason:ne},ri())}finally{oe.p=m,k.T=E}}function Bm(){}function Fo(e,t,n,r){if(e.tag!==5)throw Error(a(476));var f=ef(e).queue;$h(e,f,t,de,n===null?Bm:function(){return tf(e),n(r)})}function ef(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:de},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function tf(e){var t=ef(e).next.queue;Tr(e,t,{},ri())}function jo(){return kt(Hr)}function nf(){return At().memoizedState}function af(){return At().memoizedState}function Nm(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ri();e=dn(n);var r=gn(t,e,n);r!==null&&(li(r,t,n),dr(r,t,n)),t={cache:mo()},e.payload=t;return}t=t.return}}function Hm(e,t,n){var r=ri();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ml(e)?lf(t,n):(n=ro(e,t,n,r),n!==null&&(li(n,e,r),sf(n,t,r)))}function rf(e,t,n){var r=ri();Tr(e,t,n,r)}function Tr(e,t,n,r){var f={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ml(e))lf(t,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=t.lastRenderedReducer,m!==null))try{var E=t.lastRenderedState,R=m(E,n);if(f.hasEagerState=!0,f.eagerState=R,ei(R,E))return gl(e,t,f,0),gt===null&&dl(),!1}catch{}finally{}if(n=ro(e,t,f,r),n!==null)return li(n,e,r),sf(n,t,r),!0}return!1}function Go(e,t,n,r){if(r={lane:2,revertLane:Tu(),action:r,hasEagerState:!1,eagerState:null,next:null},Ml(e)){if(t)throw Error(a(479))}else t=ro(e,n,r,2),t!==null&&li(t,e,2)}function Ml(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function lf(e,t){Sa=bl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sf(e,t,n){if((n&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jn(e,n)}}var Pl={readContext:kt,use:Cl,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt},of={readContext:kt,use:Cl,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:Ih,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ol(4194308,4,Wh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ol(4194308,4,e,t)},useInsertionEffect:function(e,t){Ol(4,2,e,t)},useMemo:function(e,t){var n=Kt();t=t===void 0?null:t;var r=e();if($n){it(!0);try{e()}finally{it(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Kt();if(n!==void 0){var f=n(t);if($n){it(!0);try{n(t)}finally{it(!1)}}}else f=t;return r.memoizedState=r.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},r.queue=e,e=e.dispatch=Hm.bind(null,Ze,e),[r.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:function(e){e=Bo(e);var t=e.queue,n=rf.bind(null,Ze,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ho,useDeferredValue:function(e,t){var n=Kt();return Uo(n,e,t)},useTransition:function(){var e=Bo(!1);return e=$h.bind(null,Ze,e.queue,!0,!1),Kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Ze,f=Kt();if(st){if(n===void 0)throw Error(a(407));n=n()}else{if(n=t(),gt===null)throw Error(a(349));(tt&124)!==0||Dh(r,t,n)}f.memoizedState=n;var m={value:n,getSnapshot:t};return f.queue=m,Ih(Oh.bind(null,r,m,e),[e]),r.flags|=2048,ba(9,Al(),Ah.bind(null,r,m,n,t),null),n},useId:function(){var e=Kt(),t=gt.identifierPrefix;if(st){var n=Yi,r=Zi;n=(r&~(1<<32-S(r)-1)).toString(32)+n,t="«"+t+"R"+n,n=Rl++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=Mm++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:jo,useFormState:Fh,useActionState:Fh,useOptimistic:function(e){var t=Kt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Go.bind(null,Ze,!0,n),n.dispatch=t,[e,t]},useMemoCache:Po,useCacheRefresh:function(){return Kt().memoizedState=Nm.bind(null,Ze)}},uf={readContext:kt,use:Cl,useCallback:Qh,useContext:kt,useEffect:qh,useImperativeHandle:Xh,useInsertionEffect:Zh,useLayoutEffect:Yh,useMemo:Kh,useReducer:Dl,useRef:Vh,useState:function(){return Dl(Qi)},useDebugValue:Ho,useDeferredValue:function(e,t){var n=At();return Jh(n,ct.memoizedState,e,t)},useTransition:function(){var e=Dl(Qi)[0],t=At().memoizedState;return[typeof e=="boolean"?e:vr(e),t]},useSyncExternalStore:Ch,useId:nf,useHostTransitionStatus:jo,useFormState:jh,useActionState:jh,useOptimistic:function(e,t){var n=At();return zh(n,ct,e,t)},useMemoCache:Po,useCacheRefresh:af},Um={readContext:kt,use:Cl,useCallback:Qh,useContext:kt,useEffect:qh,useImperativeHandle:Xh,useInsertionEffect:Zh,useLayoutEffect:Yh,useMemo:Kh,useReducer:Lo,useRef:Vh,useState:function(){return Lo(Qi)},useDebugValue:Ho,useDeferredValue:function(e,t){var n=At();return ct===null?Uo(n,e,t):Jh(n,ct.memoizedState,e,t)},useTransition:function(){var e=Lo(Qi)[0],t=At().memoizedState;return[typeof e=="boolean"?e:vr(e),t]},useSyncExternalStore:Ch,useId:nf,useHostTransitionStatus:jo,useFormState:kh,useActionState:kh,useOptimistic:function(e,t){var n=At();return ct!==null?zh(n,ct,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Po,useCacheRefresh:af},Ra=null,wr=0;function zl(e){var t=wr;return wr+=1,Ra===null&&(Ra=[]),Th(Ra,e,t)}function xr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ll(e,t){throw t.$$typeof===v?Error(a(525)):(e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function cf(e){var t=e._init;return t(e._payload)}function hf(e){function t(G,H){if(e){var q=G.deletions;q===null?(G.deletions=[H],G.flags|=16):q.push(H)}}function n(G,H){if(!e)return null;for(;H!==null;)t(G,H),H=H.sibling;return null}function r(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function f(G,H){return G=qi(G,H),G.index=0,G.sibling=null,G}function m(G,H,q){return G.index=q,e?(q=G.alternate,q!==null?(q=q.index,q<H?(G.flags|=67108866,H):q):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function E(G){return e&&G.alternate===null&&(G.flags|=67108866),G}function R(G,H,q,te){return H===null||H.tag!==6?(H=so(q,G.mode,te),H.return=G,H):(H=f(H,q),H.return=G,H)}function P(G,H,q,te){var xe=q.type;return xe===_?$(G,H,q.props.children,te,q.key):H!==null&&(H.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===pe&&cf(xe)===H.type)?(H=f(H,q.props),xr(H,q),H.return=G,H):(H=ml(q.type,q.key,q.props,null,G.mode,te),xr(H,q),H.return=G,H)}function Y(G,H,q,te){return H===null||H.tag!==4||H.stateNode.containerInfo!==q.containerInfo||H.stateNode.implementation!==q.implementation?(H=oo(q,G.mode,te),H.return=G,H):(H=f(H,q.children||[]),H.return=G,H)}function $(G,H,q,te,xe){return H===null||H.tag!==7?(H=qn(q,G.mode,te,xe),H.return=G,H):(H=f(H,q),H.return=G,H)}function ne(G,H,q){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=so(""+H,G.mode,q),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case y:return q=ml(H.type,H.key,H.props,null,G.mode,q),xr(q,H),q.return=G,q;case w:return H=oo(H,G.mode,q),H.return=G,H;case pe:var te=H._init;return H=te(H._payload),ne(G,H,q)}if(Ne(H)||Te(H))return H=qn(H,G.mode,q,null),H.return=G,H;if(typeof H.then=="function")return ne(G,zl(H),q);if(H.$$typeof===j)return ne(G,wl(G,H),q);Ll(G,H)}return null}function W(G,H,q,te){var xe=H!==null?H.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return xe!==null?null:R(G,H,""+q,te);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case y:return q.key===xe?P(G,H,q,te):null;case w:return q.key===xe?Y(G,H,q,te):null;case pe:return xe=q._init,q=xe(q._payload),W(G,H,q,te)}if(Ne(q)||Te(q))return xe!==null?null:$(G,H,q,te,null);if(typeof q.then=="function")return W(G,H,zl(q),te);if(q.$$typeof===j)return W(G,H,wl(G,q),te);Ll(G,q)}return null}function X(G,H,q,te,xe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return G=G.get(q)||null,R(H,G,""+te,xe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case y:return G=G.get(te.key===null?q:te.key)||null,P(H,G,te,xe);case w:return G=G.get(te.key===null?q:te.key)||null,Y(H,G,te,xe);case pe:var We=te._init;return te=We(te._payload),X(G,H,q,te,xe)}if(Ne(te)||Te(te))return G=G.get(q)||null,$(H,G,te,xe,null);if(typeof te.then=="function")return X(G,H,q,zl(te),xe);if(te.$$typeof===j)return X(G,H,q,wl(H,te),xe);Ll(H,te)}return null}function je(G,H,q,te){for(var xe=null,We=null,De=H,Le=H=0,Nt=null;De!==null&&Le<q.length;Le++){De.index>Le?(Nt=De,De=null):Nt=De.sibling;var rt=W(G,De,q[Le],te);if(rt===null){De===null&&(De=Nt);break}e&&De&&rt.alternate===null&&t(G,De),H=m(rt,H,Le),We===null?xe=rt:We.sibling=rt,We=rt,De=Nt}if(Le===q.length)return n(G,De),st&&Yn(G,Le),xe;if(De===null){for(;Le<q.length;Le++)De=ne(G,q[Le],te),De!==null&&(H=m(De,H,Le),We===null?xe=De:We.sibling=De,We=De);return st&&Yn(G,Le),xe}for(De=r(De);Le<q.length;Le++)Nt=X(De,G,Le,q[Le],te),Nt!==null&&(e&&Nt.alternate!==null&&De.delete(Nt.key===null?Le:Nt.key),H=m(Nt,H,Le),We===null?xe=Nt:We.sibling=Nt,We=Nt);return e&&De.forEach(function(Mn){return t(G,Mn)}),st&&Yn(G,Le),xe}function ze(G,H,q,te){if(q==null)throw Error(a(151));for(var xe=null,We=null,De=H,Le=H=0,Nt=null,rt=q.next();De!==null&&!rt.done;Le++,rt=q.next()){De.index>Le?(Nt=De,De=null):Nt=De.sibling;var Mn=W(G,De,rt.value,te);if(Mn===null){De===null&&(De=Nt);break}e&&De&&Mn.alternate===null&&t(G,De),H=m(Mn,H,Le),We===null?xe=Mn:We.sibling=Mn,We=Mn,De=Nt}if(rt.done)return n(G,De),st&&Yn(G,Le),xe;if(De===null){for(;!rt.done;Le++,rt=q.next())rt=ne(G,rt.value,te),rt!==null&&(H=m(rt,H,Le),We===null?xe=rt:We.sibling=rt,We=rt);return st&&Yn(G,Le),xe}for(De=r(De);!rt.done;Le++,rt=q.next())rt=X(De,G,Le,rt.value,te),rt!==null&&(e&&rt.alternate!==null&&De.delete(rt.key===null?Le:rt.key),H=m(rt,H,Le),We===null?xe=rt:We.sibling=rt,We=rt);return e&&De.forEach(function(Fv){return t(G,Fv)}),st&&Yn(G,Le),xe}function ft(G,H,q,te){if(typeof q=="object"&&q!==null&&q.type===_&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case y:e:{for(var xe=q.key;H!==null;){if(H.key===xe){if(xe=q.type,xe===_){if(H.tag===7){n(G,H.sibling),te=f(H,q.props.children),te.return=G,G=te;break e}}else if(H.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===pe&&cf(xe)===H.type){n(G,H.sibling),te=f(H,q.props),xr(te,q),te.return=G,G=te;break e}n(G,H);break}else t(G,H);H=H.sibling}q.type===_?(te=qn(q.props.children,G.mode,te,q.key),te.return=G,G=te):(te=ml(q.type,q.key,q.props,null,G.mode,te),xr(te,q),te.return=G,G=te)}return E(G);case w:e:{for(xe=q.key;H!==null;){if(H.key===xe)if(H.tag===4&&H.stateNode.containerInfo===q.containerInfo&&H.stateNode.implementation===q.implementation){n(G,H.sibling),te=f(H,q.children||[]),te.return=G,G=te;break e}else{n(G,H);break}else t(G,H);H=H.sibling}te=oo(q,G.mode,te),te.return=G,G=te}return E(G);case pe:return xe=q._init,q=xe(q._payload),ft(G,H,q,te)}if(Ne(q))return je(G,H,q,te);if(Te(q)){if(xe=Te(q),typeof xe!="function")throw Error(a(150));return q=xe.call(q),ze(G,H,q,te)}if(typeof q.then=="function")return ft(G,H,zl(q),te);if(q.$$typeof===j)return ft(G,H,wl(G,q),te);Ll(G,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,H!==null&&H.tag===6?(n(G,H.sibling),te=f(H,q),te.return=G,G=te):(n(G,H),te=so(q,G.mode,te),te.return=G,G=te),E(G)):n(G,H)}return function(G,H,q,te){try{wr=0;var xe=ft(G,H,q,te);return Ra=null,xe}catch(De){if(De===hr||De===El)throw De;var We=ti(29,De,null,G.mode);return We.lanes=te,We.return=G,We}finally{}}}var Ca=hf(!0),ff=hf(!1),mi=ee(null),Li=null;function mn(e){var t=e.alternate;J(Pt,Pt.current&1),J(mi,e),Li===null&&(t===null||Ea.current!==null||t.memoizedState!==null)&&(Li=e)}function df(e){if(e.tag===22){if(J(Pt,Pt.current),J(mi,e),Li===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Li=e)}}else vn()}function vn(){J(Pt,Pt.current),J(mi,mi.current)}function Ki(e){ge(mi),Li===e&&(Li=null),ge(Pt)}var Pt=ee(0);function Bl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Mu(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ko(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:g({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ri(),f=dn(r);f.payload=t,n!=null&&(f.callback=n),t=gn(e,f,r),t!==null&&(li(t,e,r),dr(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ri(),f=dn(r);f.tag=1,f.payload=t,n!=null&&(f.callback=n),t=gn(e,f,r),t!==null&&(li(t,e,r),dr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ri(),r=dn(n);r.tag=2,t!=null&&(r.callback=t),t=gn(e,r,n),t!==null&&(li(t,e,n),dr(t,e,n))}};function gf(e,t,n,r,f,m,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,m,E):t.prototype&&t.prototype.isPureReactComponent?!nr(n,r)||!nr(f,m):!0}function pf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function ea(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=g({},n));for(var f in e)n[f]===void 0&&(n[f]=e[f])}return n}var Nl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function mf(e){Nl(e)}function vf(e){console.error(e)}function yf(e){Nl(e)}function Hl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Tf(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Io(e,t,n){return n=dn(n),n.tag=3,n.payload={element:null},n.callback=function(){Hl(e,t)},n}function wf(e){return e=dn(e),e.tag=3,e}function xf(e,t,n,r){var f=n.type.getDerivedStateFromError;if(typeof f=="function"){var m=r.value;e.payload=function(){return f(m)},e.callback=function(){Tf(t,n,r)}}var E=n.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){Tf(t,n,r),typeof f!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this));var R=r.stack;this.componentDidCatch(r.value,{componentStack:R!==null?R:""})})}function Fm(e,t,n,r,f){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&or(t,n,f,!0),n=mi.current,n!==null){switch(n.tag){case 13:return Li===null?gu():n.alternate===null&&_t===0&&(_t=3),n.flags&=-257,n.flags|=65536,n.lanes=f,r===To?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),mu(e,r,f)),!1;case 22:return n.flags|=65536,r===To?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),mu(e,r,f)),!1}throw Error(a(435,n.tag))}return mu(e,r,f),gu(),!1}if(st)return t=mi.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=f,r!==ho&&(e=Error(a(422),{cause:r}),sr(fi(e,n)))):(r!==ho&&(t=Error(a(423),{cause:r}),sr(fi(t,n))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,r=fi(r,n),f=Io(e.stateNode,r,f),Eo(e,f),_t!==4&&(_t=2)),!1;var m=Error(a(520),{cause:r});if(m=fi(m,n),Dr===null?Dr=[m]:Dr.push(m),_t!==4&&(_t=2),t===null)return!0;r=fi(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=f&-f,n.lanes|=e,e=Io(n.stateNode,r,e),Eo(n,e),!1;case 1:if(t=n.type,m=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Sn===null||!Sn.has(m))))return n.flags|=65536,f&=-f,n.lanes|=f,f=wf(f),xf(f,e,n,r),Eo(n,f),!1}n=n.return}while(n!==null);return!1}var Ef=Error(a(461)),Lt=!1;function Ht(e,t,n,r){t.child=e===null?ff(t,null,n,r):Ca(t,e.child,n,r)}function Sf(e,t,n,r,f){n=n.render;var m=t.ref;if("ref"in r){var E={};for(var R in r)R!=="ref"&&(E[R]=r[R])}else E=r;return Kn(t),r=Co(e,t,n,E,m,f),R=Do(),e!==null&&!Lt?(Ao(e,t,f),Ji(e,t,f)):(st&&R&&uo(t),t.flags|=1,Ht(e,t,r,f),t.child)}function _f(e,t,n,r,f){if(e===null){var m=n.type;return typeof m=="function"&&!lo(m)&&m.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=m,bf(e,t,m,r,f)):(e=ml(n.type,null,r,t,t.mode,f),e.ref=t.ref,e.return=t,t.child=e)}if(m=e.child,!Jo(e,f)){var E=m.memoizedProps;if(n=n.compare,n=n!==null?n:nr,n(E,r)&&e.ref===t.ref)return Ji(e,t,f)}return t.flags|=1,e=qi(m,r),e.ref=t.ref,e.return=t,t.child=e}function bf(e,t,n,r,f){if(e!==null){var m=e.memoizedProps;if(nr(m,r)&&e.ref===t.ref)if(Lt=!1,t.pendingProps=r=m,Jo(e,f))(e.flags&131072)!==0&&(Lt=!0);else return t.lanes=e.lanes,Ji(e,t,f)}return qo(e,t,n,r,f)}function Rf(e,t,n){var r=t.pendingProps,f=r.children,m=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if((t.flags&128)!==0){if(r=m!==null?m.baseLanes|n:n,e!==null){for(f=t.child=e.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;t.childLanes=m&~r}else t.childLanes=0,t.child=null;return Cf(e,t,r,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&xl(t,m!==null?m.cachePool:null),m!==null?_h(t,m):_o(),df(t);else return t.lanes=t.childLanes=536870912,Cf(e,t,m!==null?m.baseLanes|n:n,n)}else m!==null?(xl(t,m.cachePool),_h(t,m),vn(),t.memoizedState=null):(e!==null&&xl(t,null),_o(),vn());return Ht(e,t,f,n),t.child}function Cf(e,t,n,r){var f=yo();return f=f===null?null:{parent:Mt._currentValue,pool:f},t.memoizedState={baseLanes:n,cachePool:f},e!==null&&xl(t,null),_o(),df(t),e!==null&&or(e,t,r,!0),null}function Ul(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(a(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function qo(e,t,n,r,f){return Kn(t),n=Co(e,t,n,r,void 0,f),r=Do(),e!==null&&!Lt?(Ao(e,t,f),Ji(e,t,f)):(st&&r&&uo(t),t.flags|=1,Ht(e,t,n,f),t.child)}function Df(e,t,n,r,f,m){return Kn(t),t.updateQueue=null,n=Rh(t,r,n,f),bh(e),r=Do(),e!==null&&!Lt?(Ao(e,t,m),Ji(e,t,m)):(st&&r&&uo(t),t.flags|=1,Ht(e,t,n,m),t.child)}function Af(e,t,n,r,f){if(Kn(t),t.stateNode===null){var m=va,E=n.contextType;typeof E=="object"&&E!==null&&(m=kt(E)),m=new n(r,m),t.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Vo,t.stateNode=m,m._reactInternals=t,m=t.stateNode,m.props=r,m.state=t.memoizedState,m.refs={},wo(t),E=n.contextType,m.context=typeof E=="object"&&E!==null?kt(E):va,m.state=t.memoizedState,E=n.getDerivedStateFromProps,typeof E=="function"&&(ko(t,n,E,r),m.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Vo.enqueueReplaceState(m,m.state,null),pr(t,r,m,f),gr(),m.state=t.memoizedState),typeof m.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){m=t.stateNode;var R=t.memoizedProps,P=ea(n,R);m.props=P;var Y=m.context,$=n.contextType;E=va,typeof $=="object"&&$!==null&&(E=kt($));var ne=n.getDerivedStateFromProps;$=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",R=t.pendingProps!==R,$||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(R||Y!==E)&&pf(t,m,r,E),fn=!1;var W=t.memoizedState;m.state=W,pr(t,r,m,f),gr(),Y=t.memoizedState,R||W!==Y||fn?(typeof ne=="function"&&(ko(t,n,ne,r),Y=t.memoizedState),(P=fn||gf(t,n,P,r,W,Y,E))?($||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=Y),m.props=r,m.state=Y,m.context=E,r=P):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{m=t.stateNode,xo(e,t),E=t.memoizedProps,$=ea(n,E),m.props=$,ne=t.pendingProps,W=m.context,Y=n.contextType,P=va,typeof Y=="object"&&Y!==null&&(P=kt(Y)),R=n.getDerivedStateFromProps,(Y=typeof R=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==ne||W!==P)&&pf(t,m,r,P),fn=!1,W=t.memoizedState,m.state=W,pr(t,r,m,f),gr();var X=t.memoizedState;E!==ne||W!==X||fn||e!==null&&e.dependencies!==null&&Tl(e.dependencies)?(typeof R=="function"&&(ko(t,n,R,r),X=t.memoizedState),($=fn||gf(t,n,$,r,W,X,P)||e!==null&&e.dependencies!==null&&Tl(e.dependencies))?(Y||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(r,X,P),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(r,X,P)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=X),m.props=r,m.state=X,m.context=P,r=$):(typeof m.componentDidUpdate!="function"||E===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),r=!1)}return m=r,Ul(e,t),r=(t.flags&128)!==0,m||r?(m=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:m.render(),t.flags|=1,e!==null&&r?(t.child=Ca(t,e.child,null,f),t.child=Ca(t,null,n,f)):Ht(e,t,n,f),t.memoizedState=m.state,e=t.child):e=Ji(e,t,f),e}function Of(e,t,n,r){return lr(),t.flags|=256,Ht(e,t,n,r),t.child}var Zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yo(e){return{baseLanes:e,cachePool:mh()}}function Wo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=vi),e}function Mf(e,t,n){var r=t.pendingProps,f=!1,m=(t.flags&128)!==0,E;if((E=m)||(E=e!==null&&e.memoizedState===null?!1:(Pt.current&2)!==0),E&&(f=!0,t.flags&=-129),E=(t.flags&32)!==0,t.flags&=-33,e===null){if(st){if(f?mn(t):vn(),st){var R=St,P;if(P=R){e:{for(P=R,R=zi;P.nodeType!==8;){if(!R){R=null;break e}if(P=Ri(P.nextSibling),P===null){R=null;break e}}R=P}R!==null?(t.memoizedState={dehydrated:R,treeContext:Zn!==null?{id:Zi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},P=ti(18,null,null,0),P.stateNode=R,P.return=t,t.child=P,Zt=t,St=null,P=!0):P=!1}P||Xn(t)}if(R=t.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return Mu(R)?t.lanes=32:t.lanes=536870912,null;Ki(t)}return R=r.children,r=r.fallback,f?(vn(),f=t.mode,R=Fl({mode:"hidden",children:R},f),r=qn(r,f,n,null),R.return=t,r.return=t,R.sibling=r,t.child=R,f=t.child,f.memoizedState=Yo(n),f.childLanes=Wo(e,E,n),t.memoizedState=Zo,r):(mn(t),Xo(t,R))}if(P=e.memoizedState,P!==null&&(R=P.dehydrated,R!==null)){if(m)t.flags&256?(mn(t),t.flags&=-257,t=Qo(e,t,n)):t.memoizedState!==null?(vn(),t.child=e.child,t.flags|=128,t=null):(vn(),f=r.fallback,R=t.mode,r=Fl({mode:"visible",children:r.children},R),f=qn(f,R,n,null),f.flags|=2,r.return=t,f.return=t,r.sibling=f,t.child=r,Ca(t,e.child,null,n),r=t.child,r.memoizedState=Yo(n),r.childLanes=Wo(e,E,n),t.memoizedState=Zo,t=f);else if(mn(t),Mu(R)){if(E=R.nextSibling&&R.nextSibling.dataset,E)var Y=E.dgst;E=Y,r=Error(a(419)),r.stack="",r.digest=E,sr({value:r,source:null,stack:null}),t=Qo(e,t,n)}else if(Lt||or(e,t,n,!1),E=(n&e.childLanes)!==0,Lt||E){if(E=gt,E!==null&&(r=n&-n,r=(r&42)!==0?1:Za(r),r=(r&(E.suspendedLanes|n))!==0?0:r,r!==0&&r!==P.retryLane))throw P.retryLane=r,ma(e,r),li(E,e,r),Ef;R.data==="$?"||gu(),t=Qo(e,t,n)}else R.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=P.treeContext,St=Ri(R.nextSibling),Zt=t,st=!0,Wn=null,zi=!1,e!==null&&(gi[pi++]=Zi,gi[pi++]=Yi,gi[pi++]=Zn,Zi=e.id,Yi=e.overflow,Zn=t),t=Xo(t,r.children),t.flags|=4096);return t}return f?(vn(),f=r.fallback,R=t.mode,P=e.child,Y=P.sibling,r=qi(P,{mode:"hidden",children:r.children}),r.subtreeFlags=P.subtreeFlags&65011712,Y!==null?f=qi(Y,f):(f=qn(f,R,n,null),f.flags|=2),f.return=t,r.return=t,r.sibling=f,t.child=r,r=f,f=t.child,R=e.child.memoizedState,R===null?R=Yo(n):(P=R.cachePool,P!==null?(Y=Mt._currentValue,P=P.parent!==Y?{parent:Y,pool:Y}:P):P=mh(),R={baseLanes:R.baseLanes|n,cachePool:P}),f.memoizedState=R,f.childLanes=Wo(e,E,n),t.memoizedState=Zo,r):(mn(t),n=e.child,e=n.sibling,n=qi(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(E=t.deletions,E===null?(t.deletions=[e],t.flags|=16):E.push(e)),t.child=n,t.memoizedState=null,n)}function Xo(e,t){return t=Fl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Fl(e,t){return e=ti(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Qo(e,t,n){return Ca(t,e.child,null,n),e=Xo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Pf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),go(e.return,t,n)}function Ko(e,t,n,r,f){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:f}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=r,m.tail=n,m.tailMode=f)}function zf(e,t,n){var r=t.pendingProps,f=r.revealOrder,m=r.tail;if(Ht(e,t,r.children,n),r=Pt.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pf(e,n,t);else if(e.tag===19)Pf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(J(Pt,r),f){case"forwards":for(n=t.child,f=null;n!==null;)e=n.alternate,e!==null&&Bl(e)===null&&(f=n),n=n.sibling;n=f,n===null?(f=t.child,t.child=null):(f=n.sibling,n.sibling=null),Ko(t,!1,f,n,m);break;case"backwards":for(n=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&Bl(e)===null){t.child=f;break}e=f.sibling,f.sibling=n,n=f,f=e}Ko(t,!0,n,null,m);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ji(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),En|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(or(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,n=qi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=qi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Jo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Tl(e)))}function jm(e,t,n){switch(t.tag){case 3:lt(t,t.stateNode.containerInfo),hn(t,Mt,e.memoizedState.cache),lr();break;case 27:case 5:vt(t);break;case 4:lt(t,t.stateNode.containerInfo);break;case 10:hn(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(mn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Mf(e,t,n):(mn(t),e=Ji(e,t,n),e!==null?e.sibling:null);mn(t);break;case 19:var f=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(or(e,t,n,!1),r=(n&t.childLanes)!==0),f){if(r)return zf(e,t,n);t.flags|=128}if(f=t.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),J(Pt,Pt.current),r)break;return null;case 22:case 23:return t.lanes=0,Rf(e,t,n);case 24:hn(t,Mt,e.memoizedState.cache)}return Ji(e,t,n)}function Lf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Lt=!0;else{if(!Jo(e,n)&&(t.flags&128)===0)return Lt=!1,jm(e,t,n);Lt=(e.flags&131072)!==0}else Lt=!1,st&&(t.flags&1048576)!==0&&uh(t,yl,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,f=r._init;if(r=f(r._payload),t.type=r,typeof r=="function")lo(r)?(e=ea(r,e),t.tag=1,t=Af(null,t,r,e,n)):(t.tag=0,t=qo(null,t,r,e,n));else{if(r!=null){if(f=r.$$typeof,f===ae){t.tag=11,t=Sf(null,t,r,e,n);break e}else if(f===he){t.tag=14,t=_f(null,t,r,e,n);break e}}throw t=Fe(r)||r,Error(a(306,t,""))}}return t;case 0:return qo(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,f=ea(r,t.pendingProps),Af(e,t,r,f,n);case 3:e:{if(lt(t,t.stateNode.containerInfo),e===null)throw Error(a(387));r=t.pendingProps;var m=t.memoizedState;f=m.element,xo(e,t),pr(t,r,null,n);var E=t.memoizedState;if(r=E.cache,hn(t,Mt,r),r!==m.cache&&po(t,[Mt],n,!0),gr(),r=E.element,m.isDehydrated)if(m={element:r,isDehydrated:!1,cache:E.cache},t.updateQueue.baseState=m,t.memoizedState=m,t.flags&256){t=Of(e,t,r,n);break e}else if(r!==f){f=fi(Error(a(424)),t),sr(f),t=Of(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(St=Ri(e.firstChild),Zt=t,st=!0,Wn=null,zi=!0,n=ff(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(lr(),r===f){t=Ji(e,t,n);break e}Ht(e,t,r,n)}t=t.child}return t;case 26:return Ul(e,t),e===null?(n=Ud(t.type,null,t.pendingProps,null))?t.memoizedState=n:st||(n=t.type,e=t.pendingProps,r=$l(Re.current).createElement(n),r[re]=t,r[ue]=e,Ft(r,n,e),at(r),t.stateNode=r):t.memoizedState=Ud(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return vt(t),e===null&&st&&(r=t.stateNode=Bd(t.type,t.pendingProps,Re.current),Zt=t,zi=!0,f=St,Rn(t.type)?(Pu=f,St=Ri(r.firstChild)):St=f),Ht(e,t,t.pendingProps.children,n),Ul(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&st&&((f=r=St)&&(r=gv(r,t.type,t.pendingProps,zi),r!==null?(t.stateNode=r,Zt=t,St=Ri(r.firstChild),zi=!1,f=!0):f=!1),f||Xn(t)),vt(t),f=t.type,m=t.pendingProps,E=e!==null?e.memoizedProps:null,r=m.children,Du(f,m)?r=null:E!==null&&Du(f,E)&&(t.flags|=32),t.memoizedState!==null&&(f=Co(e,t,Pm,null,null,n),Hr._currentValue=f),Ul(e,t),Ht(e,t,r,n),t.child;case 6:return e===null&&st&&((e=n=St)&&(n=pv(n,t.pendingProps,zi),n!==null?(t.stateNode=n,Zt=t,St=null,e=!0):e=!1),e||Xn(t)),null;case 13:return Mf(e,t,n);case 4:return lt(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ca(t,null,r,n):Ht(e,t,r,n),t.child;case 11:return Sf(e,t,t.type,t.pendingProps,n);case 7:return Ht(e,t,t.pendingProps,n),t.child;case 8:return Ht(e,t,t.pendingProps.children,n),t.child;case 12:return Ht(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,hn(t,t.type,r.value),Ht(e,t,r.children,n),t.child;case 9:return f=t.type._context,r=t.pendingProps.children,Kn(t),f=kt(f),r=r(f),t.flags|=1,Ht(e,t,r,n),t.child;case 14:return _f(e,t,t.type,t.pendingProps,n);case 15:return bf(e,t,t.type,t.pendingProps,n);case 19:return zf(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},e===null?(n=Fl(r,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=qi(e.child,r),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Rf(e,t,n);case 24:return Kn(t),r=kt(Mt),e===null?(f=yo(),f===null&&(f=gt,m=mo(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=n),f=m),t.memoizedState={parent:r,cache:f},wo(t),hn(t,Mt,f)):((e.lanes&n)!==0&&(xo(e,t),pr(t,null,null,n),gr()),f=e.memoizedState,m=t.memoizedState,f.parent!==r?(f={parent:r,cache:r},t.memoizedState=f,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=f),hn(t,Mt,r)):(r=m.cache,hn(t,Mt,r),r!==f.cache&&po(t,[Mt],n,!0))),Ht(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function $i(e){e.flags|=4}function Bf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vd(t)){if(t=mi.current,t!==null&&((tt&4194048)===tt?Li!==null:(tt&62914560)!==tt&&(tt&536870912)===0||t!==Li))throw fr=To,vh;e.flags|=8192}}function jl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?xi():536870912,e.lanes|=t,Ma|=t)}function Er(e,t){if(!st)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var f=e.child;f!==null;)n|=f.lanes|f.childLanes,r|=f.subtreeFlags&65011712,r|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)n|=f.lanes|f.childLanes,r|=f.subtreeFlags,r|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gm(e,t,n){var r=t.pendingProps;switch(co(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(t),null;case 1:return xt(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Xi(Mt),Yt(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(rr(t)?$i(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,fh())),xt(t),null;case 26:return n=t.memoizedState,e===null?($i(t),n!==null?(xt(t),Bf(t,n)):(xt(t),t.flags&=-16777217)):n?n!==e.memoizedState?($i(t),xt(t),Bf(t,n)):(xt(t),t.flags&=-16777217):(e.memoizedProps!==r&&$i(t),xt(t),t.flags&=-16777217),null;case 27:jt(t),n=Re.current;var f=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&$i(t);else{if(!r){if(t.stateNode===null)throw Error(a(166));return xt(t),null}e=we.current,rr(t)?ch(t):(e=Bd(f,r,n),t.stateNode=e,$i(t))}return xt(t),null;case 5:if(jt(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&$i(t);else{if(!r){if(t.stateNode===null)throw Error(a(166));return xt(t),null}if(e=we.current,rr(t))ch(t);else{switch(f=$l(Re.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?f.createElement("select",{is:r.is}):f.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?f.createElement(n,{is:r.is}):f.createElement(n)}}e[re]=t,e[ue]=r;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=e;e:switch(Ft(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&$i(t)}}return xt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&$i(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(a(166));if(e=Re.current,rr(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,f=Zt,f!==null)switch(f.tag){case 27:case 5:r=f.memoizedProps}e[re]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||Dd(e.nodeValue,n)),e||Xn(t)}else e=$l(e).createTextNode(r),e[re]=t,t.stateNode=e}return xt(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=rr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[re]=t}else lr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;xt(t),f=!1}else f=fh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return t.flags&256?(Ki(t),t):(Ki(t),null)}if(Ki(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,f=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(f=r.alternate.memoizedState.cachePool.pool);var m=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(m=r.memoizedState.cachePool.pool),m!==f&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),jl(t,t.updateQueue),xt(t),null;case 4:return Yt(),e===null&&Su(t.stateNode.containerInfo),xt(t),null;case 10:return Xi(t.type),xt(t),null;case 19:if(ge(Pt),f=t.memoizedState,f===null)return xt(t),null;if(r=(t.flags&128)!==0,m=f.rendering,m===null)if(r)Er(f,!1);else{if(_t!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=Bl(e),m!==null){for(t.flags|=128,Er(f,!1),e=m.updateQueue,t.updateQueue=e,jl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)oh(n,e),n=n.sibling;return J(Pt,Pt.current&1|2),t.child}e=e.sibling}f.tail!==null&&T()>Vl&&(t.flags|=128,r=!0,Er(f,!1),t.lanes=4194304)}else{if(!r)if(e=Bl(m),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,jl(t,e),Er(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!st)return xt(t),null}else 2*T()-f.renderingStartTime>Vl&&n!==536870912&&(t.flags|=128,r=!0,Er(f,!1),t.lanes=4194304);f.isBackwards?(m.sibling=t.child,t.child=m):(e=f.last,e!==null?e.sibling=m:t.child=m,f.last=m)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=T(),t.sibling=null,e=Pt.current,J(Pt,r?e&1|2:e&1),t):(xt(t),null);case 22:case 23:return Ki(t),bo(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(n&536870912)!==0&&(t.flags&128)===0&&(xt(t),t.subtreeFlags&6&&(t.flags|=8192)):xt(t),n=t.updateQueue,n!==null&&jl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&ge(Jn),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Xi(Mt),xt(t),null;case 25:return null;case 30:return null}throw Error(a(156,t.tag))}function km(e,t){switch(co(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xi(Mt),Yt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return jt(t),null;case 13:if(Ki(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));lr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(Pt),null;case 4:return Yt(),null;case 10:return Xi(t.type),null;case 22:case 23:return Ki(t),bo(),e!==null&&ge(Jn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Xi(Mt),null;case 25:return null;default:return null}}function Nf(e,t){switch(co(t),t.tag){case 3:Xi(Mt),Yt();break;case 26:case 27:case 5:jt(t);break;case 4:Yt();break;case 13:Ki(t);break;case 19:ge(Pt);break;case 10:Xi(t.type);break;case 22:case 23:Ki(t),bo(),e!==null&&ge(Jn);break;case 24:Xi(Mt)}}function Sr(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var f=r.next;n=f;do{if((n.tag&e)===e){r=void 0;var m=n.create,E=n.inst;r=m(),E.destroy=r}n=n.next}while(n!==f)}}catch(R){dt(t,t.return,R)}}function yn(e,t,n){try{var r=t.updateQueue,f=r!==null?r.lastEffect:null;if(f!==null){var m=f.next;r=m;do{if((r.tag&e)===e){var E=r.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,f=t;var P=n,Y=R;try{Y()}catch($){dt(f,P,$)}}}r=r.next}while(r!==m)}}catch($){dt(t,t.return,$)}}function Hf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Sh(t,n)}catch(r){dt(e,e.return,r)}}}function Uf(e,t,n){n.props=ea(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){dt(e,t,r)}}function _r(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(f){dt(e,t,f)}}function Bi(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(f){dt(e,t,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(f){dt(e,t,f)}else n.current=null}function Ff(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(f){dt(e,e.return,f)}}function $o(e,t,n){try{var r=e.stateNode;uv(r,e.type,n,t),r[ue]=t}catch(f){dt(e,e.return,f)}}function jf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Rn(e.type)||e.tag===4}function eu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Rn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Jl));else if(r!==4&&(r===27&&Rn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(tu(e,t,n),e=e.sibling;e!==null;)tu(e,t,n),e=e.sibling}function Gl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Rn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Gl(e,t,n),e=e.sibling;e!==null;)Gl(e,t,n),e=e.sibling}function Gf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,f=t.attributes;f.length;)t.removeAttributeNode(f[0]);Ft(t,r,n),t[re]=e,t[ue]=n}catch(m){dt(e,e.return,m)}}var en=!1,Ct=!1,iu=!1,kf=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function Vm(e,t){if(e=e.containerInfo,Ru=rs,e=Jc(e),$s(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var f=r.anchorOffset,m=r.focusNode;r=r.focusOffset;try{n.nodeType,m.nodeType}catch{n=null;break e}var E=0,R=-1,P=-1,Y=0,$=0,ne=e,W=null;t:for(;;){for(var X;ne!==n||f!==0&&ne.nodeType!==3||(R=E+f),ne!==m||r!==0&&ne.nodeType!==3||(P=E+r),ne.nodeType===3&&(E+=ne.nodeValue.length),(X=ne.firstChild)!==null;)W=ne,ne=X;for(;;){if(ne===e)break t;if(W===n&&++Y===f&&(R=E),W===m&&++$===r&&(P=E),(X=ne.nextSibling)!==null)break;ne=W,W=ne.parentNode}ne=X}n=R===-1||P===-1?null:{start:R,end:P}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cu={focusedElem:e,selectionRange:n},rs=!1,Bt=t;Bt!==null;)if(t=Bt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Bt=e;else for(;Bt!==null;){switch(t=Bt,m=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,n=t,f=m.memoizedProps,m=m.memoizedState,r=n.stateNode;try{var je=ea(n.type,f,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(je,m),r.__reactInternalSnapshotBeforeUpdate=e}catch(ze){dt(n,n.return,ze)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Ou(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ou(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=t.sibling,e!==null){e.return=t.return,Bt=e;break}Bt=t.return}}function Vf(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Tn(e,n),r&4&&Sr(5,n);break;case 1:if(Tn(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(E){dt(n,n.return,E)}else{var f=ea(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(f,t,e.__reactInternalSnapshotBeforeUpdate)}catch(E){dt(n,n.return,E)}}r&64&&Hf(n),r&512&&_r(n,n.return);break;case 3:if(Tn(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Sh(e,t)}catch(E){dt(n,n.return,E)}}break;case 27:t===null&&r&4&&Gf(n);case 26:case 5:Tn(e,n),t===null&&r&4&&Ff(n),r&512&&_r(n,n.return);break;case 12:Tn(e,n);break;case 13:Tn(e,n),r&4&&Zf(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Jm.bind(null,n),mv(e,n))));break;case 22:if(r=n.memoizedState!==null||en,!r){t=t!==null&&t.memoizedState!==null||Ct,f=en;var m=Ct;en=r,(Ct=t)&&!m?wn(e,n,(n.subtreeFlags&8772)!==0):Tn(e,n),en=f,Ct=m}break;case 30:break;default:Tn(e,n)}}function If(e){var t=e.alternate;t!==null&&(e.alternate=null,If(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ce(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tt=null,Jt=!1;function tn(e,t,n){for(n=n.child;n!==null;)qf(e,t,n),n=n.sibling}function qf(e,t,n){if(me&&typeof me.onCommitFiberUnmount=="function")try{me.onCommitFiberUnmount(qe,n)}catch{}switch(n.tag){case 26:Ct||Bi(n,t),tn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ct||Bi(n,t);var r=Tt,f=Jt;Rn(n.type)&&(Tt=n.stateNode,Jt=!1),tn(e,t,n),zr(n.stateNode),Tt=r,Jt=f;break;case 5:Ct||Bi(n,t);case 6:if(r=Tt,f=Jt,Tt=null,tn(e,t,n),Tt=r,Jt=f,Tt!==null)if(Jt)try{(Tt.nodeType===9?Tt.body:Tt.nodeName==="HTML"?Tt.ownerDocument.body:Tt).removeChild(n.stateNode)}catch(m){dt(n,t,m)}else try{Tt.removeChild(n.stateNode)}catch(m){dt(n,t,m)}break;case 18:Tt!==null&&(Jt?(e=Tt,zd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Gr(e)):zd(Tt,n.stateNode));break;case 4:r=Tt,f=Jt,Tt=n.stateNode.containerInfo,Jt=!0,tn(e,t,n),Tt=r,Jt=f;break;case 0:case 11:case 14:case 15:Ct||yn(2,n,t),Ct||yn(4,n,t),tn(e,t,n);break;case 1:Ct||(Bi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&Uf(n,t,r)),tn(e,t,n);break;case 21:tn(e,t,n);break;case 22:Ct=(r=Ct)||n.memoizedState!==null,tn(e,t,n),Ct=r;break;default:tn(e,t,n)}}function Zf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Gr(e)}catch(n){dt(t,t.return,n)}}function Im(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new kf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new kf),t;default:throw Error(a(435,e.tag))}}function nu(e,t){var n=Im(e);t.forEach(function(r){var f=$m.bind(null,e,r);n.has(r)||(n.add(r),r.then(f,f))})}function ii(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var f=n[r],m=e,E=t,R=E;e:for(;R!==null;){switch(R.tag){case 27:if(Rn(R.type)){Tt=R.stateNode,Jt=!1;break e}break;case 5:Tt=R.stateNode,Jt=!1;break e;case 3:case 4:Tt=R.stateNode.containerInfo,Jt=!0;break e}R=R.return}if(Tt===null)throw Error(a(160));qf(m,E,f),Tt=null,Jt=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Yf(t,e),t=t.sibling}var bi=null;function Yf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ii(t,e),ni(e),r&4&&(yn(3,e,e.return),Sr(3,e),yn(5,e,e.return));break;case 1:ii(t,e),ni(e),r&512&&(Ct||n===null||Bi(n,n.return)),r&64&&en&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var f=bi;if(ii(t,e),ni(e),r&512&&(Ct||n===null||Bi(n,n.return)),r&4){var m=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,f=f.ownerDocument||f;t:switch(r){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ue]||m[re]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(r),f.head.insertBefore(m,f.querySelector("head > title"))),Ft(m,r,n),m[re]=e,at(m),r=m;break e;case"link":var E=Gd("link","href",f).get(r+(n.href||""));if(E){for(var R=0;R<E.length;R++)if(m=E[R],m.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&m.getAttribute("rel")===(n.rel==null?null:n.rel)&&m.getAttribute("title")===(n.title==null?null:n.title)&&m.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){E.splice(R,1);break t}}m=f.createElement(r),Ft(m,r,n),f.head.appendChild(m);break;case"meta":if(E=Gd("meta","content",f).get(r+(n.content||""))){for(R=0;R<E.length;R++)if(m=E[R],m.getAttribute("content")===(n.content==null?null:""+n.content)&&m.getAttribute("name")===(n.name==null?null:n.name)&&m.getAttribute("property")===(n.property==null?null:n.property)&&m.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&m.getAttribute("charset")===(n.charSet==null?null:n.charSet)){E.splice(R,1);break t}}m=f.createElement(r),Ft(m,r,n),f.head.appendChild(m);break;default:throw Error(a(468,r))}m[re]=e,at(m),r=m}e.stateNode=r}else kd(f,e.type,e.stateNode);else e.stateNode=jd(f,r,e.memoizedProps);else m!==r?(m===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):m.count--,r===null?kd(f,e.type,e.stateNode):jd(f,r,e.memoizedProps)):r===null&&e.stateNode!==null&&$o(e,e.memoizedProps,n.memoizedProps)}break;case 27:ii(t,e),ni(e),r&512&&(Ct||n===null||Bi(n,n.return)),n!==null&&r&4&&$o(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ii(t,e),ni(e),r&512&&(Ct||n===null||Bi(n,n.return)),e.flags&32){f=e.stateNode;try{ua(f,"")}catch(X){dt(e,e.return,X)}}r&4&&e.stateNode!=null&&(f=e.memoizedProps,$o(e,f,n!==null?n.memoizedProps:f)),r&1024&&(iu=!0);break;case 6:if(ii(t,e),ni(e),r&4){if(e.stateNode===null)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(X){dt(e,e.return,X)}}break;case 3:if(is=null,f=bi,bi=es(t.containerInfo),ii(t,e),bi=f,ni(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gr(t.containerInfo)}catch(X){dt(e,e.return,X)}iu&&(iu=!1,Wf(e));break;case 4:r=bi,bi=es(e.stateNode.containerInfo),ii(t,e),ni(e),bi=r;break;case 12:ii(t,e),ni(e);break;case 13:ii(t,e),ni(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(uu=T()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,nu(e,r)));break;case 22:f=e.memoizedState!==null;var P=n!==null&&n.memoizedState!==null,Y=en,$=Ct;if(en=Y||f,Ct=$||P,ii(t,e),Ct=$,en=Y,ni(e),r&8192)e:for(t=e.stateNode,t._visibility=f?t._visibility&-2:t._visibility|1,f&&(n===null||P||en||Ct||ta(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){P=n=t;try{if(m=P.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{R=P.stateNode;var ne=P.memoizedProps.style,W=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;R.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(X){dt(P,P.return,X)}}}else if(t.tag===6){if(n===null){P=t;try{P.stateNode.nodeValue=f?"":P.memoizedProps}catch(X){dt(P,P.return,X)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,nu(e,n))));break;case 19:ii(t,e),ni(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,nu(e,r)));break;case 30:break;case 21:break;default:ii(t,e),ni(e)}}function ni(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(jf(r)){n=r;break}r=r.return}if(n==null)throw Error(a(160));switch(n.tag){case 27:var f=n.stateNode,m=eu(e);Gl(e,m,f);break;case 5:var E=n.stateNode;n.flags&32&&(ua(E,""),n.flags&=-33);var R=eu(e);Gl(e,R,E);break;case 3:case 4:var P=n.stateNode.containerInfo,Y=eu(e);tu(e,Y,P);break;default:throw Error(a(161))}}catch($){dt(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Wf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Tn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Vf(e,t.alternate,t),t=t.sibling}function ta(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yn(4,t,t.return),ta(t);break;case 1:Bi(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Uf(t,t.return,n),ta(t);break;case 27:zr(t.stateNode);case 26:case 5:Bi(t,t.return),ta(t);break;case 22:t.memoizedState===null&&ta(t);break;case 30:ta(t);break;default:ta(t)}e=e.sibling}}function wn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,f=e,m=t,E=m.flags;switch(m.tag){case 0:case 11:case 15:wn(f,m,n),Sr(4,m);break;case 1:if(wn(f,m,n),r=m,f=r.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){dt(r,r.return,Y)}if(r=m,f=r.updateQueue,f!==null){var R=r.stateNode;try{var P=f.shared.hiddenCallbacks;if(P!==null)for(f.shared.hiddenCallbacks=null,f=0;f<P.length;f++)Eh(P[f],R)}catch(Y){dt(r,r.return,Y)}}n&&E&64&&Hf(m),_r(m,m.return);break;case 27:Gf(m);case 26:case 5:wn(f,m,n),n&&r===null&&E&4&&Ff(m),_r(m,m.return);break;case 12:wn(f,m,n);break;case 13:wn(f,m,n),n&&E&4&&Zf(f,m);break;case 22:m.memoizedState===null&&wn(f,m,n),_r(m,m.return);break;case 30:break;default:wn(f,m,n)}t=t.sibling}}function au(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ur(n))}function ru(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ur(e))}function Ni(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xf(e,t,n,r),t=t.sibling}function Xf(e,t,n,r){var f=t.flags;switch(t.tag){case 0:case 11:case 15:Ni(e,t,n,r),f&2048&&Sr(9,t);break;case 1:Ni(e,t,n,r);break;case 3:Ni(e,t,n,r),f&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ur(e)));break;case 12:if(f&2048){Ni(e,t,n,r),e=t.stateNode;try{var m=t.memoizedProps,E=m.id,R=m.onPostCommit;typeof R=="function"&&R(E,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(P){dt(t,t.return,P)}}else Ni(e,t,n,r);break;case 13:Ni(e,t,n,r);break;case 23:break;case 22:m=t.stateNode,E=t.alternate,t.memoizedState!==null?m._visibility&2?Ni(e,t,n,r):br(e,t):m._visibility&2?Ni(e,t,n,r):(m._visibility|=2,Da(e,t,n,r,(t.subtreeFlags&10256)!==0)),f&2048&&au(E,t);break;case 24:Ni(e,t,n,r),f&2048&&ru(t.alternate,t);break;default:Ni(e,t,n,r)}}function Da(e,t,n,r,f){for(f=f&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var m=e,E=t,R=n,P=r,Y=E.flags;switch(E.tag){case 0:case 11:case 15:Da(m,E,R,P,f),Sr(8,E);break;case 23:break;case 22:var $=E.stateNode;E.memoizedState!==null?$._visibility&2?Da(m,E,R,P,f):br(m,E):($._visibility|=2,Da(m,E,R,P,f)),f&&Y&2048&&au(E.alternate,E);break;case 24:Da(m,E,R,P,f),f&&Y&2048&&ru(E.alternate,E);break;default:Da(m,E,R,P,f)}t=t.sibling}}function br(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,f=r.flags;switch(r.tag){case 22:br(n,r),f&2048&&au(r.alternate,r);break;case 24:br(n,r),f&2048&&ru(r.alternate,r);break;default:br(n,r)}t=t.sibling}}var Rr=8192;function Aa(e){if(e.subtreeFlags&Rr)for(e=e.child;e!==null;)Qf(e),e=e.sibling}function Qf(e){switch(e.tag){case 26:Aa(e),e.flags&Rr&&e.memoizedState!==null&&Av(bi,e.memoizedState,e.memoizedProps);break;case 5:Aa(e);break;case 3:case 4:var t=bi;bi=es(e.stateNode.containerInfo),Aa(e),bi=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Rr,Rr=16777216,Aa(e),Rr=t):Aa(e));break;default:Aa(e)}}function Kf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Cr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Bt=r,$f(r,e)}Kf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Jf(e),e=e.sibling}function Jf(e){switch(e.tag){case 0:case 11:case 15:Cr(e),e.flags&2048&&yn(9,e,e.return);break;case 3:Cr(e);break;case 12:Cr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,kl(e)):Cr(e);break;default:Cr(e)}}function kl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Bt=r,$f(r,e)}Kf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:yn(8,t,t.return),kl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,kl(t));break;default:kl(t)}e=e.sibling}}function $f(e,t){for(;Bt!==null;){var n=Bt;switch(n.tag){case 0:case 11:case 15:yn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ur(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Bt=r;else e:for(n=e;Bt!==null;){r=Bt;var f=r.sibling,m=r.return;if(If(r),r===n){Bt=null;break e}if(f!==null){f.return=m,Bt=f;break e}Bt=m}}}var qm={getCacheForType:function(e){var t=kt(Mt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Zm=typeof WeakMap=="function"?WeakMap:Map,ot=0,gt=null,Ke=null,tt=0,ut=0,ai=null,xn=!1,Oa=!1,lu=!1,nn=0,_t=0,En=0,ia=0,su=0,vi=0,Ma=0,Dr=null,$t=null,ou=!1,uu=0,Vl=1/0,Il=null,Sn=null,Ut=0,_n=null,Pa=null,za=0,cu=0,hu=null,ed=null,Ar=0,fu=null;function ri(){if((ot&2)!==0&&tt!==0)return tt&-tt;if(k.T!==null){var e=wa;return e!==0?e:Tu()}return B()}function td(){vi===0&&(vi=(tt&536870912)===0||st?pt():536870912);var e=mi.current;return e!==null&&(e.flags|=32),vi}function li(e,t,n){(e===gt&&(ut===2||ut===9)||e.cancelPendingCommit!==null)&&(La(e,0),bn(e,tt,vi,!1)),Pi(e,n),((ot&2)===0||e!==gt)&&(e===gt&&((ot&2)===0&&(ia|=n),_t===4&&bn(e,tt,vi,!1)),Hi(e))}function id(e,t,n){if((ot&6)!==0)throw Error(a(327));var r=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Se(e,t),f=r?Xm(e,t):pu(e,t,!0),m=r;do{if(f===0){Oa&&!r&&bn(e,t,0,!1);break}else{if(n=e.current.alternate,m&&!Ym(n)){f=pu(e,t,!1),m=!1;continue}if(f===2){if(m=t,e.errorRecoveryDisabledLanes&m)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){t=E;e:{var R=e;f=Dr;var P=R.current.memoizedState.isDehydrated;if(P&&(La(R,E).flags|=256),E=pu(R,E,!1),E!==2){if(lu&&!P){R.errorRecoveryDisabledLanes|=m,ia|=m,f=4;break e}m=$t,$t=f,m!==null&&($t===null?$t=m:$t.push.apply($t,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){La(e,0),bn(e,t,0,!0);break}e:{switch(r=e,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((t&4194048)!==t)break;case 6:bn(r,t,vi,!xn);break e;case 2:$t=null;break;case 3:case 5:break;default:throw Error(a(329))}if((t&62914560)===t&&(f=uu+300-T(),10<f)){if(bn(r,t,vi,!xn),Qe(r,0,!0)!==0)break e;r.timeoutHandle=Md(nd.bind(null,r,n,$t,Il,ou,t,vi,ia,Ma,xn,m,2,-0,0),f);break e}nd(r,n,$t,Il,ou,t,vi,ia,Ma,xn,m,0,-0,0)}}break}while(!0);Hi(e)}function nd(e,t,n,r,f,m,E,R,P,Y,$,ne,W,X){if(e.timeoutHandle=-1,ne=t.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(Nr={stylesheets:null,count:0,unsuspend:Dv},Qf(t),ne=Ov(),ne!==null)){e.cancelPendingCommit=ne(cd.bind(null,e,t,m,n,r,f,E,R,P,$,1,W,X)),bn(e,m,E,!Y);return}cd(e,t,m,n,r,f,E,R,P)}function Ym(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var f=n[r],m=f.getSnapshot;f=f.value;try{if(!ei(m(),f))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bn(e,t,n,r){t&=~su,t&=~ia,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var f=t;0<f;){var m=31-S(f),E=1<<m;r[m]=-1,f&=~E}n!==0&&Fn(e,n,t)}function ql(){return(ot&6)===0?(Or(0),!1):!0}function du(){if(Ke!==null){if(ut===0)var e=Ke.return;else e=Ke,Wi=Qn=null,Oo(e),Ra=null,wr=0,e=Ke;for(;e!==null;)Nf(e.alternate,e),e=e.return;Ke=null}}function La(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,hv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),du(),gt=e,Ke=n=qi(e.current,null),tt=t,ut=0,ai=null,xn=!1,Oa=Se(e,t),lu=!1,Ma=vi=su=ia=En=_t=0,$t=Dr=null,ou=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var f=31-S(r),m=1<<f;t|=e[f],r&=~m}return nn=t,dl(),n}function ad(e,t){Ze=null,k.H=Pl,t===hr||t===El?(t=wh(),ut=3):t===vh?(t=wh(),ut=4):ut=t===Ef?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ai=t,Ke===null&&(_t=1,Hl(e,fi(t,e.current)))}function rd(){var e=k.H;return k.H=Pl,e===null?Pl:e}function ld(){var e=k.A;return k.A=qm,e}function gu(){_t=4,xn||(tt&4194048)!==tt&&mi.current!==null||(Oa=!0),(En&134217727)===0&&(ia&134217727)===0||gt===null||bn(gt,tt,vi,!1)}function pu(e,t,n){var r=ot;ot|=2;var f=rd(),m=ld();(gt!==e||tt!==t)&&(Il=null,La(e,t)),t=!1;var E=_t;e:do try{if(ut!==0&&Ke!==null){var R=Ke,P=ai;switch(ut){case 8:du(),E=6;break e;case 3:case 2:case 9:case 6:mi.current===null&&(t=!0);var Y=ut;if(ut=0,ai=null,Ba(e,R,P,Y),n&&Oa){E=0;break e}break;default:Y=ut,ut=0,ai=null,Ba(e,R,P,Y)}}Wm(),E=_t;break}catch($){ad(e,$)}while(!0);return t&&e.shellSuspendCounter++,Wi=Qn=null,ot=r,k.H=f,k.A=m,Ke===null&&(gt=null,tt=0,dl()),E}function Wm(){for(;Ke!==null;)sd(Ke)}function Xm(e,t){var n=ot;ot|=2;var r=rd(),f=ld();gt!==e||tt!==t?(Il=null,Vl=T()+500,La(e,t)):Oa=Se(e,t);e:do try{if(ut!==0&&Ke!==null){t=Ke;var m=ai;t:switch(ut){case 1:ut=0,ai=null,Ba(e,t,m,1);break;case 2:case 9:if(yh(m)){ut=0,ai=null,od(t);break}t=function(){ut!==2&&ut!==9||gt!==e||(ut=7),Hi(e)},m.then(t,t);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:yh(m)?(ut=0,ai=null,od(t)):(ut=0,ai=null,Ba(e,t,m,7));break;case 5:var E=null;switch(Ke.tag){case 26:E=Ke.memoizedState;case 5:case 27:var R=Ke;if(!E||Vd(E)){ut=0,ai=null;var P=R.sibling;if(P!==null)Ke=P;else{var Y=R.return;Y!==null?(Ke=Y,Zl(Y)):Ke=null}break t}}ut=0,ai=null,Ba(e,t,m,5);break;case 6:ut=0,ai=null,Ba(e,t,m,6);break;case 8:du(),_t=6;break e;default:throw Error(a(462))}}Qm();break}catch($){ad(e,$)}while(!0);return Wi=Qn=null,k.H=r,k.A=f,ot=n,Ke!==null?0:(gt=null,tt=0,dl(),_t)}function Qm(){for(;Ke!==null&&!Gi();)sd(Ke)}function sd(e){var t=Lf(e.alternate,e,nn);e.memoizedProps=e.pendingProps,t===null?Zl(e):Ke=t}function od(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Df(n,t,t.pendingProps,t.type,void 0,tt);break;case 11:t=Df(n,t,t.pendingProps,t.type.render,t.ref,tt);break;case 5:Oo(t);default:Nf(n,t),t=Ke=oh(t,nn),t=Lf(n,t,nn)}e.memoizedProps=e.pendingProps,t===null?Zl(e):Ke=t}function Ba(e,t,n,r){Wi=Qn=null,Oo(t),Ra=null,wr=0;var f=t.return;try{if(Fm(e,f,t,n,tt)){_t=1,Hl(e,fi(n,e.current)),Ke=null;return}}catch(m){if(f!==null)throw Ke=f,m;_t=1,Hl(e,fi(n,e.current)),Ke=null;return}t.flags&32768?(st||r===1?e=!0:Oa||(tt&536870912)!==0?e=!1:(xn=e=!0,(r===2||r===9||r===3||r===6)&&(r=mi.current,r!==null&&r.tag===13&&(r.flags|=16384))),ud(t,e)):Zl(t)}function Zl(e){var t=e;do{if((t.flags&32768)!==0){ud(t,xn);return}e=t.return;var n=Gm(t.alternate,t,nn);if(n!==null){Ke=n;return}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);_t===0&&(_t=5)}function ud(e,t){do{var n=km(e.alternate,e);if(n!==null){n.flags&=32767,Ke=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ke=e;return}Ke=e=n}while(e!==null);_t=6,Ke=null}function cd(e,t,n,r,f,m,E,R,P){e.cancelPendingCommit=null;do Yl();while(Ut!==0);if((ot&6)!==0)throw Error(a(327));if(t!==null){if(t===e.current)throw Error(a(177));if(m=t.lanes|t.childLanes,m|=ao,Un(e,n,m,E,R,P),e===gt&&(Ke=gt=null,tt=0),Pa=t,_n=e,za=n,cu=m,hu=f,ed=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ev(ce,function(){return pd(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=k.T,k.T=null,f=oe.p,oe.p=2,E=ot,ot|=4;try{Vm(e,t,n)}finally{ot=E,oe.p=f,k.T=r}}Ut=1,hd(),fd(),dd()}}function hd(){if(Ut===1){Ut=0;var e=_n,t=Pa,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=k.T,k.T=null;var r=oe.p;oe.p=2;var f=ot;ot|=4;try{Yf(t,e);var m=Cu,E=Jc(e.containerInfo),R=m.focusedElem,P=m.selectionRange;if(E!==R&&R&&R.ownerDocument&&Kc(R.ownerDocument.documentElement,R)){if(P!==null&&$s(R)){var Y=P.start,$=P.end;if($===void 0&&($=Y),"selectionStart"in R)R.selectionStart=Y,R.selectionEnd=Math.min($,R.value.length);else{var ne=R.ownerDocument||document,W=ne&&ne.defaultView||window;if(W.getSelection){var X=W.getSelection(),je=R.textContent.length,ze=Math.min(P.start,je),ft=P.end===void 0?ze:Math.min(P.end,je);!X.extend&&ze>ft&&(E=ft,ft=ze,ze=E);var G=Qc(R,ze),H=Qc(R,ft);if(G&&H&&(X.rangeCount!==1||X.anchorNode!==G.node||X.anchorOffset!==G.offset||X.focusNode!==H.node||X.focusOffset!==H.offset)){var q=ne.createRange();q.setStart(G.node,G.offset),X.removeAllRanges(),ze>ft?(X.addRange(q),X.extend(H.node,H.offset)):(q.setEnd(H.node,H.offset),X.addRange(q))}}}}for(ne=[],X=R;X=X.parentNode;)X.nodeType===1&&ne.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ne.length;R++){var te=ne[R];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}rs=!!Ru,Cu=Ru=null}finally{ot=f,oe.p=r,k.T=n}}e.current=t,Ut=2}}function fd(){if(Ut===2){Ut=0;var e=_n,t=Pa,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=k.T,k.T=null;var r=oe.p;oe.p=2;var f=ot;ot|=4;try{Vf(e,t.alternate,t)}finally{ot=f,oe.p=r,k.T=n}}Ut=3}}function dd(){if(Ut===4||Ut===3){Ut=0,Mi();var e=_n,t=Pa,n=za,r=ed;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ut=5:(Ut=0,Pa=_n=null,gd(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Sn=null),Ya(n),t=t.stateNode,me&&typeof me.onCommitFiberRoot=="function")try{me.onCommitFiberRoot(qe,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=k.T,f=oe.p,oe.p=2,k.T=null;try{for(var m=e.onRecoverableError,E=0;E<r.length;E++){var R=r[E];m(R.value,{componentStack:R.stack})}}finally{k.T=t,oe.p=f}}(za&3)!==0&&Yl(),Hi(e),f=e.pendingLanes,(n&4194090)!==0&&(f&42)!==0?e===fu?Ar++:(Ar=0,fu=e):Ar=0,Or(0)}}function gd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ur(t)))}function Yl(e){return hd(),fd(),dd(),pd()}function pd(){if(Ut!==5)return!1;var e=_n,t=cu;cu=0;var n=Ya(za),r=k.T,f=oe.p;try{oe.p=32>n?32:n,k.T=null,n=hu,hu=null;var m=_n,E=za;if(Ut=0,Pa=_n=null,za=0,(ot&6)!==0)throw Error(a(331));var R=ot;if(ot|=4,Jf(m.current),Xf(m,m.current,E,n),ot=R,Or(0,!1),me&&typeof me.onPostCommitFiberRoot=="function")try{me.onPostCommitFiberRoot(qe,m)}catch{}return!0}finally{oe.p=f,k.T=r,gd(e,t)}}function md(e,t,n){t=fi(n,t),t=Io(e.stateNode,t,2),e=gn(e,t,2),e!==null&&(Pi(e,2),Hi(e))}function dt(e,t,n){if(e.tag===3)md(e,e,n);else for(;t!==null;){if(t.tag===3){md(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sn===null||!Sn.has(r))){e=fi(n,e),n=wf(2),r=gn(t,n,2),r!==null&&(xf(n,r,t,e),Pi(r,2),Hi(r));break}}t=t.return}}function mu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Zm;var f=new Set;r.set(t,f)}else f=r.get(t),f===void 0&&(f=new Set,r.set(t,f));f.has(n)||(lu=!0,f.add(n),e=Km.bind(null,e,t,n),t.then(e,e))}function Km(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,gt===e&&(tt&n)===n&&(_t===4||_t===3&&(tt&62914560)===tt&&300>T()-uu?(ot&2)===0&&La(e,0):su|=n,Ma===tt&&(Ma=0)),Hi(e)}function vd(e,t){t===0&&(t=xi()),e=ma(e,t),e!==null&&(Pi(e,t),Hi(e))}function Jm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vd(e,n)}function $m(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,f=e.memoizedState;f!==null&&(n=f.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}r!==null&&r.delete(t),vd(e,n)}function ev(e,t){return Oi(e,t)}var Wl=null,Na=null,vu=!1,Xl=!1,yu=!1,na=0;function Hi(e){e!==Na&&e.next===null&&(Na===null?Wl=Na=e:Na=Na.next=e),Xl=!0,vu||(vu=!0,iv())}function Or(e,t){if(!yu&&Xl){yu=!0;do for(var n=!1,r=Wl;r!==null;){if(e!==0){var f=r.pendingLanes;if(f===0)var m=0;else{var E=r.suspendedLanes,R=r.pingedLanes;m=(1<<31-S(42|e)+1)-1,m&=f&~(E&~R),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(n=!0,xd(r,m))}else m=tt,m=Qe(r,r===gt?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(m&3)===0||Se(r,m)||(n=!0,xd(r,m));r=r.next}while(n);yu=!1}}function tv(){yd()}function yd(){Xl=vu=!1;var e=0;na!==0&&(cv()&&(e=na),na=0);for(var t=T(),n=null,r=Wl;r!==null;){var f=r.next,m=Td(r,t);m===0?(r.next=null,n===null?Wl=f:n.next=f,f===null&&(Na=n)):(n=r,(e!==0||(m&3)!==0)&&(Xl=!0)),r=f}Or(e)}function Td(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var E=31-S(m),R=1<<E,P=f[E];P===-1?((R&n)===0||(R&r)!==0)&&(f[E]=zt(R,t)):P<=t&&(e.expiredLanes|=R),m&=~R}if(t=gt,n=tt,n=Qe(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(ut===2||ut===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&It(r),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Se(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&It(r),Ya(n)){case 2:case 8:n=le;break;case 32:n=ce;break;case 268435456:n=ie;break;default:n=ce}return r=wd.bind(null,e),n=Oi(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&It(r),e.callbackPriority=2,e.callbackNode=null,2}function wd(e,t){if(Ut!==0&&Ut!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Yl()&&e.callbackNode!==n)return null;var r=tt;return r=Qe(e,e===gt?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(id(e,r,t),Td(e,T()),e.callbackNode!=null&&e.callbackNode===n?wd.bind(null,e):null)}function xd(e,t){if(Yl())return null;id(e,t,!0)}function iv(){fv(function(){(ot&6)!==0?Oi(Z,tv):yd()})}function Tu(){return na===0&&(na=pt()),na}function Ed(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ll(""+e)}function Sd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function nv(e,t,n,r,f){if(t==="submit"&&n&&n.stateNode===f){var m=Ed((f[ue]||null).action),E=r.submitter;E&&(t=(t=E[ue]||null)?Ed(t.formAction):E.getAttribute("formAction"),t!==null&&(m=t,E=null));var R=new cl("action","action",null,r,f);e.push({event:R,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(na!==0){var P=E?Sd(f,E):new FormData(f);Fo(n,{pending:!0,data:P,method:f.method,action:m},null,P)}}else typeof m=="function"&&(R.preventDefault(),P=E?Sd(f,E):new FormData(f),Fo(n,{pending:!0,data:P,method:f.method,action:m},m,P))},currentTarget:f}]})}}for(var wu=0;wu<no.length;wu++){var xu=no[wu],av=xu.toLowerCase(),rv=xu[0].toUpperCase()+xu.slice(1);_i(av,"on"+rv)}_i(th,"onAnimationEnd"),_i(ih,"onAnimationIteration"),_i(nh,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(Em,"onTransitionRun"),_i(Sm,"onTransitionStart"),_i(_m,"onTransitionCancel"),_i(ah,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),qt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qt("onBeforeInput",["compositionend","keypress","textInput","paste"]),qt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mr));function _d(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],f=r.event;r=r.listeners;e:{var m=void 0;if(t)for(var E=r.length-1;0<=E;E--){var R=r[E],P=R.instance,Y=R.currentTarget;if(R=R.listener,P!==m&&f.isPropagationStopped())break e;m=R,f.currentTarget=Y;try{m(f)}catch($){Nl($)}f.currentTarget=null,m=P}else for(E=0;E<r.length;E++){if(R=r[E],P=R.instance,Y=R.currentTarget,R=R.listener,P!==m&&f.isPropagationStopped())break e;m=R,f.currentTarget=Y;try{m(f)}catch($){Nl($)}f.currentTarget=null,m=P}}}}function Je(e,t){var n=t[Pe];n===void 0&&(n=t[Pe]=new Set);var r=e+"__bubble";n.has(r)||(bd(t,e,2,!1),n.add(r))}function Eu(e,t,n){var r=0;t&&(r|=4),bd(n,e,r,t)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function Su(e){if(!e[Ql]){e[Ql]=!0,et.forEach(function(n){n!=="selectionchange"&&(lv.has(n)||Eu(n,!1,e),Eu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ql]||(t[Ql]=!0,Eu("selectionchange",!1,t))}}function bd(e,t,n,r){switch(Xd(t)){case 2:var f=zv;break;case 8:f=Lv;break;default:f=Hu}n=f.bind(null,t,n,e),f=void 0,!Is||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(f=!0),r?f!==void 0?e.addEventListener(t,n,{capture:!0,passive:f}):e.addEventListener(t,n,!0):f!==void 0?e.addEventListener(t,n,{passive:f}):e.addEventListener(t,n,!1)}function _u(e,t,n,r,f){var m=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var E=r.tag;if(E===3||E===4){var R=r.stateNode.containerInfo;if(R===f)break;if(E===4)for(E=r.return;E!==null;){var P=E.tag;if((P===3||P===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;R!==null;){if(E=Ge(R),E===null)return;if(P=E.tag,P===5||P===6||P===26||P===27){r=m=E;continue e}R=R.parentNode}}r=r.return}Mc(function(){var Y=m,$=ks(n),ne=[];e:{var W=rh.get(e);if(W!==void 0){var X=cl,je=e;switch(e){case"keypress":if(ol(n)===0)break e;case"keydown":case"keyup":X=em;break;case"focusin":je="focus",X=Ws;break;case"focusout":je="blur",X=Ws;break;case"beforeblur":case"afterblur":X=Ws;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=kp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=nm;break;case th:case ih:case nh:X=qp;break;case ah:X=rm;break;case"scroll":case"scrollend":X=jp;break;case"wheel":X=sm;break;case"copy":case"cut":case"paste":X=Yp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Nc;break;case"toggle":case"beforetoggle":X=um}var ze=(t&4)!==0,ft=!ze&&(e==="scroll"||e==="scrollend"),G=ze?W!==null?W+"Capture":null:W;ze=[];for(var H=Y,q;H!==null;){var te=H;if(q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||q===null||G===null||(te=Qa(H,G),te!=null&&ze.push(Pr(H,te,q))),ft)break;H=H.return}0<ze.length&&(W=new X(W,je,null,n,$),ne.push({event:W,listeners:ze}))}}if((t&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",W&&n!==Gs&&(je=n.relatedTarget||n.fromElement)&&(Ge(je)||je[_e]))break e;if((X||W)&&(W=$.window===$?$:(W=$.ownerDocument)?W.defaultView||W.parentWindow:window,X?(je=n.relatedTarget||n.toElement,X=Y,je=je?Ge(je):null,je!==null&&(ft=l(je),ze=je.tag,je!==ft||ze!==5&&ze!==27&&ze!==6)&&(je=null)):(X=null,je=Y),X!==je)){if(ze=Lc,te="onMouseLeave",G="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(ze=Nc,te="onPointerLeave",G="onPointerEnter",H="pointer"),ft=X==null?W:mt(X),q=je==null?W:mt(je),W=new ze(te,H+"leave",X,n,$),W.target=ft,W.relatedTarget=q,te=null,Ge($)===Y&&(ze=new ze(G,H+"enter",je,n,$),ze.target=q,ze.relatedTarget=ft,te=ze),ft=te,X&&je)t:{for(ze=X,G=je,H=0,q=ze;q;q=Ha(q))H++;for(q=0,te=G;te;te=Ha(te))q++;for(;0<H-q;)ze=Ha(ze),H--;for(;0<q-H;)G=Ha(G),q--;for(;H--;){if(ze===G||G!==null&&ze===G.alternate)break t;ze=Ha(ze),G=Ha(G)}ze=null}else ze=null;X!==null&&Rd(ne,W,X,ze,!1),je!==null&&ft!==null&&Rd(ne,ft,je,ze,!0)}}e:{if(W=Y?mt(Y):window,X=W.nodeName&&W.nodeName.toLowerCase(),X==="select"||X==="input"&&W.type==="file")var xe=Ic;else if(kc(W))if(qc)xe=Tm;else{xe=vm;var We=mm}else X=W.nodeName,!X||X.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Y&&js(Y.elementType)&&(xe=Ic):xe=ym;if(xe&&(xe=xe(e,Y))){Vc(ne,xe,n,$);break e}We&&We(e,W,Y),e==="focusout"&&Y&&W.type==="number"&&Y.memoizedProps.value!=null&&Fs(W,"number",W.value)}switch(We=Y?mt(Y):window,e){case"focusin":(kc(We)||We.contentEditable==="true")&&(da=We,eo=Y,ar=null);break;case"focusout":ar=eo=da=null;break;case"mousedown":to=!0;break;case"contextmenu":case"mouseup":case"dragend":to=!1,$c(ne,n,$);break;case"selectionchange":if(xm)break;case"keydown":case"keyup":$c(ne,n,$)}var De;if(Qs)e:{switch(e){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else fa?jc(e,n)&&(Le="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Le="onCompositionStart");Le&&(Hc&&n.locale!=="ko"&&(fa||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&fa&&(De=Pc()):(cn=$,qs="value"in cn?cn.value:cn.textContent,fa=!0)),We=Kl(Y,Le),0<We.length&&(Le=new Bc(Le,e,null,n,$),ne.push({event:Le,listeners:We}),De?Le.data=De:(De=Gc(n),De!==null&&(Le.data=De)))),(De=hm?fm(e,n):dm(e,n))&&(Le=Kl(Y,"onBeforeInput"),0<Le.length&&(We=new Bc("onBeforeInput","beforeinput",null,n,$),ne.push({event:We,listeners:Le}),We.data=De)),nv(ne,e,Y,n,$)}_d(ne,t)})}function Pr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kl(e,t){for(var n=t+"Capture",r=[];e!==null;){var f=e,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Qa(e,n),f!=null&&r.unshift(Pr(e,f,m)),f=Qa(e,t),f!=null&&r.push(Pr(e,f,m))),e.tag===3)return r;e=e.return}return[]}function Ha(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Rd(e,t,n,r,f){for(var m=t._reactName,E=[];n!==null&&n!==r;){var R=n,P=R.alternate,Y=R.stateNode;if(R=R.tag,P!==null&&P===r)break;R!==5&&R!==26&&R!==27||Y===null||(P=Y,f?(Y=Qa(n,m),Y!=null&&E.unshift(Pr(n,Y,P))):f||(Y=Qa(n,m),Y!=null&&E.push(Pr(n,Y,P)))),n=n.return}E.length!==0&&e.push({event:t,listeners:E})}var sv=/\r\n?/g,ov=/\u0000|\uFFFD/g;function Cd(e){return(typeof e=="string"?e:""+e).replace(sv,`
`).replace(ov,"")}function Dd(e,t){return t=Cd(t),Cd(e)===t}function Jl(){}function ht(e,t,n,r,f,m){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||ua(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&ua(e,""+r);break;case"className":Vi(e,"class",r);break;case"tabIndex":Vi(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Vi(e,n,r);break;case"style":Ac(e,r,m);break;case"data":if(t!=="object"){Vi(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=ll(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(n==="formAction"?(t!=="input"&&ht(e,t,"name",f.name,f,null),ht(e,t,"formEncType",f.formEncType,f,null),ht(e,t,"formMethod",f.formMethod,f,null),ht(e,t,"formTarget",f.formTarget,f,null)):(ht(e,t,"encType",f.encType,f,null),ht(e,t,"method",f.method,f,null),ht(e,t,"target",f.target,f,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=ll(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Jl);break;case"onScroll":r!=null&&Je("scroll",e);break;case"onScrollEnd":r!=null&&Je("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(n=r.__html,n!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=ll(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Je("beforetoggle",e),Je("toggle",e),ci(e,"popover",r);break;case"xlinkActuate":Ye(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ye(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ye(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ye(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ye(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ye(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ye(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ye(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ye(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ci(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Up.get(n)||n,ci(e,n,r))}}function bu(e,t,n,r,f,m){switch(n){case"style":Ac(e,r,m);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(n=r.__html,n!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=n}}break;case"children":typeof r=="string"?ua(e,r):(typeof r=="number"||typeof r=="bigint")&&ua(e,""+r);break;case"onScroll":r!=null&&Je("scroll",e);break;case"onScrollEnd":r!=null&&Je("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Jl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ln.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(f=n.endsWith("Capture"),t=n.slice(2,f?n.length-7:void 0),m=e[ue]||null,m=m!=null?m[n]:null,typeof m=="function"&&e.removeEventListener(t,m,f),typeof r=="function")){typeof m!="function"&&m!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,f);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):ci(e,n,r)}}}function Ft(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",e),Je("load",e);var r=!1,f=!1,m;for(m in n)if(n.hasOwnProperty(m)){var E=n[m];if(E!=null)switch(m){case"src":r=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ht(e,t,m,E,n,null)}}f&&ht(e,t,"srcSet",n.srcSet,n,null),r&&ht(e,t,"src",n.src,n,null);return;case"input":Je("invalid",e);var R=m=E=f=null,P=null,Y=null;for(r in n)if(n.hasOwnProperty(r)){var $=n[r];if($!=null)switch(r){case"name":f=$;break;case"type":E=$;break;case"checked":P=$;break;case"defaultChecked":Y=$;break;case"value":m=$;break;case"defaultValue":R=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,t));break;default:ht(e,t,r,$,n,null)}}bc(e,m,R,P,Y,E,f,!1),al(e);return;case"select":Je("invalid",e),r=E=m=null;for(f in n)if(n.hasOwnProperty(f)&&(R=n[f],R!=null))switch(f){case"value":m=R;break;case"defaultValue":E=R;break;case"multiple":r=R;default:ht(e,t,f,R,n,null)}t=m,n=E,e.multiple=!!r,t!=null?oa(e,!!r,t,!1):n!=null&&oa(e,!!r,n,!0);return;case"textarea":Je("invalid",e),m=f=r=null;for(E in n)if(n.hasOwnProperty(E)&&(R=n[E],R!=null))switch(E){case"value":r=R;break;case"defaultValue":f=R;break;case"children":m=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(a(91));break;default:ht(e,t,E,R,n,null)}Cc(e,r,f,m),al(e);return;case"option":for(P in n)if(n.hasOwnProperty(P)&&(r=n[P],r!=null))switch(P){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ht(e,t,P,r,n,null)}return;case"dialog":Je("beforetoggle",e),Je("toggle",e),Je("cancel",e),Je("close",e);break;case"iframe":case"object":Je("load",e);break;case"video":case"audio":for(r=0;r<Mr.length;r++)Je(Mr[r],e);break;case"image":Je("error",e),Je("load",e);break;case"details":Je("toggle",e);break;case"embed":case"source":case"link":Je("error",e),Je("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in n)if(n.hasOwnProperty(Y)&&(r=n[Y],r!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ht(e,t,Y,r,n,null)}return;default:if(js(t)){for($ in n)n.hasOwnProperty($)&&(r=n[$],r!==void 0&&bu(e,t,$,r,n,void 0));return}}for(R in n)n.hasOwnProperty(R)&&(r=n[R],r!=null&&ht(e,t,R,r,n,null))}function uv(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,R=null,P=null,Y=null,$=null;for(X in n){var ne=n[X];if(n.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":P=ne;default:r.hasOwnProperty(X)||ht(e,t,X,null,r,ne)}}for(var W in r){var X=r[W];if(ne=n[W],r.hasOwnProperty(W)&&(X!=null||ne!=null))switch(W){case"type":m=X;break;case"name":f=X;break;case"checked":Y=X;break;case"defaultChecked":$=X;break;case"value":E=X;break;case"defaultValue":R=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,t));break;default:X!==ne&&ht(e,t,W,X,r,ne)}}Us(e,E,R,P,Y,$,m,f);return;case"select":X=E=R=W=null;for(m in n)if(P=n[m],n.hasOwnProperty(m)&&P!=null)switch(m){case"value":break;case"multiple":X=P;default:r.hasOwnProperty(m)||ht(e,t,m,null,r,P)}for(f in r)if(m=r[f],P=n[f],r.hasOwnProperty(f)&&(m!=null||P!=null))switch(f){case"value":W=m;break;case"defaultValue":R=m;break;case"multiple":E=m;default:m!==P&&ht(e,t,f,m,r,P)}t=R,n=E,r=X,W!=null?oa(e,!!n,W,!1):!!r!=!!n&&(t!=null?oa(e,!!n,t,!0):oa(e,!!n,n?[]:"",!1));return;case"textarea":X=W=null;for(R in n)if(f=n[R],n.hasOwnProperty(R)&&f!=null&&!r.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:ht(e,t,R,null,r,f)}for(E in r)if(f=r[E],m=n[E],r.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":W=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&ht(e,t,E,f,r,m)}Rc(e,W,X);return;case"option":for(var je in n)if(W=n[je],n.hasOwnProperty(je)&&W!=null&&!r.hasOwnProperty(je))switch(je){case"selected":e.selected=!1;break;default:ht(e,t,je,null,r,W)}for(P in r)if(W=r[P],X=n[P],r.hasOwnProperty(P)&&W!==X&&(W!=null||X!=null))switch(P){case"selected":e.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:ht(e,t,P,W,r,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in n)W=n[ze],n.hasOwnProperty(ze)&&W!=null&&!r.hasOwnProperty(ze)&&ht(e,t,ze,null,r,W);for(Y in r)if(W=r[Y],X=n[Y],r.hasOwnProperty(Y)&&W!==X&&(W!=null||X!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,t));break;default:ht(e,t,Y,W,r,X)}return;default:if(js(t)){for(var ft in n)W=n[ft],n.hasOwnProperty(ft)&&W!==void 0&&!r.hasOwnProperty(ft)&&bu(e,t,ft,void 0,r,W);for($ in r)W=r[$],X=n[$],!r.hasOwnProperty($)||W===X||W===void 0&&X===void 0||bu(e,t,$,W,r,X);return}}for(var G in n)W=n[G],n.hasOwnProperty(G)&&W!=null&&!r.hasOwnProperty(G)&&ht(e,t,G,null,r,W);for(ne in r)W=r[ne],X=n[ne],!r.hasOwnProperty(ne)||W===X||W==null&&X==null||ht(e,t,ne,W,r,X)}var Ru=null,Cu=null;function $l(e){return e.nodeType===9?e:e.ownerDocument}function Ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Od(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Du(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Au=null;function cv(){var e=window.event;return e&&e.type==="popstate"?e===Au?!1:(Au=e,!0):(Au=null,!1)}var Md=typeof setTimeout=="function"?setTimeout:void 0,hv=typeof clearTimeout=="function"?clearTimeout:void 0,Pd=typeof Promise=="function"?Promise:void 0,fv=typeof queueMicrotask=="function"?queueMicrotask:typeof Pd<"u"?function(e){return Pd.resolve(null).then(e).catch(dv)}:Md;function dv(e){setTimeout(function(){throw e})}function Rn(e){return e==="head"}function zd(e,t){var n=t,r=0,f=0;do{var m=n.nextSibling;if(e.removeChild(n),m&&m.nodeType===8)if(n=m.data,n==="/$"){if(0<r&&8>r){n=r;var E=e.ownerDocument;if(n&1&&zr(E.documentElement),n&2&&zr(E.body),n&4)for(n=E.head,zr(n),E=n.firstChild;E;){var R=E.nextSibling,P=E.nodeName;E[Ue]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&E.rel.toLowerCase()==="stylesheet"||n.removeChild(E),E=R}}if(f===0){e.removeChild(m),Gr(t);return}f--}else n==="$"||n==="$?"||n==="$!"?f++:r=n.charCodeAt(0)-48;else r=0;n=m}while(n);Gr(t)}function Ou(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ou(n),Ce(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function gv(e,t,n,r){for(;e.nodeType===1;){var f=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Ue])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Ri(e.nextSibling),e===null)break}return null}function pv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ri(e.nextSibling),e===null))return null;return e}function Mu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function mv(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Ri(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Pu=null;function Ld(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function Bd(e,t,n){switch(t=$l(n),e){case"html":if(e=t.documentElement,!e)throw Error(a(452));return e;case"head":if(e=t.head,!e)throw Error(a(453));return e;case"body":if(e=t.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function zr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ce(e)}var yi=new Map,Nd=new Set;function es(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var an=oe.d;oe.d={f:vv,r:yv,D:Tv,C:wv,L:xv,m:Ev,X:_v,S:Sv,M:bv};function vv(){var e=an.f(),t=ql();return e||t}function yv(e){var t=nt(e);t!==null&&t.tag===5&&t.type==="form"?tf(t):an.r(e)}var Ua=typeof document>"u"?null:document;function Hd(e,t,n){var r=Ua;if(r&&typeof t=="string"&&t){var f=hi(t);f='link[rel="'+e+'"][href="'+f+'"]',typeof n=="string"&&(f+='[crossorigin="'+n+'"]'),Nd.has(f)||(Nd.add(f),e={rel:e,crossOrigin:n,href:t},r.querySelector(f)===null&&(t=r.createElement("link"),Ft(t,"link",e),at(t),r.head.appendChild(t)))}}function Tv(e){an.D(e),Hd("dns-prefetch",e,null)}function wv(e,t){an.C(e,t),Hd("preconnect",e,t)}function xv(e,t,n){an.L(e,t,n);var r=Ua;if(r&&e&&t){var f='link[rel="preload"][as="'+hi(t)+'"]';t==="image"&&n&&n.imageSrcSet?(f+='[imagesrcset="'+hi(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(f+='[imagesizes="'+hi(n.imageSizes)+'"]')):f+='[href="'+hi(e)+'"]';var m=f;switch(t){case"style":m=Fa(e);break;case"script":m=ja(e)}yi.has(m)||(e=g({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),yi.set(m,e),r.querySelector(f)!==null||t==="style"&&r.querySelector(Lr(m))||t==="script"&&r.querySelector(Br(m))||(t=r.createElement("link"),Ft(t,"link",e),at(t),r.head.appendChild(t)))}}function Ev(e,t){an.m(e,t);var n=Ua;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",f='link[rel="modulepreload"][as="'+hi(r)+'"][href="'+hi(e)+'"]',m=f;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ja(e)}if(!yi.has(m)&&(e=g({rel:"modulepreload",href:e},t),yi.set(m,e),n.querySelector(f)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Br(m)))return}r=n.createElement("link"),Ft(r,"link",e),at(r),n.head.appendChild(r)}}}function Sv(e,t,n){an.S(e,t,n);var r=Ua;if(r&&e){var f=wt(r).hoistableStyles,m=Fa(e);t=t||"default";var E=f.get(m);if(!E){var R={loading:0,preload:null};if(E=r.querySelector(Lr(m)))R.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":t},n),(n=yi.get(m))&&zu(e,n);var P=E=r.createElement("link");at(P),Ft(P,"link",e),P._p=new Promise(function(Y,$){P.onload=Y,P.onerror=$}),P.addEventListener("load",function(){R.loading|=1}),P.addEventListener("error",function(){R.loading|=2}),R.loading|=4,ts(E,t,r)}E={type:"stylesheet",instance:E,count:1,state:R},f.set(m,E)}}}function _v(e,t){an.X(e,t);var n=Ua;if(n&&e){var r=wt(n).hoistableScripts,f=ja(e),m=r.get(f);m||(m=n.querySelector(Br(f)),m||(e=g({src:e,async:!0},t),(t=yi.get(f))&&Lu(e,t),m=n.createElement("script"),at(m),Ft(m,"link",e),n.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},r.set(f,m))}}function bv(e,t){an.M(e,t);var n=Ua;if(n&&e){var r=wt(n).hoistableScripts,f=ja(e),m=r.get(f);m||(m=n.querySelector(Br(f)),m||(e=g({src:e,async:!0,type:"module"},t),(t=yi.get(f))&&Lu(e,t),m=n.createElement("script"),at(m),Ft(m,"link",e),n.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},r.set(f,m))}}function Ud(e,t,n,r){var f=(f=Re.current)?es(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Fa(n.href),n=wt(f).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Fa(n.href);var m=wt(f).hoistableStyles,E=m.get(e);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,E),(m=f.querySelector(Lr(e)))&&!m._p&&(E.instance=m,E.state.loading=5),yi.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},yi.set(e,n),m||Rv(f,e,n,E.state))),t&&r===null)throw Error(a(528,""));return E}if(t&&r!==null)throw Error(a(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ja(n),n=wt(f).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Fa(e){return'href="'+hi(e)+'"'}function Lr(e){return'link[rel="stylesheet"]['+e+"]"}function Fd(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function Rv(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Ft(t,"link",n),at(t),e.head.appendChild(t))}function ja(e){return'[src="'+hi(e)+'"]'}function Br(e){return"script[async]"+e}function jd(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+hi(n.href)+'"]');if(r)return t.instance=r,at(r),r;var f=g({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),at(r),Ft(r,"style",f),ts(r,n.precedence,e),t.instance=r;case"stylesheet":f=Fa(n.href);var m=e.querySelector(Lr(f));if(m)return t.state.loading|=4,t.instance=m,at(m),m;r=Fd(n),(f=yi.get(f))&&zu(r,f),m=(e.ownerDocument||e).createElement("link"),at(m);var E=m;return E._p=new Promise(function(R,P){E.onload=R,E.onerror=P}),Ft(m,"link",r),t.state.loading|=4,ts(m,n.precedence,e),t.instance=m;case"script":return m=ja(n.src),(f=e.querySelector(Br(m)))?(t.instance=f,at(f),f):(r=n,(f=yi.get(m))&&(r=g({},n),Lu(r,f)),e=e.ownerDocument||e,f=e.createElement("script"),at(f),Ft(f,"link",r),e.head.appendChild(f),t.instance=f);case"void":return null;default:throw Error(a(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,ts(r,n.precedence,e));return t.instance}function ts(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=r.length?r[r.length-1]:null,m=f,E=0;E<r.length;E++){var R=r[E];if(R.dataset.precedence===t)m=R;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function zu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Lu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var is=null;function Gd(e,t,n){if(is===null){var r=new Map,f=is=new Map;f.set(n,r)}else f=is,r=f.get(n),r||(r=new Map,f.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),f=0;f<n.length;f++){var m=n[f];if(!(m[Ue]||m[re]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(t)||"";E=e+E;var R=r.get(E);R?R.push(m):r.set(E,[m])}}return r}function kd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Cv(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Vd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Nr=null;function Dv(){}function Av(e,t,n){if(Nr===null)throw Error(a(475));var r=Nr;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var f=Fa(n.href),m=e.querySelector(Lr(f));if(m){e=m._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=ns.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=m,at(m);return}m=e.ownerDocument||e,n=Fd(n),(f=yi.get(f))&&zu(n,f),m=m.createElement("link"),at(m);var E=m;E._p=new Promise(function(R,P){E.onload=R,E.onerror=P}),Ft(m,"link",n),t.instance=m}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(r.count++,t=ns.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function Ov(){if(Nr===null)throw Error(a(475));var e=Nr;return e.stylesheets&&e.count===0&&Bu(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Bu(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function ns(){if(this.count--,this.count===0){if(this.stylesheets)Bu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var as=null;function Bu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,as=new Map,t.forEach(Mv,e),as=null,ns.call(e))}function Mv(e,t){if(!(t.state.loading&4)){var n=as.get(e);if(n)var r=n.get(null);else{n=new Map,as.set(e,n);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(n.set(E.dataset.precedence,E),r=E)}r&&n.set(null,r)}f=t.instance,E=f.getAttribute("data-precedence"),m=n.get(E)||r,m===r&&n.set(null,f),n.set(E,f),this.count++,r=ns.bind(this),f.addEventListener("load",r),f.addEventListener("error",r),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),t.state.loading|=4}}var Hr={$$typeof:j,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Pv(e,t,n,r,f,m,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.hiddenUpdates=ki(null),this.identifierPrefix=r,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Id(e,t,n,r,f,m,E,R,P,Y,$,ne){return e=new Pv(e,t,n,E,R,P,Y,ne),t=1,m===!0&&(t|=24),m=ti(3,null,null,t),e.current=m,m.stateNode=e,t=mo(),t.refCount++,e.pooledCache=t,t.refCount++,m.memoizedState={element:r,isDehydrated:n,cache:t},wo(m),e}function qd(e){return e?(e=va,e):va}function Zd(e,t,n,r,f,m){f=qd(f),r.context===null?r.context=f:r.pendingContext=f,r=dn(t),r.payload={element:n},m=m===void 0?null:m,m!==null&&(r.callback=m),n=gn(e,r,t),n!==null&&(li(n,e,t),dr(n,e,t))}function Yd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Nu(e,t){Yd(e,t),(e=e.alternate)&&Yd(e,t)}function Wd(e){if(e.tag===13){var t=ma(e,67108864);t!==null&&li(t,e,67108864),Nu(e,67108864)}}var rs=!0;function zv(e,t,n,r){var f=k.T;k.T=null;var m=oe.p;try{oe.p=2,Hu(e,t,n,r)}finally{oe.p=m,k.T=f}}function Lv(e,t,n,r){var f=k.T;k.T=null;var m=oe.p;try{oe.p=8,Hu(e,t,n,r)}finally{oe.p=m,k.T=f}}function Hu(e,t,n,r){if(rs){var f=Uu(r);if(f===null)_u(e,t,r,ls,n),Qd(e,r);else if(Nv(f,e,t,n,r))r.stopPropagation();else if(Qd(e,r),t&4&&-1<Bv.indexOf(e)){for(;f!==null;){var m=nt(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Ee(m.pendingLanes);if(E!==0){var R=m;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var P=1<<31-S(E);R.entanglements[1]|=P,E&=~P}Hi(m),(ot&6)===0&&(Vl=T()+500,Or(0))}}break;case 13:R=ma(m,2),R!==null&&li(R,m,2),ql(),Nu(m,2)}if(m=Uu(r),m===null&&_u(e,t,r,ls,n),m===f)break;f=m}f!==null&&r.stopPropagation()}else _u(e,t,r,null,n)}}function Uu(e){return e=ks(e),Fu(e)}var ls=null;function Fu(e){if(ls=null,e=Ge(e),e!==null){var t=l(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=u(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ls=e,null}function Xd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(O()){case Z:return 2;case le:return 8;case ce:case ve:return 32;case ie:return 268435456;default:return 32}default:return 32}}var ju=!1,Cn=null,Dn=null,An=null,Ur=new Map,Fr=new Map,On=[],Bv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qd(e,t){switch(e){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":Ur.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fr.delete(t.pointerId)}}function jr(e,t,n,r,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:m,targetContainers:[f]},t!==null&&(t=nt(t),t!==null&&Wd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,f!==null&&t.indexOf(f)===-1&&t.push(f),e)}function Nv(e,t,n,r,f){switch(t){case"focusin":return Cn=jr(Cn,e,t,n,r,f),!0;case"dragenter":return Dn=jr(Dn,e,t,n,r,f),!0;case"mouseover":return An=jr(An,e,t,n,r,f),!0;case"pointerover":var m=f.pointerId;return Ur.set(m,jr(Ur.get(m)||null,e,t,n,r,f)),!0;case"gotpointercapture":return m=f.pointerId,Fr.set(m,jr(Fr.get(m)||null,e,t,n,r,f)),!0}return!1}function Kd(e){var t=Ge(e.target);if(t!==null){var n=l(t);if(n!==null){if(t=n.tag,t===13){if(t=u(n),t!==null){e.blockedOn=t,V(e.priority,function(){if(n.tag===13){var r=ri();r=Za(r);var f=ma(n,r);f!==null&&li(f,n,r),Nu(n,r)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ss(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Uu(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Gs=r,n.target.dispatchEvent(r),Gs=null}else return t=nt(n),t!==null&&Wd(t),e.blockedOn=n,!1;t.shift()}return!0}function Jd(e,t,n){ss(e)&&n.delete(t)}function Hv(){ju=!1,Cn!==null&&ss(Cn)&&(Cn=null),Dn!==null&&ss(Dn)&&(Dn=null),An!==null&&ss(An)&&(An=null),Ur.forEach(Jd),Fr.forEach(Jd)}function os(e,t){e.blockedOn===t&&(e.blockedOn=null,ju||(ju=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Hv)))}var us=null;function $d(e){us!==e&&(us=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){us===e&&(us=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],f=e[t+2];if(typeof r!="function"){if(Fu(r||n)===null)continue;break}var m=nt(n);m!==null&&(e.splice(t,3),t-=3,Fo(m,{pending:!0,data:f,method:n.method,action:r},r,f))}}))}function Gr(e){function t(P){return os(P,e)}Cn!==null&&os(Cn,e),Dn!==null&&os(Dn,e),An!==null&&os(An,e),Ur.forEach(t),Fr.forEach(t);for(var n=0;n<On.length;n++){var r=On[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<On.length&&(n=On[0],n.blockedOn===null);)Kd(n),n.blockedOn===null&&On.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var f=n[r],m=n[r+1],E=f[ue]||null;if(typeof m=="function")E||$d(n);else if(E){var R=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[ue]||null)R=E.formAction;else if(Fu(f)!==null)continue}else R=E.action;typeof R=="function"?n[r+1]=R:(n.splice(r,3),r-=3),$d(n)}}}function Gu(e){this._internalRoot=e}cs.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));var n=t.current,r=ri();Zd(n,r,e,t,null,null)},cs.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zd(e.current,2,null,e,null,null),ql(),t[_e]=null}};function cs(e){this._internalRoot=e}cs.prototype.unstable_scheduleHydration=function(e){if(e){var t=B();e={blockedOn:null,target:e,priority:t};for(var n=0;n<On.length&&t!==0&&t<On[n].priority;n++);On.splice(n,0,e),n===0&&Kd(e)}};var eg=p.version;if(eg!=="19.1.0")throw Error(a(527,eg,"19.1.0"));oe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(t),e=e!==null?c(e):null,e=e===null?null:e.stateNode,e};var Uv={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hs.isDisabled&&hs.supportsFiber)try{qe=hs.inject(Uv),me=hs}catch{}}return Vr.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,r="",f=mf,m=vf,E=yf,R=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(f=t.onUncaughtError),t.onCaughtError!==void 0&&(m=t.onCaughtError),t.onRecoverableError!==void 0&&(E=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(R=t.unstable_transitionCallbacks)),t=Id(e,1,!1,null,null,n,r,f,m,E,R,null),e[_e]=t.current,Su(e),new Gu(t)},Vr.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var r=!1,f="",m=mf,E=vf,R=yf,P=null,Y=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(f=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(E=n.onCaughtError),n.onRecoverableError!==void 0&&(R=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(P=n.unstable_transitionCallbacks),n.formState!==void 0&&(Y=n.formState)),t=Id(e,1,!0,t,n??null,r,f,m,E,R,P,Y),t.context=qd(null),n=t.current,r=ri(),r=Za(r),f=dn(r),f.callback=null,gn(n,f,r),n=r,t.current.lanes=n,Pi(t,n),Hi(t),e[_e]=t.current,Su(e),new cs(t)},Vr.version="19.1.0",Vr}var cg;function Qv(){if(cg)return qu.exports;cg=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(p){console.error(p)}}return o(),qu.exports=Xv(),qu.exports}var Kv=Qv(),Ir={},hg;function Jv(){if(hg)return Ir;hg=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.parse=u,Ir.serialize=c;const o=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,p=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function u(y,w){const _=new l,b=y.length;if(b<2)return _;const D=(w==null?void 0:w.decode)||g;let A=0;do{const L=y.indexOf("=",A);if(L===-1)break;const j=y.indexOf(";",A),ae=j===-1?b:j;if(L>ae){A=y.lastIndexOf(";",L-1)+1;continue}const I=d(y,A,L),N=h(y,L,I),he=y.slice(I,N);if(_[he]===void 0){let pe=d(y,L+1,ae),fe=h(y,ae,pe);const ke=D(y.slice(pe,fe));_[he]=ke}A=ae+1}while(A<b);return _}function d(y,w,_){do{const b=y.charCodeAt(w);if(b!==32&&b!==9)return w}while(++w<_);return _}function h(y,w,_){for(;w>_;){const b=y.charCodeAt(--w);if(b!==32&&b!==9)return w+1}return _}function c(y,w,_){const b=(_==null?void 0:_.encode)||encodeURIComponent;if(!o.test(y))throw new TypeError(`argument name is invalid: ${y}`);const D=b(w);if(!p.test(D))throw new TypeError(`argument val is invalid: ${w}`);let A=y+"="+D;if(!_)return A;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);A+="; Max-Age="+_.maxAge}if(_.domain){if(!i.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);A+="; Domain="+_.domain}if(_.path){if(!a.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);A+="; Path="+_.path}if(_.expires){if(!v(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);A+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(A+="; HttpOnly"),_.secure&&(A+="; Secure"),_.partitioned&&(A+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return A}function g(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function v(y){return s.call(y)==="[object Date]"}return Ir}Jv();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Kg=o=>{throw TypeError(o)},$v=(o,p,i)=>p.has(o)||Kg("Cannot "+i),Xu=(o,p,i)=>($v(o,p,"read from private field"),i?i.call(o):p.get(o)),ey=(o,p,i)=>p.has(o)?Kg("Cannot add the same private member more than once"):p instanceof WeakSet?p.add(o):p.set(o,i),fg="popstate";function ty(o={}){function p(s,l){let{pathname:u="/",search:d="",hash:h=""}=rn(s.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Jr("",{pathname:u,search:d,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(s,l){let u=s.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let h=s.location.href,c=h.indexOf("#");d=c===-1?h:h.slice(0,c)}return d+"#"+(typeof l=="string"?l:Ln(l))}function a(s,l){bt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return ny(p,i,a,o)}function Xe(o,p){if(o===!1||o===null||typeof o>"u")throw new Error(p)}function bt(o,p){if(!o){typeof console<"u"&&console.warn(p);try{throw new Error(p)}catch{}}}function iy(){return Math.random().toString(36).substring(2,10)}function dg(o,p){return{usr:o.state,key:o.key,idx:p}}function Jr(o,p,i=null,a){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof p=="string"?rn(p):p,state:i,key:p&&p.key||a||iy()}}function Ln({pathname:o="/",search:p="",hash:i=""}){return p&&p!=="?"&&(o+=p.charAt(0)==="?"?p:"?"+p),i&&i!=="#"&&(o+=i.charAt(0)==="#"?i:"#"+i),o}function rn(o){let p={};if(o){let i=o.indexOf("#");i>=0&&(p.hash=o.substring(i),o=o.substring(0,i));let a=o.indexOf("?");a>=0&&(p.search=o.substring(a),o=o.substring(0,a)),o&&(p.pathname=o)}return p}function ny(o,p,i,a={}){let{window:s=document.defaultView,v5Compat:l=!1}=a,u=s.history,d="POP",h=null,c=g();c==null&&(c=0,u.replaceState({...u.state,idx:c},""));function g(){return(u.state||{idx:null}).idx}function v(){d="POP";let D=g(),A=D==null?null:D-c;c=D,h&&h({action:d,location:b.location,delta:A})}function y(D,A){d="PUSH";let L=Jr(b.location,D,A);i&&i(L,D),c=g()+1;let j=dg(L,c),ae=b.createHref(L);try{u.pushState(j,"",ae)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(ae)}l&&h&&h({action:d,location:b.location,delta:1})}function w(D,A){d="REPLACE";let L=Jr(b.location,D,A);i&&i(L,D),c=g();let j=dg(L,c),ae=b.createHref(L);u.replaceState(j,"",ae),l&&h&&h({action:d,location:b.location,delta:0})}function _(D){let A=s.location.origin!=="null"?s.location.origin:s.location.href,L=typeof D=="string"?D:Ln(D);return L=L.replace(/ $/,"%20"),Xe(A,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,A)}let b={get action(){return d},get location(){return o(s,u)},listen(D){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(fg,v),h=D,()=>{s.removeEventListener(fg,v),h=null}},createHref(D){return p(s,D)},createURL:_,encodeLocation(D){let A=_(D);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:y,replace:w,go(D){return u.go(D)}};return b}var Xr,gg=class{constructor(o){if(ey(this,Xr,new Map),o)for(let[p,i]of o)this.set(p,i)}get(o){if(Xu(this,Xr).has(o))return Xu(this,Xr).get(o);if(o.defaultValue!==void 0)return o.defaultValue;throw new Error("No value found for context")}set(o,p){Xu(this,Xr).set(o,p)}};Xr=new WeakMap;var ay=new Set(["lazy","caseSensitive","path","id","index","children"]);function ry(o){return ay.has(o)}var ly=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function sy(o){return ly.has(o)}function oy(o){return o.index===!0}function Es(o,p,i=[],a={}){return o.map((s,l)=>{let u=[...i,String(l)],d=typeof s.id=="string"?s.id:u.join("-");if(Xe(s.index!==!0||!s.children,"Cannot specify children on an index route"),Xe(!a[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),oy(s)){let h={...s,...p(s),id:d};return a[d]=h,h}else{let h={...s,...p(s),id:d,children:void 0};return a[d]=h,s.children&&(h.children=Es(s.children,p,u,a)),h}})}function zn(o,p,i="/"){return ps(o,p,i,!1)}function ps(o,p,i,a){let s=typeof p=="string"?rn(p):p,l=wi(s.pathname||"/",i);if(l==null)return null;let u=Jg(o);cy(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let c=xy(l);d=Ty(u[h],c,a)}return d}function uy(o,p){let{route:i,pathname:a,params:s}=o;return{id:i.id,pathname:a,params:s,data:p[i.id],handle:i.handle}}function Jg(o,p=[],i=[],a=""){let s=(l,u,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};h.relativePath.startsWith("/")&&(Xe(h.relativePath.startsWith(a),`Absolute route path "${h.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(a.length));let c=Fi([a,h.relativePath]),g=i.concat(h);l.children&&l.children.length>0&&(Xe(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Jg(l.children,p,g,c)),!(l.path==null&&!l.index)&&p.push({path:c,score:vy(c,l.index),routesMeta:g})};return o.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))s(l,u);else for(let h of $g(l.path))s(l,u,h)}),p}function $g(o){let p=o.split("/");if(p.length===0)return[];let[i,...a]=p,s=i.endsWith("?"),l=i.replace(/\?$/,"");if(a.length===0)return s?[l,""]:[l];let u=$g(a.join("/")),d=[];return d.push(...u.map(h=>h===""?l:[l,h].join("/"))),s&&d.push(...u),d.map(h=>o.startsWith("/")&&h===""?"/":h)}function cy(o){o.sort((p,i)=>p.score!==i.score?i.score-p.score:yy(p.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var hy=/^:[\w-]+$/,fy=3,dy=2,gy=1,py=10,my=-2,pg=o=>o==="*";function vy(o,p){let i=o.split("/"),a=i.length;return i.some(pg)&&(a+=my),p&&(a+=dy),i.filter(s=>!pg(s)).reduce((s,l)=>s+(hy.test(l)?fy:l===""?gy:py),a)}function yy(o,p){return o.length===p.length&&o.slice(0,-1).every((a,s)=>a===p[s])?o[o.length-1]-p[p.length-1]:0}function Ty(o,p,i=!1){let{routesMeta:a}=o,s={},l="/",u=[];for(let d=0;d<a.length;++d){let h=a[d],c=d===a.length-1,g=l==="/"?p:p.slice(l.length)||"/",v=Ss({path:h.relativePath,caseSensitive:h.caseSensitive,end:c},g),y=h.route;if(!v&&c&&i&&!a[a.length-1].route.index&&(v=Ss({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:Fi([l,v.pathname]),pathnameBase:_y(Fi([l,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(l=Fi([l,v.pathnameBase]))}return u}function Ss(o,p){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[i,a]=wy(o.path,o.caseSensitive,o.end),s=p.match(i);if(!s)return null;let l=s[0],u=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:a.reduce((c,{paramName:g,isOptional:v},y)=>{if(g==="*"){let _=d[y]||"";u=l.slice(0,l.length-_.length).replace(/(.)\/+$/,"$1")}const w=d[y];return v&&!w?c[g]=void 0:c[g]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:l,pathnameBase:u,pattern:o}}function wy(o,p=!1,i=!0){bt(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let a=[],s="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(a.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(a.push({paramName:"*"}),s+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?s+="\\/*$":o!==""&&o!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,p?void 0:"i"),a]}function xy(o){try{return o.split("/").map(p=>decodeURIComponent(p).replace(/\//g,"%2F")).join("/")}catch(p){return bt(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${p}).`),o}}function wi(o,p){if(p==="/")return o;if(!o.toLowerCase().startsWith(p.toLowerCase()))return null;let i=p.endsWith("/")?p.length-1:p.length,a=o.charAt(i);return a&&a!=="/"?null:o.slice(i)||"/"}function Ey(o,p="/"){let{pathname:i,search:a="",hash:s=""}=typeof o=="string"?rn(o):o;return{pathname:i?i.startsWith("/")?i:Sy(i,p):p,search:by(a),hash:Ry(s)}}function Sy(o,p){let i=p.replace(/\/+$/,"").split("/");return o.split("/").forEach(s=>{s===".."?i.length>1&&i.pop():s!=="."&&i.push(s)}),i.length>1?i.join("/"):"/"}function Qu(o,p,i,a){return`Cannot include a '${o}' character in a manually specified \`to.${p}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ep(o){return o.filter((p,i)=>i===0||p.route.path&&p.route.path.length>0)}function Ds(o){let p=ep(o);return p.map((i,a)=>a===p.length-1?i.pathname:i.pathnameBase)}function As(o,p,i,a=!1){let s;typeof o=="string"?s=rn(o):(s={...o},Xe(!s.pathname||!s.pathname.includes("?"),Qu("?","pathname","search",s)),Xe(!s.pathname||!s.pathname.includes("#"),Qu("#","pathname","hash",s)),Xe(!s.search||!s.search.includes("#"),Qu("#","search","hash",s)));let l=o===""||s.pathname==="",u=l?"/":s.pathname,d;if(u==null)d=i;else{let v=p.length-1;if(!a&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),v-=1;s.pathname=y.join("/")}d=v>=0?p[v]:"/"}let h=Ey(s,d),c=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&i.endsWith("/");return!h.pathname.endsWith("/")&&(c||g)&&(h.pathname+="/"),h}var Fi=o=>o.join("/").replace(/\/\/+/g,"/"),_y=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),by=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,Ry=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o,_s=class{constructor(o,p,i,a=!1){this.status=o,this.statusText=p||"",this.internal=a,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function $r(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}var tp=["POST","PUT","PATCH","DELETE"],Cy=new Set(tp),Dy=["GET",...tp],Ay=new Set(Dy),Oy=new Set([301,302,303,307,308]),My=new Set([307,308]),Ku={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Py={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},qr={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},hc=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zy=o=>({hasErrorBoundary:!!o.hasErrorBoundary}),ip="remix-router-transitions",np=Symbol("ResetLoaderData");function Ly(o){const p=o.window?o.window:typeof window<"u"?window:void 0,i=typeof p<"u"&&typeof p.document<"u"&&typeof p.document.createElement<"u";Xe(o.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=o.hydrationRouteProperties||[],s=o.mapRouteProperties||zy,l={},u=Es(o.routes,s,void 0,l),d,h=o.basename||"/",c=o.dataStrategy||Fy,g={unstable_middleware:!1,...o.future},v=null,y=new Set,w=null,_=null,b=null,D=o.hydrationData!=null,A=zn(u,o.history.location,h),L=!1,j=null;if(A==null&&!o.patchRoutesOnNavigation){let B=Ti(404,{pathname:o.history.location.pathname}),{matches:V,route:Q}=Cg(u);A=V,j={[Q.id]:B}}A&&!o.hydrationData&&Fn(A,u,o.history.location.pathname).active&&(A=null);let ae;if(A)if(A.some(B=>B.route.lazy))ae=!1;else if(!A.some(B=>B.route.loader))ae=!0;else{let B=o.hydrationData?o.hydrationData.loaderData:null,V=o.hydrationData?o.hydrationData.errors:null;if(V){let Q=A.findIndex(re=>V[re.route.id]!==void 0);ae=A.slice(0,Q+1).every(re=>!nc(re.route,B,V))}else ae=A.every(Q=>!nc(Q.route,B,V))}else{ae=!1,A=[];let B=Fn(null,u,o.history.location.pathname);B.active&&B.matches&&(L=!0,A=B.matches)}let I,N={historyAction:o.history.action,location:o.history.location,matches:A,initialized:ae,navigation:Ku,restoreScrollPosition:o.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:o.hydrationData&&o.hydrationData.loaderData||{},actionData:o.hydrationData&&o.hydrationData.actionData||null,errors:o.hydrationData&&o.hydrationData.errors||j,fetchers:new Map,blockers:new Map},he="POP",pe=!1,fe,ke=!1,Be=new Map,Te=null,be=!1,Fe=!1,Ne=new Set,k=new Map,oe=0,de=-1,Me=new Map,z=new Set,ee=new Map,ge=new Map,J=new Set,we=new Map,Ve,Re=null;function Et(){if(v=o.history.listen(({action:B,location:V,delta:Q})=>{if(Ve){Ve(),Ve=void 0;return}bt(we.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let re=zt({currentLocation:N.location,nextLocation:V,historyAction:B});if(re&&Q!=null){let ue=new Promise(_e=>{Ve=_e});o.history.go(Q*-1),Se(re,{state:"blocked",location:V,proceed(){Se(re,{state:"proceeding",proceed:void 0,reset:void 0,location:V}),ue.then(()=>o.history.go(Q))},reset(){let _e=new Map(N.blockers);_e.set(re,qr),vt({blockers:_e})}});return}return It(B,V)}),i){Qy(p,Be);let B=()=>Ky(p,Be);p.addEventListener("pagehide",B),Te=()=>p.removeEventListener("pagehide",B)}return N.initialized||It("POP",N.location,{initialHydration:!0}),I}function lt(){v&&v(),Te&&Te(),y.clear(),fe&&fe.abort(),N.fetchers.forEach((B,V)=>S(V)),N.blockers.forEach((B,V)=>Qe(V))}function Yt(B){return y.add(B),()=>y.delete(B)}function vt(B,V={}){N={...N,...B};let Q=[],re=[];N.fetchers.forEach((ue,_e)=>{ue.state==="idle"&&(J.has(_e)?Q.push(_e):re.push(_e))}),J.forEach(ue=>{!N.fetchers.has(ue)&&!k.has(ue)&&Q.push(ue)}),[...y].forEach(ue=>ue(N,{deletedFetchers:Q,viewTransitionOpts:V.viewTransitionOpts,flushSync:V.flushSync===!0})),Q.forEach(ue=>S(ue)),re.forEach(ue=>N.fetchers.delete(ue))}function jt(B,V,{flushSync:Q}={}){var Oe,Ue;let re=N.actionData!=null&&N.navigation.formMethod!=null&&oi(N.navigation.formMethod)&&N.navigation.state==="loading"&&((Oe=B.state)==null?void 0:Oe._isRedirect)!==!0,ue;V.actionData?Object.keys(V.actionData).length>0?ue=V.actionData:ue=null:re?ue=N.actionData:ue=null;let _e=V.loaderData?bg(N.loaderData,V.loaderData,V.matches||[],V.errors):N.loaderData,Pe=N.blockers;Pe.size>0&&(Pe=new Map(Pe),Pe.forEach((Ce,Ge)=>Pe.set(Ge,qr)));let ye=pe===!0||N.navigation.formMethod!=null&&oi(N.navigation.formMethod)&&((Ue=B.state)==null?void 0:Ue._isRedirect)!==!0;d&&(u=d,d=void 0),be||he==="POP"||(he==="PUSH"?o.history.push(B,B.state):he==="REPLACE"&&o.history.replace(B,B.state));let Ae;if(he==="POP"){let Ce=Be.get(N.location.pathname);Ce&&Ce.has(B.pathname)?Ae={currentLocation:N.location,nextLocation:B}:Be.has(B.pathname)&&(Ae={currentLocation:B,nextLocation:N.location})}else if(ke){let Ce=Be.get(N.location.pathname);Ce?Ce.add(B.pathname):(Ce=new Set([B.pathname]),Be.set(N.location.pathname,Ce)),Ae={currentLocation:N.location,nextLocation:B}}vt({...V,actionData:ue,loaderData:_e,historyAction:he,location:B,initialized:!0,navigation:Ku,revalidation:"idle",restoreScrollPosition:Un(B,V.matches||N.matches),preventScrollReset:ye,blockers:Pe},{viewTransitionOpts:Ae,flushSync:Q===!0}),he="POP",pe=!1,ke=!1,be=!1,Fe=!1,Re==null||Re.resolve(),Re=null}async function Ai(B,V){if(typeof B=="number"){o.history.go(B);return}let Q=ic(N.location,N.matches,h,B,V==null?void 0:V.fromRouteId,V==null?void 0:V.relative),{path:re,submission:ue,error:_e}=mg(!1,Q,V),Pe=N.location,ye=Jr(N.location,re,V&&V.state);ye={...ye,...o.history.encodeLocation(ye)};let Ae=V&&V.replace!=null?V.replace:void 0,Oe="PUSH";Ae===!0?Oe="REPLACE":Ae===!1||ue!=null&&oi(ue.formMethod)&&ue.formAction===N.location.pathname+N.location.search&&(Oe="REPLACE");let Ue=V&&"preventScrollReset"in V?V.preventScrollReset===!0:void 0,Ce=(V&&V.flushSync)===!0,Ge=zt({currentLocation:Pe,nextLocation:ye,historyAction:Oe});if(Ge){Se(Ge,{state:"blocked",location:ye,proceed(){Se(Ge,{state:"proceeding",proceed:void 0,reset:void 0,location:ye}),Ai(B,V)},reset(){let nt=new Map(N.blockers);nt.set(Ge,qr),vt({blockers:nt})}});return}await It(Oe,ye,{submission:ue,pendingError:_e,preventScrollReset:Ue,replace:V&&V.replace,enableViewTransition:V&&V.viewTransition,flushSync:Ce})}function Oi(){Re||(Re=Jy()),$e(),vt({revalidation:"loading"});let B=Re.promise;return N.navigation.state==="submitting"?B:N.navigation.state==="idle"?(It(N.historyAction,N.location,{startUninterruptedRevalidation:!0}),B):(It(he||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:ke===!0}),B)}async function It(B,V,Q){fe&&fe.abort(),fe=null,he=B,be=(Q&&Q.startUninterruptedRevalidation)===!0,Pi(N.location,N.matches),pe=(Q&&Q.preventScrollReset)===!0,ke=(Q&&Q.enableViewTransition)===!0;let re=d||u,ue=Q&&Q.overrideNavigation,_e=Q!=null&&Q.initialHydration&&N.matches&&N.matches.length>0&&!L?N.matches:zn(re,V,h),Pe=(Q&&Q.flushSync)===!0;if(_e&&N.initialized&&!Fe&&qy(N.location,V)&&!(Q&&Q.submission&&oi(Q.submission.formMethod))){jt(V,{matches:_e},{flushSync:Pe});return}let ye=Fn(_e,re,V.pathname);if(ye.active&&ye.matches&&(_e=ye.matches),!_e){let{error:wt,notFoundMatches:at,route:et}=pt(V.pathname);jt(V,{matches:at,loaderData:{},errors:{[et.id]:wt}},{flushSync:Pe});return}fe=new AbortController;let Ae=Ga(o.history,V,fe.signal,Q&&Q.submission),Oe=new gg(o.unstable_getContext?await o.unstable_getContext():void 0),Ue;if(Q&&Q.pendingError)Ue=[aa(_e).route.id,{type:"error",error:Q.pendingError}];else if(Q&&Q.submission&&oi(Q.submission.formMethod)){let wt=await Gi(Ae,V,Q.submission,_e,Oe,ye.active,Q&&Q.initialHydration===!0,{replace:Q.replace,flushSync:Pe});if(wt.shortCircuited)return;if(wt.pendingActionResult){let[at,et]=wt.pendingActionResult;if(si(et)&&$r(et.error)&&et.error.status===404){fe=null,jt(V,{matches:wt.matches,loaderData:{},errors:{[at]:et.error}});return}}_e=wt.matches||_e,Ue=wt.pendingActionResult,ue=Ju(V,Q.submission),Pe=!1,ye.active=!1,Ae=Ga(o.history,Ae.url,Ae.signal)}let{shortCircuited:Ce,matches:Ge,loaderData:nt,errors:mt}=await Mi(Ae,V,_e,Oe,ye.active,ue,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,Pe,Ue);Ce||(fe=null,jt(V,{matches:Ge||_e,...Rg(Ue),loaderData:nt,errors:mt}))}async function Gi(B,V,Q,re,ue,_e,Pe,ye={}){$e();let Ae=Wy(V,Q);if(vt({navigation:Ae},{flushSync:ye.flushSync===!0}),_e){let Ce=await jn(re,V.pathname,B.signal);if(Ce.type==="aborted")return{shortCircuited:!0};if(Ce.type==="error"){let Ge=aa(Ce.partialMatches).route.id;return{matches:Ce.partialMatches,pendingActionResult:[Ge,{type:"error",error:Ce.error}]}}else if(Ce.matches)re=Ce.matches;else{let{notFoundMatches:Ge,error:nt,route:mt}=pt(V.pathname);return{matches:Ge,pendingActionResult:[mt.id,{type:"error",error:nt}]}}}let Oe,Ue=Qr(re,V);if(!Ue.route.action&&!Ue.route.lazy)Oe={type:"error",error:Ti(405,{method:B.method,pathname:V.pathname,routeId:Ue.route.id})};else{let Ce=Va(s,l,B,re,Ue,Pe?[]:a,ue),Ge=await ie(B,Ce,ue,null);if(Oe=Ge[Ue.route.id],!Oe){for(let nt of re)if(Ge[nt.route.id]){Oe=Ge[nt.route.id];break}}if(B.signal.aborted)return{shortCircuited:!0}}if(ra(Oe)){let Ce;return ye&&ye.replace!=null?Ce=ye.replace:Ce=Eg(Oe.response.headers.get("Location"),new URL(B.url),h)===N.location.pathname+N.location.search,await ve(B,Oe,!0,{submission:Q,replace:Ce}),{shortCircuited:!0}}if(si(Oe)){let Ce=aa(re,Ue.route.id);return(ye&&ye.replace)!==!0&&(he="PUSH"),{matches:re,pendingActionResult:[Ce.route.id,Oe,Ue.route.id]}}return{matches:re,pendingActionResult:[Ue.route.id,Oe]}}async function Mi(B,V,Q,re,ue,_e,Pe,ye,Ae,Oe,Ue,Ce){let Ge=_e||Ju(V,Pe),nt=Pe||ye||Ag(Ge),mt=!be&&!Oe;if(ue){if(mt){let Gt=T(Ce);vt({navigation:Ge,...Gt!==void 0?{actionData:Gt}:{}},{flushSync:Ue})}let Ye=await jn(Q,V.pathname,B.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){let Gt=aa(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,loaderData:{},errors:{[Gt]:Ye.error}}}else if(Ye.matches)Q=Ye.matches;else{let{error:Gt,notFoundMatches:Ei,route:Si}=pt(V.pathname);return{matches:Ei,loaderData:{},errors:{[Si.id]:Gt}}}}let wt=d||u,{dsMatches:at,revalidatingFetchers:et}=vg(B,re,s,l,o.history,N,Q,nt,V,Oe?[]:a,Oe===!0,Fe,Ne,J,ee,z,wt,h,Ce);if(de=++oe,!o.dataStrategy&&!at.some(Ye=>Ye.shouldLoad)&&et.length===0){let Ye=K();return jt(V,{matches:Q,loaderData:{},errors:Ce&&si(Ce[1])?{[Ce[0]]:Ce[1].error}:null,...Rg(Ce),...Ye?{fetchers:new Map(N.fetchers)}:{}},{flushSync:Ue}),{shortCircuited:!0}}if(mt){let Ye={};if(!ue){Ye.navigation=Ge;let Gt=T(Ce);Gt!==void 0&&(Ye.actionData=Gt)}et.length>0&&(Ye.fetchers=O(et)),vt(Ye,{flushSync:Ue})}et.forEach(Ye=>{C(Ye.key),Ye.controller&&k.set(Ye.key,Ye.controller)});let ln=()=>et.forEach(Ye=>C(Ye.key));fe&&fe.signal.addEventListener("abort",ln);let{loaderResults:qt,fetcherResults:ui}=await He(at,et,B,re);if(B.signal.aborted)return{shortCircuited:!0};fe&&fe.signal.removeEventListener("abort",ln),et.forEach(Ye=>k.delete(Ye.key));let Wt=fs(qt);if(Wt)return await ve(B,Wt.result,!0,{replace:Ae}),{shortCircuited:!0};if(Wt=fs(ui),Wt)return z.add(Wt.key),await ve(B,Wt.result,!0,{replace:Ae}),{shortCircuited:!0};let{loaderData:sn,errors:on}=_g(N,Q,qt,Ce,et,ui);Oe&&N.errors&&(on={...N.errors,...on});let Wa=K(),ci=se(de),Vi=Wa||ci||et.length>0;return{matches:Q,loaderData:sn,errors:on,...Vi?{fetchers:new Map(N.fetchers)}:{}}}function T(B){if(B&&!si(B[1]))return{[B[0]]:B[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function O(B){return B.forEach(V=>{let Q=N.fetchers.get(V.key),re=Zr(void 0,Q?Q.data:void 0);N.fetchers.set(V.key,re)}),new Map(N.fetchers)}async function Z(B,V,Q,re){C(B);let ue=(re&&re.flushSync)===!0,_e=d||u,Pe=ic(N.location,N.matches,h,Q,V,re==null?void 0:re.relative),ye=zn(_e,Pe,h),Ae=Fn(ye,_e,Pe);if(Ae.active&&Ae.matches&&(ye=Ae.matches),!ye){me(B,V,Ti(404,{pathname:Pe}),{flushSync:ue});return}let{path:Oe,submission:Ue,error:Ce}=mg(!0,Pe,re);if(Ce){me(B,V,Ce,{flushSync:ue});return}let Ge=Qr(ye,Oe),nt=new gg(o.unstable_getContext?await o.unstable_getContext():void 0),mt=(re&&re.preventScrollReset)===!0;if(Ue&&oi(Ue.formMethod)){await le(B,V,Oe,Ge,ye,nt,Ae.active,ue,mt,Ue);return}ee.set(B,{routeId:V,path:Oe}),await ce(B,V,Oe,Ge,ye,nt,Ae.active,ue,mt,Ue)}async function le(B,V,Q,re,ue,_e,Pe,ye,Ae,Oe){$e(),ee.delete(B);function Ue(yt){if(!yt.route.action&&!yt.route.lazy){let un=Ti(405,{method:Oe.formMethod,pathname:Q,routeId:V});return me(B,V,un,{flushSync:ye}),!0}return!1}if(!Pe&&Ue(re))return;let Ce=N.fetchers.get(B);qe(B,Xy(Oe,Ce),{flushSync:ye});let Ge=new AbortController,nt=Ga(o.history,Q,Ge.signal,Oe);if(Pe){let yt=await jn(ue,Q,nt.signal,B);if(yt.type==="aborted")return;if(yt.type==="error"){me(B,V,yt.error,{flushSync:ye});return}else if(yt.matches){if(ue=yt.matches,re=Qr(ue,Q),Ue(re))return}else{me(B,V,Ti(404,{pathname:Q}),{flushSync:ye});return}}k.set(B,Ge);let mt=oe,wt=Va(s,l,nt,ue,re,a,_e),et=(await ie(nt,wt,_e,B))[re.route.id];if(nt.signal.aborted){k.get(B)===Ge&&k.delete(B);return}if(J.has(B)){if(ra(et)||si(et)){qe(B,Pn(void 0));return}}else{if(ra(et))if(k.delete(B),de>mt){qe(B,Pn(void 0));return}else return z.add(B),qe(B,Zr(Oe)),ve(nt,et,!1,{fetcherSubmission:Oe,preventScrollReset:Ae});if(si(et)){me(B,V,et.error);return}}let ln=N.navigation.location||N.location,qt=Ga(o.history,ln,Ge.signal),ui=d||u,Wt=N.navigation.state!=="idle"?zn(ui,N.navigation.location,h):N.matches;Xe(Wt,"Didn't find any matches after fetcher action");let sn=++oe;Me.set(B,sn);let on=Zr(Oe,et.data);N.fetchers.set(B,on);let{dsMatches:Wa,revalidatingFetchers:ci}=vg(qt,_e,s,l,o.history,N,Wt,Oe,ln,a,!1,Fe,Ne,J,ee,z,ui,h,[re.route.id,et]);ci.filter(yt=>yt.key!==B).forEach(yt=>{let un=yt.key,Xa=N.fetchers.get(un),Xt=Zr(void 0,Xa?Xa.data:void 0);N.fetchers.set(un,Xt),C(un),yt.controller&&k.set(un,yt.controller)}),vt({fetchers:new Map(N.fetchers)});let Vi=()=>ci.forEach(yt=>C(yt.key));Ge.signal.addEventListener("abort",Vi);let{loaderResults:Ye,fetcherResults:Gt}=await He(Wa,ci,qt,_e);if(Ge.signal.aborted)return;Ge.signal.removeEventListener("abort",Vi),Me.delete(B),k.delete(B),ci.forEach(yt=>k.delete(yt.key));let Ei=fs(Ye);if(Ei)return ve(qt,Ei.result,!1,{preventScrollReset:Ae});if(Ei=fs(Gt),Ei)return z.add(Ei.key),ve(qt,Ei.result,!1,{preventScrollReset:Ae});let{loaderData:Si,errors:Gn}=_g(N,Wt,Ye,void 0,ci,Gt);if(N.fetchers.has(B)){let yt=Pn(et.data);N.fetchers.set(B,yt)}se(sn),N.navigation.state==="loading"&&sn>de?(Xe(he,"Expected pending action"),fe&&fe.abort(),jt(N.navigation.location,{matches:Wt,loaderData:Si,errors:Gn,fetchers:new Map(N.fetchers)})):(vt({errors:Gn,loaderData:bg(N.loaderData,Si,Wt,Gn),fetchers:new Map(N.fetchers)}),Fe=!1)}async function ce(B,V,Q,re,ue,_e,Pe,ye,Ae,Oe){let Ue=N.fetchers.get(B);qe(B,Zr(Oe,Ue?Ue.data:void 0),{flushSync:ye});let Ce=new AbortController,Ge=Ga(o.history,Q,Ce.signal);if(Pe){let et=await jn(ue,Q,Ge.signal,B);if(et.type==="aborted")return;if(et.type==="error"){me(B,V,et.error,{flushSync:ye});return}else if(et.matches)ue=et.matches,re=Qr(ue,Q);else{me(B,V,Ti(404,{pathname:Q}),{flushSync:ye});return}}k.set(B,Ce);let nt=oe,mt=Va(s,l,Ge,ue,re,a,_e),at=(await ie(Ge,mt,_e,B))[re.route.id];if(k.get(B)===Ce&&k.delete(B),!Ge.signal.aborted){if(J.has(B)){qe(B,Pn(void 0));return}if(ra(at))if(de>nt){qe(B,Pn(void 0));return}else{z.add(B),await ve(Ge,at,!1,{preventScrollReset:Ae});return}if(si(at)){me(B,V,at.error);return}qe(B,Pn(at.data))}}async function ve(B,V,Q,{submission:re,fetcherSubmission:ue,preventScrollReset:_e,replace:Pe}={}){V.response.headers.has("X-Remix-Revalidate")&&(Fe=!0);let ye=V.response.headers.get("Location");Xe(ye,"Expected a Location header on the redirect Response"),ye=Eg(ye,new URL(B.url),h);let Ae=Jr(N.location,ye,{_isRedirect:!0});if(i){let mt=!1;if(V.response.headers.has("X-Remix-Reload-Document"))mt=!0;else if(hc.test(ye)){const wt=o.history.createURL(ye);mt=wt.origin!==p.location.origin||wi(wt.pathname,h)==null}if(mt){Pe?p.location.replace(ye):p.location.assign(ye);return}}fe=null;let Oe=Pe===!0||V.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ue,formAction:Ce,formEncType:Ge}=N.navigation;!re&&!ue&&Ue&&Ce&&Ge&&(re=Ag(N.navigation));let nt=re||ue;if(My.has(V.response.status)&&nt&&oi(nt.formMethod))await It(Oe,Ae,{submission:{...nt,formAction:ye},preventScrollReset:_e||pe,enableViewTransition:Q?ke:void 0});else{let mt=Ju(Ae,re);await It(Oe,Ae,{overrideNavigation:mt,fetcherSubmission:ue,preventScrollReset:_e||pe,enableViewTransition:Q?ke:void 0})}}async function ie(B,V,Q,re){let ue,_e={};try{ue=await jy(c,B,V,re,Q,!1)}catch(Pe){return V.filter(ye=>ye.shouldLoad).forEach(ye=>{_e[ye.route.id]={type:"error",error:Pe}}),_e}for(let[Pe,ye]of Object.entries(ue))if(Zy(ye)){let Ae=ye.result;_e[Pe]={type:"redirect",response:Vy(Ae,B,Pe,V,h)}}else _e[Pe]=await ky(ye);return _e}async function He(B,V,Q,re){let ue=ie(Q,B,re,null),_e=Promise.all(V.map(async Ae=>{if(Ae.matches&&Ae.match&&Ae.request&&Ae.controller){let Ue=(await ie(Ae.request,Ae.matches,re,Ae.key))[Ae.match.route.id];return{[Ae.key]:Ue}}else return Promise.resolve({[Ae.key]:{type:"error",error:Ti(404,{pathname:Ae.path})}})})),Pe=await ue,ye=(await _e).reduce((Ae,Oe)=>Object.assign(Ae,Oe),{});return{loaderResults:Pe,fetcherResults:ye}}function $e(){Fe=!0,ee.forEach((B,V)=>{k.has(V)&&Ne.add(V),C(V)})}function qe(B,V,Q={}){N.fetchers.set(B,V),vt({fetchers:new Map(N.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function me(B,V,Q,re={}){let ue=aa(N.matches,V);S(B),vt({errors:{[ue.route.id]:Q},fetchers:new Map(N.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function it(B){return ge.set(B,(ge.get(B)||0)+1),J.has(B)&&J.delete(B),N.fetchers.get(B)||Py}function S(B){let V=N.fetchers.get(B);k.has(B)&&!(V&&V.state==="loading"&&Me.has(B))&&C(B),ee.delete(B),Me.delete(B),z.delete(B),J.delete(B),Ne.delete(B),N.fetchers.delete(B)}function x(B){let V=(ge.get(B)||0)-1;V<=0?(ge.delete(B),J.add(B)):ge.set(B,V),vt({fetchers:new Map(N.fetchers)})}function C(B){let V=k.get(B);V&&(V.abort(),k.delete(B))}function M(B){for(let V of B){let Q=it(V),re=Pn(Q.data);N.fetchers.set(V,re)}}function K(){let B=[],V=!1;for(let Q of z){let re=N.fetchers.get(Q);Xe(re,`Expected fetcher: ${Q}`),re.state==="loading"&&(z.delete(Q),B.push(Q),V=!0)}return M(B),V}function se(B){let V=[];for(let[Q,re]of Me)if(re<B){let ue=N.fetchers.get(Q);Xe(ue,`Expected fetcher: ${Q}`),ue.state==="loading"&&(C(Q),Me.delete(Q),V.push(Q))}return M(V),V.length>0}function Ee(B,V){let Q=N.blockers.get(B)||qr;return we.get(B)!==V&&we.set(B,V),Q}function Qe(B){N.blockers.delete(B),we.delete(B)}function Se(B,V){let Q=N.blockers.get(B)||qr;Xe(Q.state==="unblocked"&&V.state==="blocked"||Q.state==="blocked"&&V.state==="blocked"||Q.state==="blocked"&&V.state==="proceeding"||Q.state==="blocked"&&V.state==="unblocked"||Q.state==="proceeding"&&V.state==="unblocked",`Invalid blocker state transition: ${Q.state} -> ${V.state}`);let re=new Map(N.blockers);re.set(B,V),vt({blockers:re})}function zt({currentLocation:B,nextLocation:V,historyAction:Q}){if(we.size===0)return;we.size>1&&bt(!1,"A router only supports one blocker at a time");let re=Array.from(we.entries()),[ue,_e]=re[re.length-1],Pe=N.blockers.get(ue);if(!(Pe&&Pe.state==="proceeding")&&_e({currentLocation:B,nextLocation:V,historyAction:Q}))return ue}function pt(B){let V=Ti(404,{pathname:B}),Q=d||u,{matches:re,route:ue}=Cg(Q);return{notFoundMatches:re,route:ue,error:V}}function xi(B,V,Q){if(w=B,b=V,_=Q||null,!D&&N.navigation===Ku){D=!0;let re=Un(N.location,N.matches);re!=null&&vt({restoreScrollPosition:re})}return()=>{w=null,b=null,_=null}}function ki(B,V){return _&&_(B,V.map(re=>uy(re,N.loaderData)))||B.key}function Pi(B,V){if(w&&b){let Q=ki(B,V);w[Q]=b()}}function Un(B,V){if(w){let Q=ki(B,V),re=w[Q];if(typeof re=="number")return re}return null}function Fn(B,V,Q){if(o.patchRoutesOnNavigation)if(B){if(Object.keys(B[0].params).length>0)return{active:!0,matches:ps(V,Q,h,!0)}}else return{active:!0,matches:ps(V,Q,h,!0)||[]};return{active:!1,matches:null}}async function jn(B,V,Q,re){if(!o.patchRoutesOnNavigation)return{type:"success",matches:B};let ue=B;for(;;){let _e=d==null,Pe=d||u,ye=l;try{await o.patchRoutesOnNavigation({signal:Q,path:V,matches:ue,fetcherKey:re,patch:(Ue,Ce)=>{Q.aborted||yg(Ue,Ce,Pe,ye,s)}})}catch(Ue){return{type:"error",error:Ue,partialMatches:ue}}finally{_e&&!Q.aborted&&(u=[...u])}if(Q.aborted)return{type:"aborted"};let Ae=zn(Pe,V,h);if(Ae)return{type:"success",matches:Ae};let Oe=ps(Pe,V,h,!0);if(!Oe||ue.length===Oe.length&&ue.every((Ue,Ce)=>Ue.route.id===Oe[Ce].route.id))return{type:"success",matches:null};ue=Oe}}function Za(B){l={},d=Es(B,s,void 0,l)}function Ya(B,V){let Q=d==null;yg(B,V,d||u,l,s),Q&&(u=[...u],vt({}))}return I={get basename(){return h},get future(){return g},get state(){return N},get routes(){return u},get window(){return p},initialize:Et,subscribe:Yt,enableScrollRestoration:xi,navigate:Ai,fetch:Z,revalidate:Oi,createHref:B=>o.history.createHref(B),encodeLocation:B=>o.history.encodeLocation(B),getFetcher:it,deleteFetcher:x,dispose:lt,getBlocker:Ee,deleteBlocker:Qe,patchRoutes:Ya,_internalFetchControllers:k,_internalSetRoutes:Za},I}function By(o){return o!=null&&("formData"in o&&o.formData!=null||"body"in o&&o.body!==void 0)}function ic(o,p,i,a,s,l){let u,d;if(s){u=[];for(let c of p)if(u.push(c),c.route.id===s){d=c;break}}else u=p,d=p[p.length-1];let h=As(a||".",Ds(u),wi(o.pathname,i)||o.pathname,l==="path");if(a==null&&(h.search=o.search,h.hash=o.hash),(a==null||a===""||a===".")&&d){let c=fc(h.search);if(d.route.index&&!c)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&c){let g=new URLSearchParams(h.search),v=g.getAll("index");g.delete("index"),v.filter(w=>w).forEach(w=>g.append("index",w));let y=g.toString();h.search=y?`?${y}`:""}}return i!=="/"&&(h.pathname=h.pathname==="/"?i:Fi([i,h.pathname])),Ln(h)}function mg(o,p,i){if(!i||!By(i))return{path:p};if(i.formMethod&&!Yy(i.formMethod))return{path:p,error:Ti(405,{method:i.formMethod})};let a=()=>({path:p,error:Ti(400,{type:"invalid-body"})}),l=(i.formMethod||"get").toUpperCase(),u=up(p);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!oi(l))return a();let v=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((y,[w,_])=>`${y}${w}=${_}
`,""):String(i.body);return{path:p,submission:{formMethod:l,formAction:u,formEncType:i.formEncType,formData:void 0,json:void 0,text:v}}}else if(i.formEncType==="application/json"){if(!oi(l))return a();try{let v=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:p,submission:{formMethod:l,formAction:u,formEncType:i.formEncType,formData:void 0,json:v,text:void 0}}}catch{return a()}}}Xe(typeof FormData=="function","FormData is not available in this environment");let d,h;if(i.formData)d=rc(i.formData),h=i.formData;else if(i.body instanceof FormData)d=rc(i.body),h=i.body;else if(i.body instanceof URLSearchParams)d=i.body,h=Sg(d);else if(i.body==null)d=new URLSearchParams,h=new FormData;else try{d=new URLSearchParams(i.body),h=Sg(d)}catch{return a()}let c={formMethod:l,formAction:u,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(oi(c.formMethod))return{path:p,submission:c};let g=rn(p);return o&&g.search&&fc(g.search)&&d.append("index",""),g.search=`?${d}`,{path:Ln(g),submission:c}}function vg(o,p,i,a,s,l,u,d,h,c,g,v,y,w,_,b,D,A,L){var Te;let j=L?si(L[1])?L[1].error:L[1].data:void 0,ae=s.createURL(l.location),I=s.createURL(h),N;if(g&&l.errors){let be=Object.keys(l.errors)[0];N=u.findIndex(Fe=>Fe.route.id===be)}else if(L&&si(L[1])){let be=L[0];N=u.findIndex(Fe=>Fe.route.id===be)-1}let he=L?L[1].statusCode:void 0,pe=he&&he>=400,fe={currentUrl:ae,currentParams:((Te=l.matches[0])==null?void 0:Te.params)||{},nextUrl:I,nextParams:u[0].params,...d,actionResult:j,actionStatus:he},ke=u.map((be,Fe)=>{let{route:Ne}=be,k=null;if(N!=null&&Fe>N?k=!1:Ne.lazy?k=!0:Ne.loader==null?k=!1:g?k=nc(Ne,l.loaderData,l.errors):Ny(l.loaderData,l.matches[Fe],be)&&(k=!0),k!==null)return ac(i,a,o,be,c,p,k);let oe=pe?!1:v||ae.pathname+ae.search===I.pathname+I.search||ae.search!==I.search||Hy(l.matches[Fe],be),de={...fe,defaultShouldRevalidate:oe},Me=bs(be,de);return ac(i,a,o,be,c,p,Me,de)}),Be=[];return _.forEach((be,Fe)=>{if(g||!u.some(ee=>ee.route.id===be.routeId)||w.has(Fe))return;let Ne=zn(D,be.path,A);if(!Ne){Be.push({key:Fe,routeId:be.routeId,path:be.path,matches:null,match:null,request:null,controller:null});return}if(b.has(Fe))return;let k=l.fetchers.get(Fe),oe=Qr(Ne,be.path),de=new AbortController,Me=Ga(s,be.path,de.signal),z=null;if(y.has(Fe))y.delete(Fe),z=Va(i,a,Me,Ne,oe,c,p);else if(k&&k.state!=="idle"&&k.data===void 0)v&&(z=Va(i,a,Me,Ne,oe,c,p));else{let ee={...fe,defaultShouldRevalidate:pe?!1:v};bs(oe,ee)&&(z=Va(i,a,Me,Ne,oe,c,p,ee))}z&&Be.push({key:Fe,routeId:be.routeId,path:be.path,matches:z,match:oe,request:Me,controller:de})}),{dsMatches:ke,revalidatingFetchers:Be}}function nc(o,p,i){if(o.lazy)return!0;if(!o.loader)return!1;let a=p!=null&&p[o.id]!==void 0,s=i!=null&&i[o.id]!==void 0;return!a&&s?!1:typeof o.loader=="function"&&o.loader.hydrate===!0?!0:!a&&!s}function Ny(o,p,i){let a=!p||i.route.id!==p.route.id,s=!o.hasOwnProperty(i.route.id);return a||s}function Hy(o,p){let i=o.route.path;return o.pathname!==p.pathname||i!=null&&i.endsWith("*")&&o.params["*"]!==p.params["*"]}function bs(o,p){if(o.route.shouldRevalidate){let i=o.route.shouldRevalidate(p);if(typeof i=="boolean")return i}return p.defaultShouldRevalidate}function yg(o,p,i,a,s){let l;if(o){let h=a[o];Xe(h,`No route found to patch children into: routeId = ${o}`),h.children||(h.children=[]),l=h.children}else l=i;let u=p.filter(h=>!l.some(c=>ap(h,c))),d=Es(u,s,[o||"_","patch",String((l==null?void 0:l.length)||"0")],a);l.push(...d)}function ap(o,p){return"id"in o&&"id"in p&&o.id===p.id?!0:o.index===p.index&&o.path===p.path&&o.caseSensitive===p.caseSensitive?(!o.children||o.children.length===0)&&(!p.children||p.children.length===0)?!0:o.children.every((i,a)=>{var s;return(s=p.children)==null?void 0:s.some(l=>ap(i,l))}):!1}var Tg=new WeakMap,rp=({key:o,route:p,manifest:i,mapRouteProperties:a})=>{let s=i[p.id];if(Xe(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let l=s.lazy[o];if(!l)return;let u=Tg.get(s);u||(u={},Tg.set(s,u));let d=u[o];if(d)return d;let h=(async()=>{let c=ry(o),v=s[o]!==void 0&&o!=="hasErrorBoundary";if(c)bt(!c,"Route property "+o+" is not a supported lazy route property. This property will be ignored."),u[o]=Promise.resolve();else if(v)bt(!1,`Route "${s.id}" has a static property "${o}" defined. The lazy property will be ignored.`);else{let y=await l();y!=null&&(Object.assign(s,{[o]:y}),Object.assign(s,a(s)))}typeof s.lazy=="object"&&(s.lazy[o]=void 0,Object.values(s.lazy).every(y=>y===void 0)&&(s.lazy=void 0))})();return u[o]=h,h},wg=new WeakMap;function Uy(o,p,i,a,s){let l=i[o.id];if(Xe(l,"No route found in manifest"),!o.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof o.lazy=="function"){let g=wg.get(l);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let v=(async()=>{Xe(typeof o.lazy=="function","No lazy route function found");let y=await o.lazy(),w={};for(let _ in y){let b=y[_];if(b===void 0)continue;let D=sy(_),L=l[_]!==void 0&&_!=="hasErrorBoundary";D?bt(!D,"Route property "+_+" is not a supported property to be returned from a lazy route function. This property will be ignored."):L?bt(!L,`Route "${l.id}" has a static property "${_}" defined but its lazy function is also returning a value for this property. The lazy route property "${_}" will be ignored.`):w[_]=b}Object.assign(l,w),Object.assign(l,{...a(l),lazy:void 0})})();return wg.set(l,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let u=Object.keys(o.lazy),d=[],h;for(let g of u){if(s&&s.includes(g))continue;let v=rp({key:g,route:o,manifest:i,mapRouteProperties:a});v&&(d.push(v),g===p&&(h=v))}let c=d.length>0?Promise.all(d).then(()=>{}):void 0;return c==null||c.catch(()=>{}),h==null||h.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:h}}async function xg(o){let p=o.matches.filter(s=>s.shouldLoad),i={};return(await Promise.all(p.map(s=>s.resolve()))).forEach((s,l)=>{i[p[l].route.id]=s}),i}async function Fy(o){return o.matches.some(p=>p.route.unstable_middleware)?lp(o,!1,()=>xg(o),(p,i)=>({[i]:{type:"error",result:p}})):xg(o)}async function lp(o,p,i,a){let{matches:s,request:l,params:u,context:d}=o,h={handlerResult:void 0};try{let c=s.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(y=>[v.route.id,y]):[]),g=await sp({request:l,params:u,context:d},c,p,h,i);return p?g:h.handlerResult}catch(c){if(!h.middlewareError)throw c;let g=await a(h.middlewareError.error,h.middlewareError.routeId);return h.handlerResult?Object.assign(h.handlerResult,g):g}}async function sp(o,p,i,a,s,l=0){let{request:u}=o;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let d=p[l];if(!d)return a.handlerResult=await s(),a.handlerResult;let[h,c]=d,g=!1,v,y=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");g=!0,await sp(o,p,i,a,s,l+1)};try{let w=await c({request:o.request,params:o.params,context:o.context},y);return g?w===void 0?v:w:y()}catch(w){throw a.middlewareError?a.middlewareError.error!==w&&(a.middlewareError={routeId:h,error:w}):a.middlewareError={routeId:h,error:w},w}}function op(o,p,i,a,s){let l=rp({key:"unstable_middleware",route:a.route,manifest:p,mapRouteProperties:o}),u=Uy(a.route,oi(i.method)?"action":"loader",p,o,s);return{middleware:l,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function ac(o,p,i,a,s,l,u,d=null){let h=!1,c=op(o,p,i,a,s);return{...a,_lazyPromises:c,shouldLoad:u,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(g){return h=!0,d?typeof g=="boolean"?bs(a,{...d,defaultShouldRevalidate:g}):bs(a,d):u},resolve(g){return h||u||g&&i.method==="GET"&&(a.route.lazy||a.route.loader)?Gy({request:i,match:a,lazyHandlerPromise:c==null?void 0:c.handler,lazyRoutePromise:c==null?void 0:c.route,handlerOverride:g,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Va(o,p,i,a,s,l,u,d=null){return a.map(h=>h.route.id!==s.route.id?{...h,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:op(o,p,i,h,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:ac(o,p,i,h,l,u,!0,d))}async function jy(o,p,i,a,s,l){i.some(c=>{var g;return(g=c._lazyPromises)==null?void 0:g.middleware})&&await Promise.all(i.map(c=>{var g;return(g=c._lazyPromises)==null?void 0:g.middleware}));let u={request:p,params:i[0].params,context:s,matches:i},h=await o({...u,fetcherKey:a,unstable_runClientMiddleware:c=>{let g=u;return lp(g,!1,()=>c({...g,fetcherKey:a,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(v,y)=>({[y]:{type:"error",result:v}}))}});try{await Promise.all(i.flatMap(c=>{var g,v;return[(g=c._lazyPromises)==null?void 0:g.handler,(v=c._lazyPromises)==null?void 0:v.route]}))}catch{}return h}async function Gy({request:o,match:p,lazyHandlerPromise:i,lazyRoutePromise:a,handlerOverride:s,scopedContext:l}){let u,d,h=oi(o.method),c=h?"action":"loader",g=v=>{let y,w=new Promise((D,A)=>y=A);d=()=>y(),o.signal.addEventListener("abort",d);let _=D=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${c}" [routeId: ${p.route.id}]`)):v({request:o,params:p.params,context:l},...D!==void 0?[D]:[]),b=(async()=>{try{return{type:"data",result:await(s?s(A=>_(A)):_())}}catch(D){return{type:"error",result:D}}})();return Promise.race([b,w])};try{let v=h?p.route.action:p.route.loader;if(i||a)if(v){let y,[w]=await Promise.all([g(v).catch(_=>{y=_}),i,a]);if(y!==void 0)throw y;u=w}else{await i;let y=h?p.route.action:p.route.loader;if(y)[u]=await Promise.all([g(y),a]);else if(c==="action"){let w=new URL(o.url),_=w.pathname+w.search;throw Ti(405,{method:o.method,pathname:_,routeId:p.route.id})}else return{type:"data",result:void 0}}else if(v)u=await g(v);else{let y=new URL(o.url),w=y.pathname+y.search;throw Ti(404,{pathname:w})}}catch(v){return{type:"error",result:v}}finally{d&&o.signal.removeEventListener("abort",d)}return u}async function ky(o){var a,s,l,u,d,h;let{result:p,type:i}=o;if(cp(p)){let c;try{let g=p.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?p.body==null?c=null:c=await p.json():c=await p.text()}catch(g){return{type:"error",error:g}}return i==="error"?{type:"error",error:new _s(p.status,p.statusText,c),statusCode:p.status,headers:p.headers}:{type:"data",data:c,statusCode:p.status,headers:p.headers}}return i==="error"?Dg(p)?p.data instanceof Error?{type:"error",error:p.data,statusCode:(a=p.init)==null?void 0:a.status,headers:(s=p.init)!=null&&s.headers?new Headers(p.init.headers):void 0}:{type:"error",error:new _s(((l=p.init)==null?void 0:l.status)||500,void 0,p.data),statusCode:$r(p)?p.status:void 0,headers:(u=p.init)!=null&&u.headers?new Headers(p.init.headers):void 0}:{type:"error",error:p,statusCode:$r(p)?p.status:void 0}:Dg(p)?{type:"data",data:p.data,statusCode:(d=p.init)==null?void 0:d.status,headers:(h=p.init)!=null&&h.headers?new Headers(p.init.headers):void 0}:{type:"data",data:p}}function Vy(o,p,i,a,s){let l=o.headers.get("Location");if(Xe(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!hc.test(l)){let u=a.slice(0,a.findIndex(d=>d.route.id===i)+1);l=ic(new URL(p.url),u,s,l),o.headers.set("Location",l)}return o}function Eg(o,p,i){if(hc.test(o)){let a=o,s=a.startsWith("//")?new URL(p.protocol+a):new URL(a),l=wi(s.pathname,i)!=null;if(s.origin===p.origin&&l)return s.pathname+s.search+s.hash}return o}function Ga(o,p,i,a){let s=o.createURL(up(p)).toString(),l={signal:i};if(a&&oi(a.formMethod)){let{formMethod:u,formEncType:d}=a;l.method=u.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(a.json)):d==="text/plain"?l.body=a.text:d==="application/x-www-form-urlencoded"&&a.formData?l.body=rc(a.formData):l.body=a.formData}return new Request(s,l)}function rc(o){let p=new URLSearchParams;for(let[i,a]of o.entries())p.append(i,typeof a=="string"?a:a.name);return p}function Sg(o){let p=new FormData;for(let[i,a]of o.entries())p.append(i,a);return p}function Iy(o,p,i,a=!1,s=!1){let l={},u=null,d,h=!1,c={},g=i&&si(i[1])?i[1].error:void 0;return o.forEach(v=>{if(!(v.route.id in p))return;let y=v.route.id,w=p[y];if(Xe(!ra(w),"Cannot handle redirect results in processLoaderData"),si(w)){let _=w.error;if(g!==void 0&&(_=g,g=void 0),u=u||{},s)u[y]=_;else{let b=aa(o,y);u[b.route.id]==null&&(u[b.route.id]=_)}a||(l[y]=np),h||(h=!0,d=$r(w.error)?w.error.status:500),w.headers&&(c[y]=w.headers)}else l[y]=w.data,w.statusCode&&w.statusCode!==200&&!h&&(d=w.statusCode),w.headers&&(c[y]=w.headers)}),g!==void 0&&i&&(u={[i[0]]:g},i[2]&&(l[i[2]]=void 0)),{loaderData:l,errors:u,statusCode:d||200,loaderHeaders:c}}function _g(o,p,i,a,s,l){let{loaderData:u,errors:d}=Iy(p,i,a);return s.filter(h=>!h.matches||h.matches.some(c=>c.shouldLoad)).forEach(h=>{let{key:c,match:g,controller:v}=h,y=l[c];if(Xe(y,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(si(y)){let w=aa(o.matches,g==null?void 0:g.route.id);d&&d[w.route.id]||(d={...d,[w.route.id]:y.error}),o.fetchers.delete(c)}else if(ra(y))Xe(!1,"Unhandled fetcher revalidation redirect");else{let w=Pn(y.data);o.fetchers.set(c,w)}}),{loaderData:u,errors:d}}function bg(o,p,i,a){let s=Object.entries(p).filter(([,l])=>l!==np).reduce((l,[u,d])=>(l[u]=d,l),{});for(let l of i){let u=l.route.id;if(!p.hasOwnProperty(u)&&o.hasOwnProperty(u)&&l.route.loader&&(s[u]=o[u]),a&&a.hasOwnProperty(u))break}return s}function Rg(o){return o?si(o[1])?{actionData:{}}:{actionData:{[o[0]]:o[1].data}}:{}}function aa(o,p){return(p?o.slice(0,o.findIndex(a=>a.route.id===p)+1):[...o]).reverse().find(a=>a.route.hasErrorBoundary===!0)||o[0]}function Cg(o){let p=o.length===1?o[0]:o.find(i=>i.index||!i.path||i.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:p}],route:p}}function Ti(o,{pathname:p,routeId:i,method:a,type:s,message:l}={}){let u="Unknown Server Error",d="Unknown @remix-run/router error";return o===400?(u="Bad Request",a&&p&&i?d=`You made a ${a} request to "${p}" but did not provide a \`loader\` for route "${i}", so there is no way to handle the request.`:s==="invalid-body"&&(d="Unable to encode submission body")):o===403?(u="Forbidden",d=`Route "${i}" does not match URL "${p}"`):o===404?(u="Not Found",d=`No route matches URL "${p}"`):o===405&&(u="Method Not Allowed",a&&p&&i?d=`You made a ${a.toUpperCase()} request to "${p}" but did not provide an \`action\` for route "${i}", so there is no way to handle the request.`:a&&(d=`Invalid request method "${a.toUpperCase()}"`)),new _s(o||500,u,new Error(d),!0)}function fs(o){let p=Object.entries(o);for(let i=p.length-1;i>=0;i--){let[a,s]=p[i];if(ra(s))return{key:a,result:s}}}function up(o){let p=typeof o=="string"?rn(o):o;return Ln({...p,hash:""})}function qy(o,p){return o.pathname!==p.pathname||o.search!==p.search?!1:o.hash===""?p.hash!=="":o.hash===p.hash?!0:p.hash!==""}function Zy(o){return cp(o.result)&&Oy.has(o.result.status)}function si(o){return o.type==="error"}function ra(o){return(o&&o.type)==="redirect"}function Dg(o){return typeof o=="object"&&o!=null&&"type"in o&&"data"in o&&"init"in o&&o.type==="DataWithResponseInit"}function cp(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.headers=="object"&&typeof o.body<"u"}function Yy(o){return Ay.has(o.toUpperCase())}function oi(o){return Cy.has(o.toUpperCase())}function fc(o){return new URLSearchParams(o).getAll("index").some(p=>p==="")}function Qr(o,p){let i=typeof p=="string"?rn(p).search:p.search;if(o[o.length-1].route.index&&fc(i||""))return o[o.length-1];let a=ep(o);return a[a.length-1]}function Ag(o){let{formMethod:p,formAction:i,formEncType:a,text:s,formData:l,json:u}=o;if(!(!p||!i||!a)){if(s!=null)return{formMethod:p,formAction:i,formEncType:a,formData:void 0,json:void 0,text:s};if(l!=null)return{formMethod:p,formAction:i,formEncType:a,formData:l,json:void 0,text:void 0};if(u!==void 0)return{formMethod:p,formAction:i,formEncType:a,formData:void 0,json:u,text:void 0}}}function Ju(o,p){return p?{state:"loading",location:o,formMethod:p.formMethod,formAction:p.formAction,formEncType:p.formEncType,formData:p.formData,json:p.json,text:p.text}:{state:"loading",location:o,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Wy(o,p){return{state:"submitting",location:o,formMethod:p.formMethod,formAction:p.formAction,formEncType:p.formEncType,formData:p.formData,json:p.json,text:p.text}}function Zr(o,p){return o?{state:"loading",formMethod:o.formMethod,formAction:o.formAction,formEncType:o.formEncType,formData:o.formData,json:o.json,text:o.text,data:p}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:p}}function Xy(o,p){return{state:"submitting",formMethod:o.formMethod,formAction:o.formAction,formEncType:o.formEncType,formData:o.formData,json:o.json,text:o.text,data:p?p.data:void 0}}function Pn(o){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:o}}function Qy(o,p){try{let i=o.sessionStorage.getItem(ip);if(i){let a=JSON.parse(i);for(let[s,l]of Object.entries(a||{}))l&&Array.isArray(l)&&p.set(s,new Set(l||[]))}}catch{}}function Ky(o,p){if(p.size>0){let i={};for(let[a,s]of p)i[a]=[...s];try{o.sessionStorage.setItem(ip,JSON.stringify(i))}catch(a){bt(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function Jy(){let o,p,i=new Promise((a,s)=>{o=async l=>{a(l);try{await i}catch{}},p=async l=>{s(l);try{await i}catch{}}});return{promise:i,resolve:o,reject:p}}var sa=F.createContext(null);sa.displayName="DataRouter";var el=F.createContext(null);el.displayName="DataRouterState";var dc=F.createContext({isTransitioning:!1});dc.displayName="ViewTransition";var hp=F.createContext(new Map);hp.displayName="Fetchers";var $y=F.createContext(null);$y.displayName="Await";var Di=F.createContext(null);Di.displayName="Navigation";var Os=F.createContext(null);Os.displayName="Location";var ji=F.createContext({outlet:null,matches:[],isDataRoute:!1});ji.displayName="Route";var gc=F.createContext(null);gc.displayName="RouteError";function e0(o,{relative:p}={}){Xe(Ia(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=F.useContext(Di),{hash:s,pathname:l,search:u}=tl(o,{relative:p}),d=l;return i!=="/"&&(d=l==="/"?i:Fi([i,l])),a.createHref({pathname:d,search:u,hash:s})}function Ia(){return F.useContext(Os)!=null}function Bn(){return Xe(Ia(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Os).location}var fp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dp(o){F.useContext(Di).static||F.useLayoutEffect(o)}function gp(){let{isDataRoute:o}=F.useContext(ji);return o?d0():t0()}function t0(){Xe(Ia(),"useNavigate() may be used only in the context of a <Router> component.");let o=F.useContext(sa),{basename:p,navigator:i}=F.useContext(Di),{matches:a}=F.useContext(ji),{pathname:s}=Bn(),l=JSON.stringify(Ds(a)),u=F.useRef(!1);return dp(()=>{u.current=!0}),F.useCallback((h,c={})=>{if(bt(u.current,fp),!u.current)return;if(typeof h=="number"){i.go(h);return}let g=As(h,JSON.parse(l),s,c.relative==="path");o==null&&p!=="/"&&(g.pathname=g.pathname==="/"?p:Fi([p,g.pathname])),(c.replace?i.replace:i.push)(g,c.state,c)},[p,i,l,s,o])}F.createContext(null);function tl(o,{relative:p}={}){let{matches:i}=F.useContext(ji),{pathname:a}=Bn(),s=JSON.stringify(Ds(i));return F.useMemo(()=>As(o,JSON.parse(s),a,p==="path"),[o,s,a,p])}function i0(o,p,i,a){Xe(Ia(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:l}=F.useContext(Di),{matches:u}=F.useContext(ji),d=u[u.length-1],h=d?d.params:{},c=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let L=v&&v.path||"";pp(c,!v||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let y=Bn(),w;w=y;let _=w.pathname||"/",b=_;if(g!=="/"){let L=g.replace(/^\//,"").split("/");b="/"+_.replace(/^\//,"").split("/").slice(L.length).join("/")}let D=!l&&i&&i.matches&&i.matches.length>0?i.matches:zn(o,{pathname:b});return bt(v||D!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),bt(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),s0(D&&D.map(L=>Object.assign({},L,{params:Object.assign({},h,L.params),pathname:Fi([g,s.encodeLocation?s.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:Fi([g,s.encodeLocation?s.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),u,i,a)}function n0(){let o=f0(),p=$r(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),i=o instanceof Error?o.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",o),u=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},p),i?F.createElement("pre",{style:s},i):null,u)}var a0=F.createElement(n0,null),r0=class extends F.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,p){return p.location!==o.location||p.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:p.error,location:p.location,revalidation:o.revalidation||p.revalidation}}componentDidCatch(o,p){console.error("React Router caught the following error during render",o,p)}render(){return this.state.error!==void 0?F.createElement(ji.Provider,{value:this.props.routeContext},F.createElement(gc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function l0({routeContext:o,match:p,children:i}){let a=F.useContext(sa);return a&&a.static&&a.staticContext&&(p.route.errorElement||p.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=p.route.id),F.createElement(ji.Provider,{value:o},i)}function s0(o,p=[],i=null,a=null){if(o==null){if(!i)return null;if(i.errors)o=i.matches;else if(p.length===0&&!i.initialized&&i.matches.length>0)o=i.matches;else return null}let s=o,l=i==null?void 0:i.errors;if(l!=null){let h=s.findIndex(c=>c.route.id&&(l==null?void 0:l[c.route.id])!==void 0);Xe(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let u=!1,d=-1;if(i)for(let h=0;h<s.length;h++){let c=s[h];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(d=h),c.route.id){let{loaderData:g,errors:v}=i,y=c.route.loader&&!g.hasOwnProperty(c.route.id)&&(!v||v[c.route.id]===void 0);if(c.route.lazy||y){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((h,c,g)=>{let v,y=!1,w=null,_=null;i&&(v=l&&c.route.id?l[c.route.id]:void 0,w=c.route.errorElement||a0,u&&(d<0&&g===0?(pp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,_=null):d===g&&(y=!0,_=c.route.hydrateFallbackElement||null)));let b=p.concat(s.slice(0,g+1)),D=()=>{let A;return v?A=w:y?A=_:c.route.Component?A=F.createElement(c.route.Component,null):c.route.element?A=c.route.element:A=h,F.createElement(l0,{match:c,routeContext:{outlet:h,matches:b,isDataRoute:i!=null},children:A})};return i&&(c.route.ErrorBoundary||c.route.errorElement||g===0)?F.createElement(r0,{location:i.location,revalidation:i.revalidation,component:w,error:v,children:D(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):D()},null)}function pc(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o0(o){let p=F.useContext(sa);return Xe(p,pc(o)),p}function u0(o){let p=F.useContext(el);return Xe(p,pc(o)),p}function c0(o){let p=F.useContext(ji);return Xe(p,pc(o)),p}function mc(o){let p=c0(o),i=p.matches[p.matches.length-1];return Xe(i.route.id,`${o} can only be used on routes that contain a unique "id"`),i.route.id}function h0(){return mc("useRouteId")}function f0(){var a;let o=F.useContext(gc),p=u0("useRouteError"),i=mc("useRouteError");return o!==void 0?o:(a=p.errors)==null?void 0:a[i]}function d0(){let{router:o}=o0("useNavigate"),p=mc("useNavigate"),i=F.useRef(!1);return dp(()=>{i.current=!0}),F.useCallback(async(s,l={})=>{bt(i.current,fp),i.current&&(typeof s=="number"?o.navigate(s):await o.navigate(s,{fromRouteId:p,...l}))},[o,p])}var Og={};function pp(o,p,i){!p&&!Og[o]&&(Og[o]=!0,bt(!1,i))}var Mg={};function Pg(o,p){!o&&!Mg[p]&&(Mg[p]=!0,console.warn(p))}function g0(o){let p={hasErrorBoundary:o.hasErrorBoundary||o.ErrorBoundary!=null||o.errorElement!=null};return o.Component&&(o.element&&bt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(p,{element:F.createElement(o.Component),Component:void 0})),o.HydrateFallback&&(o.hydrateFallbackElement&&bt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(p,{hydrateFallbackElement:F.createElement(o.HydrateFallback),HydrateFallback:void 0})),o.ErrorBoundary&&(o.errorElement&&bt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(p,{errorElement:F.createElement(o.ErrorBoundary),ErrorBoundary:void 0})),p}var p0=["HydrateFallback","hydrateFallbackElement"],m0=class{constructor(){this.status="pending",this.promise=new Promise((o,p)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",o(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",p(i))}})}};function v0({router:o,flushSync:p}){let[i,a]=F.useState(o.state),[s,l]=F.useState(),[u,d]=F.useState({isTransitioning:!1}),[h,c]=F.useState(),[g,v]=F.useState(),[y,w]=F.useState(),_=F.useRef(new Map),b=F.useCallback((j,{deletedFetchers:ae,flushSync:I,viewTransitionOpts:N})=>{j.fetchers.forEach((pe,fe)=>{pe.data!==void 0&&_.current.set(fe,pe.data)}),ae.forEach(pe=>_.current.delete(pe)),Pg(I===!1||p!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let he=o.window!=null&&o.window.document!=null&&typeof o.window.document.startViewTransition=="function";if(Pg(N==null||he,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!N||!he){p&&I?p(()=>a(j)):F.startTransition(()=>a(j));return}if(p&&I){p(()=>{g&&(h&&h.resolve(),g.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:N.currentLocation,nextLocation:N.nextLocation})});let pe=o.window.document.startViewTransition(()=>{p(()=>a(j))});pe.finished.finally(()=>{p(()=>{c(void 0),v(void 0),l(void 0),d({isTransitioning:!1})})}),p(()=>v(pe));return}g?(h&&h.resolve(),g.skipTransition(),w({state:j,currentLocation:N.currentLocation,nextLocation:N.nextLocation})):(l(j),d({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}))},[o.window,p,g,h]);F.useLayoutEffect(()=>o.subscribe(b),[o,b]),F.useEffect(()=>{u.isTransitioning&&!u.flushSync&&c(new m0)},[u]),F.useEffect(()=>{if(h&&s&&o.window){let j=s,ae=h.promise,I=o.window.document.startViewTransition(async()=>{F.startTransition(()=>a(j)),await ae});I.finished.finally(()=>{c(void 0),v(void 0),l(void 0),d({isTransitioning:!1})}),v(I)}},[s,h,o.window]),F.useEffect(()=>{h&&s&&i.location.key===s.location.key&&h.resolve()},[h,g,i.location,s]),F.useEffect(()=>{!u.isTransitioning&&y&&(l(y.state),d({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),w(void 0))},[u.isTransitioning,y]);let D=F.useMemo(()=>({createHref:o.createHref,encodeLocation:o.encodeLocation,go:j=>o.navigate(j),push:(j,ae,I)=>o.navigate(j,{state:ae,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(j,ae,I)=>o.navigate(j,{replace:!0,state:ae,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[o]),A=o.basename||"/",L=F.useMemo(()=>({router:o,navigator:D,static:!1,basename:A}),[o,D,A]);return F.createElement(F.Fragment,null,F.createElement(sa.Provider,{value:L},F.createElement(el.Provider,{value:i},F.createElement(hp.Provider,{value:_.current},F.createElement(dc.Provider,{value:u},F.createElement(x0,{basename:A,location:i.location,navigationType:i.historyAction,navigator:D},F.createElement(y0,{routes:o.routes,future:o.future,state:i})))))),null)}var y0=F.memo(T0);function T0({routes:o,future:p,state:i}){return i0(o,void 0,i,p)}function w0({to:o,replace:p,state:i,relative:a}){Xe(Ia(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=F.useContext(Di);bt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=F.useContext(ji),{pathname:u}=Bn(),d=gp(),h=As(o,Ds(l),u,a==="path"),c=JSON.stringify(h);return F.useEffect(()=>{d(JSON.parse(c),{replace:p,state:i,relative:a})},[d,c,a,p,i]),null}function x0({basename:o="/",children:p=null,location:i,navigationType:a="POP",navigator:s,static:l=!1}){Xe(!Ia(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=o.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:u,navigator:s,static:l,future:{}}),[u,s,l]);typeof i=="string"&&(i=rn(i));let{pathname:h="/",search:c="",hash:g="",state:v=null,key:y="default"}=i,w=F.useMemo(()=>{let _=wi(h,u);return _==null?null:{location:{pathname:_,search:c,hash:g,state:v,key:y},navigationType:a}},[u,h,c,g,v,y,a]);return bt(w!=null,`<Router basename="${u}"> is not able to match the URL "${h}${c}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:F.createElement(Di.Provider,{value:d},F.createElement(Os.Provider,{children:p,value:w}))}var ms="get",vs="application/x-www-form-urlencoded";function Ms(o){return o!=null&&typeof o.tagName=="string"}function E0(o){return Ms(o)&&o.tagName.toLowerCase()==="button"}function S0(o){return Ms(o)&&o.tagName.toLowerCase()==="form"}function _0(o){return Ms(o)&&o.tagName.toLowerCase()==="input"}function b0(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function R0(o,p){return o.button===0&&(!p||p==="_self")&&!b0(o)}var ds=null;function C0(){if(ds===null)try{new FormData(document.createElement("form"),0),ds=!1}catch{ds=!0}return ds}var D0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $u(o){return o!=null&&!D0.has(o)?(bt(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vs}"`),null):o}function A0(o,p){let i,a,s,l,u;if(S0(o)){let d=o.getAttribute("action");a=d?wi(d,p):null,i=o.getAttribute("method")||ms,s=$u(o.getAttribute("enctype"))||vs,l=new FormData(o)}else if(E0(o)||_0(o)&&(o.type==="submit"||o.type==="image")){let d=o.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=o.getAttribute("formaction")||d.getAttribute("action");if(a=h?wi(h,p):null,i=o.getAttribute("formmethod")||d.getAttribute("method")||ms,s=$u(o.getAttribute("formenctype"))||$u(d.getAttribute("enctype"))||vs,l=new FormData(d,o),!C0()){let{name:c,type:g,value:v}=o;if(g==="image"){let y=c?`${c}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else c&&l.append(c,v)}}else{if(Ms(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=ms,a=null,s=vs,u=o}return l&&s==="text/plain"&&(u=l,l=void 0),{action:a,method:i.toLowerCase(),encType:s,formData:l,body:u}}function vc(o,p){if(o===!1||o===null||typeof o>"u")throw new Error(p)}async function O0(o,p){if(o.id in p)return p[o.id];try{let i=await import(o.module);return p[o.id]=i,i}catch(i){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function M0(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function P0(o,p,i){let a=await Promise.all(o.map(async s=>{let l=p.routes[s.route.id];if(l){let u=await O0(l,i);return u.links?u.links():[]}return[]}));return N0(a.flat(1).filter(M0).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function zg(o,p,i,a,s,l){let u=(h,c)=>i[c]?h.route.id!==i[c].route.id:!0,d=(h,c)=>{var g;return i[c].pathname!==h.pathname||((g=i[c].route.path)==null?void 0:g.endsWith("*"))&&i[c].params["*"]!==h.params["*"]};return l==="assets"?p.filter((h,c)=>u(h,c)||d(h,c)):l==="data"?p.filter((h,c)=>{var v;let g=a.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(u(h,c)||d(h,c))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=i[0])==null?void 0:v.params)||{},nextUrl:new URL(o,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function z0(o,p,{includeHydrateFallback:i}={}){return L0(o.map(a=>{let s=p.routes[a.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),i&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function L0(o){return[...new Set(o)]}function B0(o){let p={},i=Object.keys(o).sort();for(let a of i)p[a]=o[a];return p}function N0(o,p){let i=new Set;return new Set(p),o.reduce((a,s)=>{let l=JSON.stringify(B0(s));return i.has(l)||(i.add(l),a.push({key:l,link:s})),a},[])}var H0=new Set([100,101,204,205]);function U0(o,p){let i=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return i.pathname==="/"?i.pathname="_root.data":p&&wi(i.pathname,p)==="/"?i.pathname=`${p.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function mp(){let o=F.useContext(sa);return vc(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function F0(){let o=F.useContext(el);return vc(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var yc=F.createContext(void 0);yc.displayName="FrameworkContext";function vp(){let o=F.useContext(yc);return vc(o,"You must render this element inside a <HydratedRouter> element"),o}function j0(o,p){let i=F.useContext(yc),[a,s]=F.useState(!1),[l,u]=F.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:c,onMouseLeave:g,onTouchStart:v}=p,y=F.useRef(null);F.useEffect(()=>{if(o==="render"&&u(!0),o==="viewport"){let b=A=>{A.forEach(L=>{u(L.isIntersecting)})},D=new IntersectionObserver(b,{threshold:.5});return y.current&&D.observe(y.current),()=>{D.disconnect()}}},[o]),F.useEffect(()=>{if(a){let b=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(b)}}},[a]);let w=()=>{s(!0)},_=()=>{s(!1),u(!1)};return i?o!=="intent"?[l,y,{}]:[l,y,{onFocus:Yr(d,w),onBlur:Yr(h,_),onMouseEnter:Yr(c,w),onMouseLeave:Yr(g,_),onTouchStart:Yr(v,w)}]:[!1,y,{}]}function Yr(o,p){return i=>{o&&o(i),i.defaultPrevented||p(i)}}function G0({page:o,...p}){let{router:i}=mp(),a=F.useMemo(()=>zn(i.routes,o,i.basename),[i.routes,o,i.basename]);return a?F.createElement(V0,{page:o,matches:a,...p}):null}function k0(o){let{manifest:p,routeModules:i}=vp(),[a,s]=F.useState([]);return F.useEffect(()=>{let l=!1;return P0(o,p,i).then(u=>{l||s(u)}),()=>{l=!0}},[o,p,i]),a}function V0({page:o,matches:p,...i}){let a=Bn(),{manifest:s,routeModules:l}=vp(),{basename:u}=mp(),{loaderData:d,matches:h}=F0(),c=F.useMemo(()=>zg(o,p,h,s,a,"data"),[o,p,h,s,a]),g=F.useMemo(()=>zg(o,p,h,s,a,"assets"),[o,p,h,s,a]),v=F.useMemo(()=>{if(o===a.pathname+a.search+a.hash)return[];let _=new Set,b=!1;if(p.forEach(A=>{var j;let L=s.routes[A.route.id];!L||!L.hasLoader||(!c.some(ae=>ae.route.id===A.route.id)&&A.route.id in d&&((j=l[A.route.id])!=null&&j.shouldRevalidate)||L.hasClientLoader?b=!0:_.add(A.route.id))}),_.size===0)return[];let D=U0(o,u);return b&&_.size>0&&D.searchParams.set("_routes",p.filter(A=>_.has(A.route.id)).map(A=>A.route.id).join(",")),[D.pathname+D.search]},[u,d,a,s,c,p,o,l]),y=F.useMemo(()=>z0(g,s),[g,s]),w=k0(g);return F.createElement(F.Fragment,null,v.map(_=>F.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...i})),y.map(_=>F.createElement("link",{key:_,rel:"modulepreload",href:_,...i})),w.map(({key:_,link:b})=>F.createElement("link",{key:_,...b})))}function I0(...o){return p=>{o.forEach(i=>{typeof i=="function"?i(p):i!=null&&(i.current=p)})}}var yp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yp&&(window.__reactRouterVersion="7.5.3")}catch{}function q0(o,p){return Ly({basename:p==null?void 0:p.basename,unstable_getContext:p==null?void 0:p.unstable_getContext,future:p==null?void 0:p.future,history:ty({window:p==null?void 0:p.window}),hydrationData:Z0(),routes:o,mapRouteProperties:g0,hydrationRouteProperties:p0,dataStrategy:p==null?void 0:p.dataStrategy,patchRoutesOnNavigation:p==null?void 0:p.patchRoutesOnNavigation,window:p==null?void 0:p.window}).initialize()}function Z0(){let o=window==null?void 0:window.__staticRouterHydrationData;return o&&o.errors&&(o={...o,errors:Y0(o.errors)}),o}function Y0(o){if(!o)return null;let p=Object.entries(o),i={};for(let[a,s]of p)if(s&&s.__type==="RouteErrorResponse")i[a]=new _s(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let l=window[s.__subType];if(typeof l=="function")try{let u=new l(s.message);u.stack="",i[a]=u}catch{}}if(i[a]==null){let l=new Error(s.message);l.stack="",i[a]=l}}else i[a]=s;return i}var Tp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wp=F.forwardRef(function({onClick:p,discover:i="render",prefetch:a="none",relative:s,reloadDocument:l,replace:u,state:d,target:h,to:c,preventScrollReset:g,viewTransition:v,...y},w){let{basename:_}=F.useContext(Di),b=typeof c=="string"&&Tp.test(c),D,A=!1;if(typeof c=="string"&&b&&(D=c,yp))try{let fe=new URL(window.location.href),ke=c.startsWith("//")?new URL(fe.protocol+c):new URL(c),Be=wi(ke.pathname,_);ke.origin===fe.origin&&Be!=null?c=Be+ke.search+ke.hash:A=!0}catch{bt(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=e0(c,{relative:s}),[j,ae,I]=j0(a,y),N=K0(c,{replace:u,state:d,target:h,preventScrollReset:g,relative:s,viewTransition:v});function he(fe){p&&p(fe),fe.defaultPrevented||N(fe)}let pe=F.createElement("a",{...y,...I,href:D||L,onClick:A||l?p:he,ref:I0(w,ae),target:h,"data-discover":!b&&i==="render"?"true":void 0});return j&&!b?F.createElement(F.Fragment,null,pe,F.createElement(G0,{page:L})):pe});wp.displayName="Link";var W0=F.forwardRef(function({"aria-current":p="page",caseSensitive:i=!1,className:a="",end:s=!1,style:l,to:u,viewTransition:d,children:h,...c},g){let v=tl(u,{relative:c.relative}),y=Bn(),w=F.useContext(el),{navigator:_,basename:b}=F.useContext(Di),D=w!=null&&iT(v)&&d===!0,A=_.encodeLocation?_.encodeLocation(v).pathname:v.pathname,L=y.pathname,j=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(L=L.toLowerCase(),j=j?j.toLowerCase():null,A=A.toLowerCase()),j&&b&&(j=wi(j,b)||j);const ae=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let I=L===A||!s&&L.startsWith(A)&&L.charAt(ae)==="/",N=j!=null&&(j===A||!s&&j.startsWith(A)&&j.charAt(A.length)==="/"),he={isActive:I,isPending:N,isTransitioning:D},pe=I?p:void 0,fe;typeof a=="function"?fe=a(he):fe=[a,I?"active":null,N?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let ke=typeof l=="function"?l(he):l;return F.createElement(wp,{...c,"aria-current":pe,className:fe,ref:g,style:ke,to:u,viewTransition:d},typeof h=="function"?h(he):h)});W0.displayName="NavLink";var X0=F.forwardRef(({discover:o="render",fetcherKey:p,navigate:i,reloadDocument:a,replace:s,state:l,method:u=ms,action:d,onSubmit:h,relative:c,preventScrollReset:g,viewTransition:v,...y},w)=>{let _=eT(),b=tT(d,{relative:c}),D=u.toLowerCase()==="get"?"get":"post",A=typeof d=="string"&&Tp.test(d),L=j=>{if(h&&h(j),j.defaultPrevented)return;j.preventDefault();let ae=j.nativeEvent.submitter,I=(ae==null?void 0:ae.getAttribute("formmethod"))||u;_(ae||j.currentTarget,{fetcherKey:p,method:I,navigate:i,replace:s,state:l,relative:c,preventScrollReset:g,viewTransition:v})};return F.createElement("form",{ref:w,method:D,action:b,onSubmit:a?h:L,...y,"data-discover":!A&&o==="render"?"true":void 0})});X0.displayName="Form";function Q0(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xp(o){let p=F.useContext(sa);return Xe(p,Q0(o)),p}function K0(o,{target:p,replace:i,state:a,preventScrollReset:s,relative:l,viewTransition:u}={}){let d=gp(),h=Bn(),c=tl(o,{relative:l});return F.useCallback(g=>{if(R0(g,p)){g.preventDefault();let v=i!==void 0?i:Ln(h)===Ln(c);d(o,{replace:v,state:a,preventScrollReset:s,relative:l,viewTransition:u})}},[h,d,c,i,a,p,o,s,l,u])}var J0=0,$0=()=>`__${String(++J0)}__`;function eT(){let{router:o}=xp("useSubmit"),{basename:p}=F.useContext(Di),i=h0();return F.useCallback(async(a,s={})=>{let{action:l,method:u,encType:d,formData:h,body:c}=A0(a,p);if(s.navigate===!1){let g=s.fetcherKey||$0();await o.fetch(g,i,s.action||l,{preventScrollReset:s.preventScrollReset,formData:h,body:c,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await o.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:h,body:c,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:i,flushSync:s.flushSync,viewTransition:s.viewTransition})},[o,p,i])}function tT(o,{relative:p}={}){let{basename:i}=F.useContext(Di),a=F.useContext(ji);Xe(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),l={...tl(o||".",{relative:p})},u=Bn();if(o==null){l.search=u.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();l.search=g?`?${g}`:""}}return(!o||o===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(l.pathname=l.pathname==="/"?i:Fi([i,l.pathname])),Ln(l)}function iT(o,p={}){let i=F.useContext(dc);Xe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=xp("useViewTransitionState"),s=tl(o,{relative:p.relative});if(!i.isTransitioning)return!1;let l=wi(i.currentLocation.pathname,a)||i.currentLocation.pathname,u=wi(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Ss(s.pathname,u)!=null||Ss(s.pathname,l)!=null}new TextEncoder;[...H0];var nT=Qg();/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aT(o){return F.createElement(v0,{flushSync:nT.flushSync,...o})}const Ui={color:{student:"#ff5556FF",mentor:"#06b8ba",menus:"#fadf0c"}},Ot="http://localhost:5140/api/dev";let Ps=F.createContext(null);async function rT(){let o=await fetch(`${Ot}/authn/session`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("bearer")}`}});return!o.ok&&window.location.hash!=""&&window.location.replace("/"),await o.json()}function lT({children:o}){let[p,i]=F.useState(null);return F.useEffect(function(){rT().then(i)},[]),U.jsx(Ps.Provider,{value:p,children:o})}function sT(o){if(o.length>=255)throw new TypeError("Alphabet too long");const p=new Uint8Array(256);for(let c=0;c<p.length;c++)p[c]=255;for(let c=0;c<o.length;c++){const g=o.charAt(c),v=g.charCodeAt(0);if(p[v]!==255)throw new TypeError(g+" is ambiguous");p[v]=c}const i=o.length,a=o.charAt(0),s=Math.log(i)/Math.log(256),l=Math.log(256)/Math.log(i);function u(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let g=0,v=0,y=0;const w=c.length;for(;y!==w&&c[y]===0;)y++,g++;const _=(w-y)*l+1>>>0,b=new Uint8Array(_);for(;y!==w;){let L=c[y],j=0;for(let ae=_-1;(L!==0||j<v)&&ae!==-1;ae--,j++)L+=256*b[ae]>>>0,b[ae]=L%i>>>0,L=L/i>>>0;if(L!==0)throw new Error("Non-zero carry");v=j,y++}let D=_-v;for(;D!==_&&b[D]===0;)D++;let A=a.repeat(g);for(;D<_;++D)A+=o.charAt(b[D]);return A}function d(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let g=0,v=0,y=0;for(;c[g]===a;)v++,g++;const w=(c.length-g)*s+1>>>0,_=new Uint8Array(w);for(;g<c.length;){const L=c.charCodeAt(g);if(L>255)return;let j=p[L];if(j===255)return;let ae=0;for(let I=w-1;(j!==0||ae<y)&&I!==-1;I--,ae++)j+=i*_[I]>>>0,_[I]=j%256>>>0,j=j/256>>>0;if(j!==0)throw new Error("Non-zero carry");y=ae,g++}let b=w-y;for(;b!==w&&_[b]===0;)b++;const D=new Uint8Array(v+(w-b));let A=v;for(;b!==w;)D[A++]=_[b++];return D}function h(c){const g=d(c);if(g)return g;throw new Error("Non-base"+i+" character")}return{encode:u,decodeUnsafe:d,decode:h}}var oT="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const ys=sT(oT),uT=3834e3,cT=3834001,Ep=616e4,hT=6160001,fT=6160002;function Sp(o){return Array.isArray(o)?"%5B"+o.map(Sp).join("%2C%20")+"%5D":typeof o=="bigint"?`${o}n`:encodeURIComponent(String(o!=null&&Object.getPrototypeOf(o)===null?{...o}:o))}function dT([o,p]){return`${o}=${Sp(p)}`}function gT(o){const p=Object.entries(o).map(dT).join("&");return btoa(p)}var Lg;(function(o){o[o.EscapeSequence=0]="EscapeSequence",o[o.Text=1]="Text",o[o.Variable=2]="Variable"})(Lg||(Lg={}));function pT(o,p={}){{let i=`Wallet Standard error #${o}; Decode this error by running \`npx @wallet-standard/errors decode -- ${o}`;return Object.keys(p).length&&(i+=` '${gT(p)}'`),`${i}\``}}class qa extends Error{constructor(...[p,i]){let a,s;if(i){const{cause:u,...d}=i;u&&(s={cause:u}),Object.keys(d).length>0&&(a=d)}const l=pT(p,a);super(l,s),this.context={__code:p,...a},this.name="WalletStandardError"}}function zs(...o){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...o)}const _p=new WeakMap;function bp(o,p){_p.set(o,p)}function Ls(o){const p=Ci(o),i=p.accounts.find(({address:a})=>a===o.address);if(!i){const a=new qa(cT,{address:o.address,walletName:p.name});throw zs(a,Ls),a}return i}function Ci(o){const p=_p.get(o);if(!p){const i=new qa(uT);throw zs(i,Ci),i}return p}function Rs(o,p){const i=new Set(o),a=new Set(p);if(i.size!==a.size)return!0;for(const s of i)if(!a.has(s))return!0;return!1}const Bg=new WeakMap;function lc(o,p){let i=Bg.get(p);if(i)try{Ci(i)!==o&&(i=void 0)}catch{i=void 0}const a=!i;let s=i??{},l=!i;function u(){l||(s={...s},l=!0)}return(a||Rs(s.chains,p.chains))&&(u(),s.chains=Object.freeze([...p.chains])),(a||Rs(s.features,p.features))&&(u(),s.features=Object.freeze([...p.features])),(a||s.address!==p.address||s.icon!==p.icon||s.label!==p.label||s.publicKey!==p.publicKey)&&(u(),s.address=p.address,s.icon=p.icon,s.label=p.label,s.publicKey=p.publicKey),l&&(Bg.set(p,s),bp(s,o)),Object.freeze(s)}const Ng=new WeakMap;function mT(o){const p=Ng.get(o),i=!p;let a=p??{},s=!p;function l(){s||(a={...a},s=!0)}const u={_cache:[],*[Symbol.iterator](){this._cache.length&&(yield*this._cache);for(const d of o.accounts.slice(this._cache.length)){const h=lc(o,d);this._cache.push(h),yield h}},some(d){if(this._cache.some(d))return!0;for(const h of o.accounts.slice(this._cache.length)){const c=lc(o,h);if(this._cache.push(c),d(c))return!0}return!1},get length(){return o.accounts.length}};return(i||a.accounts.length!==o.accounts.length||u.some(d=>!a.accounts.includes(d)))&&(l(),a.accounts=Object.freeze(Array.from(u))),(i||Rs(a.features,Object.keys(o.features)))&&(l(),a.features=Object.freeze(Object.keys(o.features))),(i||Rs(a.chains,o.chains))&&(l(),a.chains=Object.freeze([...o.chains])),(i||a.icon!==o.icon||a.name!==o.name||a.version!==o.version)&&(l(),a.icon=o.icon,a.name=o.name,a.version=o.version),s&&(Ng.set(o,a),bp(a,o)),Object.freeze(a)}function vT(o,p){if(o.address!==p.address)return!1;const i=Ci(o),a=Ci(p);return i===a}function yT(o,p){const i=Ci(p),a=Ci(o);return i===a}function TT(o){return`${Ci(o).name.replace(":","_")}:${o.address}`}function Bs(o,p){const i=Ci(o);if(!(p in i.features)){const a=new qa(fT,{featureName:p,supportedChains:[...i.chains],supportedFeatures:Object.keys(i.features),walletName:i.name});throw zs(a,Bs),a}return i.features[p]}function Ns(o,p){if(!o.features.includes(p)){const i=new qa(hT,{address:o.address,featureName:p,supportedChains:[...o.chains],supportedFeatures:[...o.features]});throw zs(i,Ns),i}return Bs(o,p)}const wT="standard:connect",xT="standard:disconnect",Rp="standard:events",gs=new WeakMap,Ts=new Map;function ET(){return{current:void 0}}function Hg(o){return{get current(){return gs.get(o)},set current(p){var i;p!==gs.get(o)&&(p===void 0?gs.delete(o):gs.set(o,p),(i=Ts.get(o))==null||i.forEach(a=>a()))}}}function Cp(o){const p=F.useCallback(s=>{let l=Ts.get(o);l==null&&Ts.set(o,l=new Set);function u(){i.current=Hg(o),s()}return l.add(u),()=>{i.current=void 0,l.delete(u),l.size===0&&Ts.delete(o)}},[o]),i=F.useRef(void 0),a=F.useCallback(()=>i.current||(i.current=Hg(o)),[o]);return F.useSyncExternalStore(p,a,ET)}function Tc(o){const p=Bs(o,wT),i=Ci(o),a=Cp(i),s=F.useCallback(async function(d,...h){if(a.current)return a.current;const c=p.connect(d,...h).then(({accounts:g})=>g.map(lc.bind(null,i))).finally(()=>{a.current=void 0});return a.current=c,await c},[p,a,i]);return[!!a.current,s]}function wc(o){const p=Bs(o,xT),i=Ci(o),a=Cp(i),s=F.useCallback(async function(...d){if(a.current)return a.current;const h=p.disconnect(...d).finally(()=>{a.current=void 0});return a.current=h,await h},[p,a]);return[!!a.current,s]}var ST=function(o,p,i,a){if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof p=="function"?o!==p||!a:!p.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?a:i==="a"?a.call(o):a?a.value:p.get(o)},_T=function(o,p,i,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof p=="function"?o!==p||!s:!p.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(o,i):s?s.value=i:p.set(o,i),i},ws;let Wr;const Hs=new Set;function bT(o){Kr=void 0,Hs.add(o)}function RT(o){Kr=void 0,Hs.delete(o)}const ka={};function CT(){if(Wr||(Wr=Object.freeze({register:Ug,get:DT,on:AT}),typeof window>"u"))return Wr;const o=Object.freeze({register:Ug});try{window.addEventListener("wallet-standard:register-wallet",({detail:p})=>p(o))}catch(p){console.error(`wallet-standard:register-wallet event listener could not be added
`,p)}try{window.dispatchEvent(new OT(o))}catch(p){console.error(`wallet-standard:app-ready event could not be dispatched
`,p)}return Wr}function Ug(...o){var p;return o=o.filter(i=>!Hs.has(i)),o.length?(o.forEach(i=>bT(i)),(p=ka.register)==null||p.forEach(i=>Fg(()=>i(...o))),function(){var a;o.forEach(s=>RT(s)),(a=ka.unregister)==null||a.forEach(s=>Fg(()=>s(...o)))}):()=>{}}let Kr;function DT(){return Kr||(Kr=[...Hs]),Kr}function AT(o,p){var i;return(i=ka[o])!=null&&i.push(p)||(ka[o]=[p]),function(){var s;ka[o]=(s=ka[o])==null?void 0:s.filter(l=>p!==l)}}function Fg(o){try{o()}catch(p){console.error(p)}}class OT extends Event{get detail(){return ST(this,ws,"f")}get type(){return"wallet-standard:app-ready"}constructor(p){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),ws.set(this,void 0),_T(this,ws,p,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}ws=new WeakMap;function jg(o){return Rp in o.features}const Gg=Symbol();function MT(o){const p=F.useRef(Gg);return p.current===Gg&&(p.current=o()),p.current}const PT=[];function zT(){return PT}function LT(){const{get:o,on:p}=MT(CT),i=F.useRef(o()),a=F.useRef(i.current),s=F.useCallback(()=>{const u=o();return u!==i.current&&(a.current=u),i.current=u,a.current},[o]),l=F.useCallback(u=>{const d=new Map;function h(v){const y=v.features[Rp].on("change",()=>{a.current=[...o()],u()});return d.set(v,y),y}const c=p("register",(...v)=>{v.filter(jg).map(h),u()}),g=p("unregister",(...v)=>{v.forEach(y=>{const w=d.get(y);w&&(d.delete(y),w())}),u()});return o().filter(jg).map(h),()=>{c(),g(),d.forEach(v=>v()),d.clear()}},[o,p]);return F.useSyncExternalStore(l,s,zT)}function Nn(){const o=LT();return F.useMemo(()=>o.map(mT),[o])}const sc="solana:signAndSendTransaction",BT="solana:signMessage",NT="solana:signTransaction",il=F.createContext(null,null),oc="solana:chosen-wallet-and-address";let Dp=!1;async function HT(o){let p=Ns(o,BT),i=ys.encode(crypto.getRandomValues(new Uint8Array(Array.from({length:12})))),s=await(await fetch(`${Ot}/authn/challenge`,{method:"POST",body:JSON.stringify({address:o.address,nonce:i}),headers:{"content-type":"application/json"}})).json(),l=Ls(o);s.message;let u=[{message:ys.decode(s.message)}].map(function(_){return{..._,account:l}}),d=await p.signMessage(...u),{signature:h,signedMessage:c}=d[0];if(!h)throw new Error("??");let g=await fetch(`${Ot}/authn/verify`,{method:"POST",body:JSON.stringify({address:o.address,nonce:i,signature:ys.encode(h)}),headers:{"Content-type":"application/json"}});if(!g.ok)throw new Error("Failed!");let{handle:v}=await g.json(),w=await(await fetch(`${Ot}/authn?handle=${v}`)).json();localStorage.setItem("bearer",w.bearer),window.location.replace(w.location)}function kg(o){if(Dp)return;const p=localStorage.getItem(oc);if(!p||typeof p!="string")return;const[i,a]=p;if(!(!i||!a)){for(const s of o)if(s.name===i){for(const l of s.accounts)if(l.address===a)return l}}}function UT({children:o}){let p=Nn(),[i,a]=F.useState(function(){return kg(p)});function s(u){a(function(d){Dp=!0;let h=u;typeof u=="function"&&(h=u(d));let c;return h&&(c=TT(h)),localStorage.removeItem(oc),c&&localStorage.setItem(oc,c),h})}let l=F.useMemo(function(){if(i)for(let u of p){for(let d of u.accounts)if(vT(i,d))return d;if(yT(i,u)&&u.accounts[0])return u.accounts[0]}},[i,p]);return F.useEffect(function(){let u=kg(p);u&&a(u)},[p]),F.useEffect(function(){i&&!l&&a(void 0)},[i,l]),U.jsx(il.Provider,{value:F.useMemo(function(){return[l,s,[l]]}),children:o})}function FT(){return U.jsx(U.Fragment,{children:U.jsxs("svg",{width:"219",xmlns:"http://www.w3.org/2000/svg",height:"216",id:"screenshot-e384008e-ccbd-80a0-8006-05ea9f514786",viewBox:"-161 -1591 219 216",style:{display:"block",WebkitPrintColorAdjust:"exact"},xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"none",version:"1.1",children:[U.jsx("style",{}),U.jsxs("g",{id:"shape-e384008e-ccbd-80a0-8006-05ea9f514786",style:{fill:"#000000"},filter:"url(#filter-render-286)",width:"160",height:"160",rx:"0",ry:"0",children:[U.jsxs("defs",{children:[U.jsxs("filter",{id:"filter-render-286",x:"-0.09202453987730061",y:"-0.09375",width:"1.2576687116564418",height:"1.2625",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB",children:[U.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),U.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),U.jsx("feOffset",{dx:"4",dy:"4"}),U.jsx("feGaussianBlur",{stdDeviation:"0"}),U.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),U.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"filter_e384008e-ccbd-80a0-8006-05eac53f6b70"}),U.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"filter_e384008e-ccbd-80a0-8006-05eac53f6b70",result:"shape"})]}),U.jsxs("filter",{id:"filter-shadow-render-286",x:"-0.09202453987730061",y:"-0.09375",width:"1.2576687116564418",height:"1.2625",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB",children:[U.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),U.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),U.jsx("feOffset",{dx:"4",dy:"4"}),U.jsx("feGaussianBlur",{stdDeviation:"0"}),U.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),U.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"filter_e384008e-ccbd-80a0-8006-05eac53f6b70"}),U.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"filter_e384008e-ccbd-80a0-8006-05eac53f6b70",result:"shape"})]})]}),U.jsx("g",{id:"shape-e384008e-ccbd-80a0-8006-05ea9f57d81d",style:{display:"none"},children:U.jsx("g",{className:"fills",id:"fills-e384008e-ccbd-80a0-8006-05ea9f57d81d",children:U.jsx("rect",{rx:"0",ry:"0",x:"-145",y:"-1575",transform:"matrix(1.000000, 0.000000, 0.000000, 1.000000, 0.000000, 0.000000)",width:"160",height:"160",fill:"none",style:{fill:"none"}})})}),U.jsx("g",{id:"shape-e384008e-ccbd-80a0-8006-05ea9f5b68cc",children:U.jsx("g",{className:"fills",id:"fills-e384008e-ccbd-80a0-8006-05ea9f5b68cc",children:U.jsx("path",{d:"M-65.000,-1575.000L-46.459,-1552.063L-17.977,-1559.721L-16.459,-1530.267L11.085,-1519.721L-5.000,-1495.000L11.085,-1470.279L-16.459,-1459.733L-17.977,-1430.279L-46.459,-1437.937L-65.000,-1415.000L-83.541,-1437.937L-112.023,-1430.279L-113.541,-1459.733L-141.085,-1470.279L-125.000,-1495.000L-141.085,-1519.721L-113.541,-1530.267L-112.023,-1559.721L-83.541,-1552.063L-65.000,-1575.000Z",style:{fill:"#feef00"}})})}),U.jsx("g",{id:"shape-e384008e-ccbd-80a0-8006-05eb06010ff6",children:U.jsxs("g",{transform:"matrix(1.000000, 0.000000, 0.000000, 1.000000, 0.000000, 0.000000)",className:"text-container",x:"-145",y:"-1535",width:"163",height:"91.99999999999955",rx:"0",ry:"0",children:[U.jsxs("defs",{children:[U.jsx("pattern",{patternUnits:"userSpaceOnUse",x:"-145",y:"-1535",width:"72",height:"79.1875",id:"fill-0-render-289-0",children:U.jsx("g",{children:U.jsx("rect",{width:"72",height:"79.1875",style:{fill:"#000000",fillOpacity:"1"}})})}),U.jsx("pattern",{patternUnits:"userSpaceOnUse",x:"-145",y:"-1535",width:"72",height:"79.1875",id:"fill-1-render-289-0",children:U.jsx("g",{children:U.jsx("rect",{width:"72",height:"79.1875",style:{fill:"#000000",fillOpacity:"1"}})})})]}),U.jsx("g",{className:"fills",id:"fills-e384008e-ccbd-80a0-8006-05eb06010ff6",children:U.jsx("text",{x:"-99.5",y:"-1496",dominantBaseline:"ideographic",textLength:"72",lengthAdjust:"spacingAndGlyphs",style:{textTransform:"uppercase",fontFamily:"Ubuntu",letterSpacing:"normal",fontStyle:"normal",fontWeight:700,whiteSpace:"pre",fontSize:"36px",textDecoration:"none solid rgb(0, 0, 0)",direction:"ltr",fill:"#000000",fillOopacity:1},children:"join"})}),U.jsxs("defs",{children:[U.jsx("pattern",{patternUnits:"userSpaceOnUse",x:"-145",y:"-1535",width:"72",height:"79.1875",id:"fill-0-render-289-1",children:U.jsx("g",{children:U.jsx("rect",{width:"72",height:"79.1875",style:{fill:"#000000",fillOpacity:"1"}})})}),U.jsx("pattern",{patternUnits:"userSpaceOnUse",x:"-145",y:"-1535",width:"72",height:"79.1875",id:"fill-1-render-289-1",children:U.jsx("g",{children:U.jsx("rect",{width:"72",height:"79.1875",style:{fill:"#000000",fillOpacity:"1"}})})})]}),U.jsx("g",{className:"fills",id:"fills-e384008e-ccbd-80a0-8006-05eb06010ff6",children:U.jsx("text",{x:"-99.5",y:"-1452.8125",dominantBaseline:"ideographic",textLength:"72",lengthAdjust:"spacingAndGlyphs",style:{textTransform:"uppercase",fontFamily:"Ubuntu Mono",letterSpacing:"normal",fontStyle:"normal",fontWeight:700,whiteSpace:"pre",fontSize:"36px",textDecoration:"none solid rgb(0, 0, 0)",direction:"ltr",fill:"#000000",fillOopacity:1},children:"now!"})})]})})]})]})})}function jT(){let[o,p]=F.useState("mentor");F.useEffect(function(){},[]);let i=F.useContext(Ps),[a,s]=F.useState(!0),[l,u]=F.useContext(il),h=Nn()[0],[c,g]=Tc(h);wc(h);async function v(w){let _=await g();u(_[0]),await HT(_[0])}function y(w,_=7){if(!w)return w;let b=w==null?void 0:w.toString().substring(0,_);return w.length>_?`${b}...`:w}return F.useEffect(function(){i&&s(!1)},[i]),a?U.jsx("div",{children:"Loading..."}):U.jsx(U.Fragment,{children:U.jsxs("div",{className:"landing",style:{textTransform:"uppercase"},children:[U.jsxs("h1",{children:["welcome to buoy ",U.jsx("b",{children:i&&y(i.address)})]}),U.jsx("h2",{children:"the place to be!"}),U.jsx("a",{onClick:function(w){if(w.preventDefault(),!i.address){v();return}window.location.replace("/#zone")},className:"star-sign",children:U.jsx(FT,{})}),U.jsx("button",{className:"button",style:{background:Ui.color.mentor},onClick:function(){p("mentor")},children:"TEACH TO EARN"}),U.jsx("button",{className:"button",style:{background:Ui.color.student},onClick:function(){p("student")},children:"PAY TO LEARN"}),U.jsx("button",{className:"button",onClick:function(){window.location.replace("/#zone")},children:"ENTER THE ZONE"}),o=="mentor"&&U.jsxs("div",{className:"button pane",style:{background:Ui.color.mentor},children:[U.jsx("h2",{children:"YOUR FEEDBACK IS VALUABLE! GET PAID!"}),U.jsx("h4",{children:`YOUR INSIGHTS CAN BE CRUCIAL TO SOMEONE'S LEARNING JOURNEY.

THIS PLATFORM'S MISSION IS TO PROVIDE A WAY!`})]}),o=="student"&&U.jsxs("div",{id:"mentor",className:"button pane",style:{background:Ui.color.student},children:[U.jsx("h2",{children:"LEARN TO DRAW WITH ALMOST NO EFFORT!"}),U.jsx("h4",{children:`DON'T KNOW WHERE TO BEGIN?

THIS PLATFORM OFFERS ALGORITHMIC CURRICULUMS THAT ACT AS A GUARDRAIL FOR YOUR LEARNING.

THIS IS A VERY LOW BARRIER TO ENTRY AND A GREAT WAY TO EFFORTLESSLY INVEST IN YOUR SKILLS.

YOU'LL RECEIVE VALUABLE FEEDBACK FROM EXPERIENCED MENTORS TO HELP YOU IMPROVE.`})]})]})})}function Ap({style:o,value:p}){return U.jsx("div",{className:"picker",style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:U.jsxs("div",{className:"button card",style:{...o,padding:"1em",display:"flex",flexDirection:"column",flexWrap:"wrap",alignContent:"space-between",justifyContent:"center",textOverflow:"ellipsis",overflow:"hidden"},children:[U.jsxs("div",{children:[U.jsxs("p",{children:["- address: ",p.address]}),U.jsxs("p",{children:["- access: ",p.access]}),p.spl&&U.jsxs("span",{children:["- minter: ",p.spl.data.minter]})]}),U.jsx("div",{style:{width:"72px",height:"72px",borderRadius:"100% 100%",background:`url('${Ot}/cards/${p.identifier}')`,backgroundSize:"cover"}})]})})}function GT(o){const p=F.useRef(null);let i=p.current,a=i==null?void 0:i.getContext("2d");F.useEffect(function(){i=p.current,i&&(a=i.getContext("2d"))},[]);let s=!1;function l(h){i&&(s=!0,a.beginPath())}function u(h){s=!1,a&&a.stroke()}function d(h){if(!s||!a)return;let c=i.getBoundingClientRect();a.lineWidth=5,a.lineCap="round",a.lineTo(h.clientX-c.left,h.clientY-c.top),a.stroke()}return U.jsx("canvas",{ref:p,width:o.width,height:o.height,onPointerDown:l,onPointerUp:u,onPointerMove:d,style:{touchAction:"none",border:`2px dashed ${o.dashes||"red"}`}})}var xs={exports:{}},kT=xs.exports,Vg;function VT(){return Vg||(Vg=1,function(o){//! openseadragon 5.0.1
//! Built on 2024-12-09
//! Git commit: v5.0.1-0-480de92d
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function p(i){return new p.Viewer(i)}(function(i){i.version={versionStr:"5.0.1",major:parseInt("5",10),minor:parseInt("0",10),revision:parseInt("1",10)};var a={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object AsyncFunction]":"function","[object Promise]":"promise","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},s=Object.prototype.toString,l=Object.prototype.hasOwnProperty;i.isFunction=function(u){return i.type(u)==="function"},i.isArray=Array.isArray||function(u){return i.type(u)==="array"},i.isWindow=function(u){return u&&typeof u=="object"&&"setInterval"in u},i.type=function(u){return u==null?String(u):a[s.call(u)]||"object"},i.isPlainObject=function(u){if(!u||p.type(u)!=="object"||u.nodeType||i.isWindow(u)||u.constructor&&!l.call(u,"constructor")&&!l.call(u.constructor.prototype,"isPrototypeOf"))return!1;var d;for(var h in u)d=h;return d===void 0||l.call(u,d)},i.isEmptyObject=function(u){for(var d in u)return!1;return!0},i.freezeObject=function(u){return Object.freeze?i.freezeObject=Object.freeze:i.freezeObject=function(d){return d},i.freezeObject(u)},i.supportsCanvas=function(){var u=document.createElement("canvas");return!!(i.isFunction(u.getContext)&&u.getContext("2d"))}(),i.isCanvasTainted=function(u){var d=!1;try{u.getContext("2d").getImageData(0,0,1,1)}catch{d=!0}return d},i.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),i.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),i.supportsEventListenerOptions=function(){var u=0;if(i.supportsAddEventListener)try{var d={get capture(){return u++,!1},get once(){return u++,!1},get passive(){return u++,!1}};window.addEventListener("test",null,d),window.removeEventListener("test",null,d)}catch{u=0}return u>=3}(),i.getCurrentPixelDensityRatio=function(){if(i.supportsCanvas){var u=document.createElement("canvas").getContext("2d"),d=window.devicePixelRatio||1,h=u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1;return Math.max(d,1)/h}else return 1},i.pixelDensityRatio=i.getCurrentPixelDensityRatio()})(p),function(i){i.extend=function(){var h,c,g,v,y,w,_=arguments[0]||{},b=arguments.length,D=!1,A=1;for(typeof _=="boolean"&&(D=_,_=arguments[1]||{},A=2),typeof _!="object"&&!p.isFunction(_)&&(_={}),b===A&&(_=this,--A);A<b;A++)if(h=arguments[A],h!==null||h!==void 0)for(c in h){var L=Object.getOwnPropertyDescriptor(h,c);if(L!==void 0){if(L.get||L.set){Object.defineProperty(_,c,L);continue}v=L.value}else{i.console.warn('Could not copy inherited property "'+c+'".');continue}_!==v&&(D&&v&&(p.isPlainObject(v)||(y=p.isArray(v)))?(g=_[c],y?(y=!1,w=g&&p.isArray(g)?g:[]):w=g&&p.isPlainObject(g)?g:{},_[c]=p.extend(D,w,v)):v!==void 0&&(_[c]=v))}return _};var a=function(){if(typeof navigator!="object")return!1;var h=navigator.userAgent;return typeof h!="string"?!1:h.indexOf("iPhone")!==-1||h.indexOf("iPad")!==-1||h.indexOf("iPod")!==-1};i.extend(i,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:a(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,maxTilesPerFrame:1,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,overlayPreserveContentDirection:!0,opacity:1,compositeOperation:null,drawer:["webgl","canvas","html"],drawerOptions:{webgl:{},canvas:{},html:{},custom:{}},preload:!1,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,tileRetryMax:0,tileRetryDelay:2500,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},delegate:function(h,c){return function(){var g=arguments;return g===void 0&&(g=[]),c.apply(h,g)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(h){return i._viewers.get(this.getElement(h))},getElement:function(h){return typeof h=="string"&&(h=document.getElementById(h)),h},getElementPosition:function(h){var c=new i.Point,g,v;for(h=i.getElement(h),g=i.getElementStyle(h).position==="fixed",v=d(h,g);v;)c.x+=h.offsetLeft,c.y+=h.offsetTop,g&&(c=c.plus(i.getPageScroll())),h=v,g=i.getElementStyle(h).position==="fixed",v=d(h,g);return c},getElementOffset:function(h){h=i.getElement(h);var c=h&&h.ownerDocument,g,v,y={top:0,left:0};return c?(g=c.documentElement,typeof h.getBoundingClientRect<"u"&&(y=h.getBoundingClientRect()),v=c===c.window?c:c.nodeType===9?c.defaultView||c.parentWindow:!1,new i.Point(y.left+(v.pageXOffset||g.scrollLeft)-(g.clientLeft||0),y.top+(v.pageYOffset||g.scrollTop)-(g.clientTop||0))):new i.Point},getElementSize:function(h){return h=i.getElement(h),new i.Point(h.clientWidth,h.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(h){return h=i.getElement(h),h.currentStyle}:function(h){return h=i.getElement(h),window.getComputedStyle(h,"")},getCssPropertyWithVendorPrefix:function(h){var c={};return i.getCssPropertyWithVendorPrefix=function(g){if(c[g]!==void 0)return c[g];var v=document.createElement("div").style,y=null;if(v[g]!==void 0)y=g;else for(var w=["Webkit","Moz","MS","O","webkit","moz","ms","o"],_=i.capitalizeFirstLetter(g),b=0;b<w.length;b++){var D=w[b]+_;if(v[D]!==void 0){y=D;break}}return c[g]=y,y},i.getCssPropertyWithVendorPrefix(h)},capitalizeFirstLetter:function(h){return h.charAt(0).toUpperCase()+h.slice(1)},positiveModulo:function(h,c){var g=h%c;return g<0&&(g+=c),g},pointInElement:function(h,c){h=i.getElement(h);var g=i.getElementOffset(h),v=i.getElementSize(h);return c.x>=g.x&&c.x<g.x+v.x&&c.y<g.y+v.y&&c.y>=g.y},getMousePosition:function(h){if(typeof h.pageX=="number")i.getMousePosition=function(c){var g=new i.Point;return g.x=c.pageX,g.y=c.pageY,g};else if(typeof h.clientX=="number")i.getMousePosition=function(c){var g=new i.Point;return g.x=c.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,g.y=c.clientY+document.body.scrollTop+document.documentElement.scrollTop,g};else throw new Error("Unknown event mouse position, no known technique.");return i.getMousePosition(h)},getPageScroll:function(){var h=document.documentElement||{},c=document.body||{};if(typeof window.pageXOffset=="number")i.getPageScroll=function(){return new i.Point(window.pageXOffset,window.pageYOffset)};else if(c.scrollLeft||c.scrollTop)i.getPageScroll=function(){return new i.Point(document.body.scrollLeft,document.body.scrollTop)};else if(h.scrollLeft||h.scrollTop)i.getPageScroll=function(){return new i.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new i.Point(0,0);return i.getPageScroll()},setPageScroll:function(h){if(typeof window.scrollTo<"u")i.setPageScroll=function(v){window.scrollTo(v.x,v.y)};else{var c=i.getPageScroll();if(c.x===h.x&&c.y===h.y)return;document.body.scrollLeft=h.x,document.body.scrollTop=h.y;var g=i.getPageScroll();if(g.x!==c.x&&g.y!==c.y){i.setPageScroll=function(v){document.body.scrollLeft=v.x,document.body.scrollTop=v.y};return}if(document.documentElement.scrollLeft=h.x,document.documentElement.scrollTop=h.y,g=i.getPageScroll(),g.x!==c.x&&g.y!==c.y){i.setPageScroll=function(v){document.documentElement.scrollLeft=v.x,document.documentElement.scrollTop=v.y};return}i.setPageScroll=function(v){}}i.setPageScroll(h)},getWindowSize:function(){var h=document.documentElement||{},c=document.body||{};if(typeof window.innerWidth=="number")i.getWindowSize=function(){return new i.Point(window.innerWidth,window.innerHeight)};else if(h.clientWidth||h.clientHeight)i.getWindowSize=function(){return new i.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(c.clientWidth||c.clientHeight)i.getWindowSize=function(){return new i.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return i.getWindowSize()},makeCenteredNode:function(h){h=i.getElement(h);var c=[i.makeNeutralElement("div"),i.makeNeutralElement("div"),i.makeNeutralElement("div")];return i.extend(c[0].style,{display:"table",height:"100%",width:"100%"}),i.extend(c[1].style,{display:"table-row"}),i.extend(c[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),c[0].appendChild(c[1]),c[1].appendChild(c[2]),c[2].appendChild(h),c[0]},makeNeutralElement:function(h){var c=document.createElement(h),g=c.style;return g.background="transparent none",g.border="none",g.margin="0px",g.padding="0px",g.position="static",c},now:function(){return Date.now?i.now=Date.now:i.now=function(){return new Date().getTime()},i.now()},makeTransparentImage:function(h){var c=i.makeNeutralElement("img");return c.src=h,c},setElementOpacity:function(h,c,g){var v,y;h=i.getElement(h),g&&!i.Browser.alpha&&(c=Math.round(c)),i.Browser.opacity?h.style.opacity=c<1?c:"":c<1?(v=Math.round(100*c),y="alpha(opacity="+v+")",h.style.filter=y):h.style.filter=""},setElementTouchActionNone:function(h){h=i.getElement(h),typeof h.style.touchAction<"u"?h.style.touchAction="none":typeof h.style.msTouchAction<"u"&&(h.style.msTouchAction="none")},setElementPointerEvents:function(h,c){h=i.getElement(h),typeof h.style<"u"&&typeof h.style.pointerEvents<"u"&&(h.style.pointerEvents=c)},setElementPointerEventsNone:function(h){i.setElementPointerEvents(h,"none")},addClass:function(h,c){h=i.getElement(h),h.className?(" "+h.className+" ").indexOf(" "+c+" ")===-1&&(h.className+=" "+c):h.className=c},indexOf:function(h,c,g){return Array.prototype.indexOf?this.indexOf=function(v,y,w){return v.indexOf(y,w)}:this.indexOf=function(v,y,w){var _,b=w||0,D;if(!v)throw new TypeError;if(D=v.length,D===0||b>=D)return-1;for(b<0&&(b=D-Math.abs(b)),_=b;_<D;_++)if(v[_]===y)return _;return-1},this.indexOf(h,c,g)},removeClass:function(h,c){var g,v=[],y;for(h=i.getElement(h),g=h.className.split(/\s+/),y=0;y<g.length;y++)g[y]&&g[y]!==c&&v.push(g[y]);h.className=v.join(" ")},normalizeEventListenerOptions:function(h){var c;return typeof h<"u"?typeof h=="boolean"?c=i.supportsEventListenerOptions?{capture:h}:h:c=i.supportsEventListenerOptions?h:typeof h.capture<"u"?h.capture:!1:c=i.supportsEventListenerOptions?{capture:!1}:!1,c},addEvent:function(){if(i.supportsAddEventListener)return function(h,c,g,v){v=i.normalizeEventListenerOptions(v),h=i.getElement(h),h.addEventListener(c,g,v)};if(document.documentElement.attachEvent&&document.attachEvent)return function(h,c,g){h=i.getElement(h),h.attachEvent("on"+c,g)};throw new Error("No known event model.")}(),removeEvent:function(){if(i.supportsRemoveEventListener)return function(h,c,g,v){v=i.normalizeEventListenerOptions(v),h=i.getElement(h),h.removeEventListener(c,g,v)};if(document.documentElement.detachEvent&&document.detachEvent)return function(h,c,g){h=i.getElement(h),h.detachEvent("on"+c,g)};throw new Error("No known event model.")}(),cancelEvent:function(h){h.preventDefault()},eventIsCanceled:function(h){return h.defaultPrevented},stopEvent:function(h){h.stopPropagation()},createCallback:function(h,c){console.error("The createCallback function is deprecated and will be removed in future versions. Please use alternativeFunction instead.");var g=[],v;for(v=2;v<arguments.length;v++)g.push(arguments[v]);return function(){var y=g.concat([]),w;for(w=0;w<arguments.length;w++)y.push(arguments[w]);return c.apply(h,y)}},getUrlParameter:function(h){var c=u[h];return c||null},getUrlProtocol:function(h){var c=h.match(/^([a-z]+:)\/\//i);return c===null?window.location.protocol:c[1].toLowerCase()},createAjaxRequest:function(){if(window.XMLHttpRequest)return i.createAjaxRequest=function(){return new XMLHttpRequest},new XMLHttpRequest;throw new Error("Browser doesn't support XMLHttpRequest.")},makeAjaxRequest:function(h,c,g){var v,y,w,_;i.isPlainObject(h)&&(c=h.success,g=h.error,v=h.withCredentials,y=h.headers,w=h.responseType||null,_=h.postData||null,h=h.url);var b=i.getUrlProtocol(h),D=i.createAjaxRequest();if(!i.isFunction(c))throw new Error("makeAjaxRequest requires a success callback");D.onreadystatechange=function(){D.readyState===4&&(D.onreadystatechange=function(){},D.status>=200&&D.status<300||D.status===0&&b!=="http:"&&b!=="https:"?c(D):i.isFunction(g)?g(D):i.console.error("AJAX request returned %d: %s",D.status,h))};var A=_?"POST":"GET";try{if(D.open(A,h,!0),w&&(D.responseType=w),y)for(var L in y)Object.prototype.hasOwnProperty.call(y,L)&&y[L]&&D.setRequestHeader(L,y[L]);v&&(D.withCredentials=!0),D.send(_)}catch(j){i.console.error("%s while making AJAX request: %s",j.name,j.message),D.onreadystatechange=function(){},i.isFunction(g)&&g(D,j)}return D},jsonp:function(h){var c,g=h.url,v=document.head||document.getElementsByTagName("head")[0]||document.documentElement,y=h.callbackName||"openseadragon"+i.now(),w=window[y],_="$1"+y+"$2",b=h.param||"callback",D=h.callback;g=g.replace(/(=)\?(&|$)|\?\?/i,_),g+=(/\?/.test(g)?"&":"?")+b+"="+y,window[y]=function(A){if(w)window[y]=w;else try{delete window[y]}catch{}D&&i.isFunction(D)&&D(A)},c=document.createElement("script"),(h.async!==void 0||h.async!==!1)&&(c.async="async"),h.scriptCharset&&(c.charset=h.scriptCharset),c.src=g,c.onload=c.onreadystatechange=function(A,L){(L||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,v&&c.parentNode&&v.removeChild(c),c=void 0)},v.insertBefore(c,v.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(h){if(window.DOMParser)i.parseXml=function(c){var g=null,v;return v=new DOMParser,g=v.parseFromString(c,"text/xml"),g};else throw new Error("Browser doesn't support XML DOM.");return i.parseXml(h)},parseJSON:function(h){return i.parseJSON=window.JSON.parse,i.parseJSON(h)},imageFormatSupported:function(h){return h=h||"",!!l[h.toLowerCase()]},setImageFormatsSupported:function(h){i.extend(l,h)}});var s=function(h){};i.console=window.console||{log:s,debug:s,info:s,warn:s,error:s,assert:s},i.Browser={vendor:i.BROWSERS.UNKNOWN,version:0,alpha:!0};var l={avif:!0,bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1,webp:!0},u={};(function(){var h=navigator.appVersion,c=navigator.userAgent,g;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(i.Browser.vendor=i.BROWSERS.IE,i.Browser.version=parseFloat(c.substring(c.indexOf("MSIE")+5,c.indexOf(";",c.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(c.indexOf("Edge")>=0?(i.Browser.vendor=i.BROWSERS.EDGE,i.Browser.version=parseFloat(c.substring(c.indexOf("Edge")+5))):c.indexOf("Edg")>=0?(i.Browser.vendor=i.BROWSERS.CHROMEEDGE,i.Browser.version=parseFloat(c.substring(c.indexOf("Edg")+4))):c.indexOf("Firefox")>=0?(i.Browser.vendor=i.BROWSERS.FIREFOX,i.Browser.version=parseFloat(c.substring(c.indexOf("Firefox")+8))):c.indexOf("Safari")>=0?(i.Browser.vendor=c.indexOf("Chrome")>=0?i.BROWSERS.CHROME:i.BROWSERS.SAFARI,i.Browser.version=parseFloat(c.substring(c.substring(0,c.indexOf("Safari")).lastIndexOf("/")+1,c.indexOf("Safari")))):(g=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),g.exec(c)!==null&&(i.Browser.vendor=i.BROWSERS.IE,i.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":i.Browser.vendor=i.BROWSERS.OPERA,i.Browser.version=parseFloat(h);break}var v=window.location.search.substring(1),y=v.split("&"),w,_,b;for(b=0;b<y.length;b++)if(w=y[b],_=w.indexOf("="),_>0){var D=w.substring(0,_),A=w.substring(_+1);try{u[D]=decodeURIComponent(A)}catch{i.console.error("Ignoring malformed URL parameter: %s=%s",D,A)}}i.Browser.alpha=!(i.Browser.vendor===i.BROWSERS.CHROME&&i.Browser.version<2),i.Browser.opacity=!0,i.Browser.vendor===i.BROWSERS.IE&&i.console.error("Internet Explorer is not supported by OpenSeadragon")})(),function(h){var c=h.requestAnimationFrame||h.mozRequestAnimationFrame||h.webkitRequestAnimationFrame||h.msRequestAnimationFrame,g=h.cancelAnimationFrame||h.mozCancelAnimationFrame||h.webkitCancelAnimationFrame||h.msCancelAnimationFrame;if(c&&g)i.requestAnimationFrame=function(){return c.apply(h,arguments)},i.cancelAnimationFrame=function(){return g.apply(h,arguments)};else{var v=[],y=[],w=0,_;i.requestAnimationFrame=function(b){return v.push([++w,b]),_||(_=setInterval(function(){if(v.length){var D=i.now(),A=y;for(y=v,v=A;y.length;)y.shift()[1](D)}else clearInterval(_),_=void 0},1e3/50)),w},i.cancelAnimationFrame=function(b){var D,A;for(D=0,A=v.length;D<A;D+=1)if(v[D][0]===b){v.splice(D,1);return}for(D=0,A=y.length;D<A;D+=1)if(y[D][0]===b){y.splice(D,1);return}}}}(window);function d(h,c){return c&&h!==document.body?document.body:h.offsetParent}}(p),function(i,a){o.exports?o.exports=a():i.OpenSeadragon=a()}(kT,function(){return p}),function(i){class a{constructor(l){l||(l=[0,0,0,0,0,0,0,0,0]),this.values=l}static makeIdentity(){return new a([1,0,0,0,1,0,0,0,1])}static makeTranslation(l,u){return new a([1,0,0,0,1,0,l,u,1])}static makeRotation(l){var u=Math.cos(l),d=Math.sin(l);return new a([u,-d,0,d,u,0,0,0,1])}static makeScaling(l,u){return new a([l,0,0,0,u,0,0,0,1])}multiply(l){let u=this.values,d=l.values;var h=u[0*3+0],c=u[0*3+1],g=u[0*3+2],v=u[1*3+0],y=u[1*3+1],w=u[1*3+2],_=u[2*3+0],b=u[2*3+1],D=u[2*3+2],A=d[0*3+0],L=d[0*3+1],j=d[0*3+2],ae=d[1*3+0],I=d[1*3+1],N=d[1*3+2],he=d[2*3+0],pe=d[2*3+1],fe=d[2*3+2];return new a([A*h+L*v+j*_,A*c+L*y+j*b,A*g+L*w+j*D,ae*h+I*v+N*_,ae*c+I*y+N*b,ae*g+I*w+N*D,he*h+pe*v+fe*_,he*c+pe*y+fe*b,he*g+pe*w+fe*D])}}i.Mat3=a}(p),function(i){var a={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.fullscreenElement},a.requestFullScreen=function(s){return s.requestFullscreen().catch(function(l){i.console.error("Fullscreen request failed: ",l)})},a.exitFullScreen=function(){document.exitFullscreen().catch(function(s){i.console.error("Error while exiting fullscreen: ",s)})},a.fullScreenEventName="fullscreenchange",a.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.msFullscreenElement},a.requestFullScreen=function(s){return s.msRequestFullscreen()},a.exitFullScreen=function(){document.msExitFullscreen()},a.fullScreenEventName="MSFullscreenChange",a.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.webkitFullscreenElement},a.requestFullScreen=function(s){return s.webkitRequestFullscreen()},a.exitFullScreen=function(){document.webkitExitFullscreen()},a.fullScreenEventName="webkitfullscreenchange",a.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},a.requestFullScreen=function(s){return s.webkitRequestFullScreen()},a.exitFullScreen=function(){document.webkitCancelFullScreen()},a.fullScreenEventName="webkitfullscreenchange",a.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(a.supportsFullScreen=!0,a.getFullScreenElement=function(){return document.mozFullScreenElement},a.requestFullScreen=function(s){return s.mozRequestFullScreen()},a.exitFullScreen=function(){document.mozCancelFullScreen()},a.fullScreenEventName="mozfullscreenchange",a.fullScreenErrorEventName="mozfullscreenerror"),a.isFullScreen=function(){return a.getFullScreenElement()!==null},a.cancelFullScreen=function(){i.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),a.exitFullScreen()},i.extend(i,a)}(p),function(i){i.EventSource=function(){this.events={},this._rejectedEventList={}},i.EventSource.prototype={addOnceHandler:function(a,s,l,u,d){var h=this;u=u||1;var c=0,g=function(v){return c++,c===u&&h.removeHandler(a,g),s(v)};return this.addHandler(a,g,l,d)},addHandler:function(a,s,l,u){if(Object.prototype.hasOwnProperty.call(this._rejectedEventList,a))return i.console.error(`Error adding handler for ${a}. ${this._rejectedEventList[a]}`),!1;var d=this.events[a];if(d||(this.events[a]=d=[]),s&&i.isFunction(s)){var h=d.length,c={handler:s,userData:l||null,priority:u||0};for(d[h]=c;h>0&&d[h-1].priority<d[h].priority;)d[h]=d[h-1],d[h-1]=c,h--}return!0},removeHandler:function(a,s){var l=this.events[a],u=[],d;if(l&&i.isArray(l)){for(d=0;d<l.length;d++)l[d].handler!==s&&u.push(l[d]);this.events[a]=u}},numberOfHandlers:function(a){var s=this.events[a];return s?s.length:0},removeAllHandlers:function(a){if(a)this.events[a]=[];else for(var s in this.events)this.events[s]=[]},getHandler:function(a){var s=this.events[a];return!s||!s.length?null:(s=s.length===1?[s[0]]:Array.apply(null,s),function(l,u){var d,h=s.length;for(d=0;d<h;d++)s[d]&&(u.eventSource=l,u.userData=s[d].userData,s[d].handler(u))})},raiseEvent:function(a,s){if(Object.prototype.hasOwnProperty.call(this._rejectedEventList,a))return i.console.error(`Error adding handler for ${a}. ${this._rejectedEventList[a]}`),!1;var l=this.getHandler(a);return l&&l(this,s||{}),!0},rejectEventHandler(a,s=""){this._rejectedEventList[a]=s},allowEventHandler(a){delete this._rejectedEventList[a]}}}(p),function(i){var a={};i.MouseTracker=function(S){var x=arguments;i.isPlainObject(S)||(S={element:x[0],clickTimeThreshold:x[1],clickDistThreshold:x[2]}),this.hash=Math.random(),this.element=i.getElement(S.element),this.clickTimeThreshold=S.clickTimeThreshold||i.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=S.clickDistThreshold||i.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=S.dblClickTimeThreshold||i.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=S.dblClickDistThreshold||i.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=S.userData||null,this.stopDelay=S.stopDelay||50,this.preProcessEventHandler=S.preProcessEventHandler||null,this.contextMenuHandler=S.contextMenuHandler||null,this.enterHandler=S.enterHandler||null,this.leaveHandler=S.leaveHandler||null,this.exitHandler=S.exitHandler||null,this.overHandler=S.overHandler||null,this.outHandler=S.outHandler||null,this.pressHandler=S.pressHandler||null,this.nonPrimaryPressHandler=S.nonPrimaryPressHandler||null,this.releaseHandler=S.releaseHandler||null,this.nonPrimaryReleaseHandler=S.nonPrimaryReleaseHandler||null,this.moveHandler=S.moveHandler||null,this.scrollHandler=S.scrollHandler||null,this.clickHandler=S.clickHandler||null,this.dblClickHandler=S.dblClickHandler||null,this.dragHandler=S.dragHandler||null,this.dragEndHandler=S.dragEndHandler||null,this.pinchHandler=S.pinchHandler||null,this.stopHandler=S.stopHandler||null,this.keyDownHandler=S.keyDownHandler||null,this.keyUpHandler=S.keyUpHandler||null,this.keyHandler=S.keyHandler||null,this.focusHandler=S.focusHandler||null,this.blurHandler=S.blurHandler||null;var C=this;a[this.hash]={click:function(M){j(C,M)},dblclick:function(M){ae(C,M)},keydown:function(M){I(C,M)},keyup:function(M){N(C,M)},keypress:function(M){he(C,M)},focus:function(M){pe(C,M)},blur:function(M){fe(C,M)},contextmenu:function(M){ke(C,M)},wheel:function(M){Be(C,M)},mousewheel:function(M){Te(C,M)},DOMMouseScroll:function(M){Te(C,M)},MozMousePixelScroll:function(M){Te(C,M)},losecapture:function(M){Fe(C,M)},mouseenter:function(M){J(C,M)},mouseleave:function(M){we(C,M)},mouseover:function(M){Ve(C,M)},mouseout:function(M){Re(C,M)},mousedown:function(M){Et(C,M)},mouseup:function(M){lt(C,M)},mousemove:function(M){jt(C,M)},touchstart:function(M){Ne(C,M)},touchend:function(M){k(C,M)},touchmove:function(M){oe(C,M)},touchcancel:function(M){de(C,M)},gesturestart:function(M){Me(C,M)},gesturechange:function(M){z(C,M)},gotpointercapture:function(M){ee(C,M)},lostpointercapture:function(M){ge(C,M)},pointerenter:function(M){J(C,M)},pointerleave:function(M){we(C,M)},pointerover:function(M){Ve(C,M)},pointerout:function(M){Re(C,M)},pointerdown:function(M){Et(C,M)},pointerup:function(M){lt(C,M)},pointermove:function(M){jt(C,M)},pointercancel:function(M){It(C,M)},pointerupcaptured:function(M){Yt(C,M)},pointermovecaptured:function(M){Ai(C,M)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,i.MouseTracker.havePointerEvents&&i.setElementPointerEvents(this.element,"auto"),this.exitHandler&&i.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),S.startDisabled||this.setTracking(!0)},i.MouseTracker.prototype={destroy:function(){h(this),this.element=null,a[this.hash]=null,delete a[this.hash]},isTracking:function(){return a[this.hash].tracking},setTracking:function(S){return S?d(this):h(this),this},getActivePointersListByType:function(S){var x=a[this.hash],C,M=x?x.activePointersLists.length:0,K;for(C=0;C<M;C++)if(x.activePointersLists[C].type===S)return x.activePointersLists[C];return K=new i.MouseTracker.GesturePointList(S),x&&x.activePointersLists.push(K),K},getActivePointerCount:function(){var S=a[this.hash],x,C=S.activePointersLists.length,M=0;for(x=0;x<C;x++)M+=S.activePointersLists[x].getLength();return M},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var s=function(){try{return window.self!==window.top}catch{return!0}}();function l(S){try{return S.addEventListener&&S.removeEventListener}catch{return!1}}i.MouseTracker.gesturePointVelocityTracker=function(){var S=[],x=0,C=0,M=function(Qe,Se){return Qe.hash.toString()+Se.type+Se.id.toString()},K=function(){var Qe,Se=S.length,zt,pt,xi=i.now(),ki,Pi,Un;for(ki=xi-C,C=xi,Qe=0;Qe<Se;Qe++)zt=S[Qe],pt=zt.gPoint,pt.direction=Math.atan2(pt.currentPos.y-zt.lastPos.y,pt.currentPos.x-zt.lastPos.x),Pi=zt.lastPos.distanceTo(pt.currentPos),zt.lastPos=pt.currentPos,Un=1e3*Pi/(ki+1),pt.speed=.75*Un+.25*pt.speed},se=function(Qe,Se){var zt=M(Qe,Se);S.push({guid:zt,gPoint:Se,lastPos:Se.currentPos}),S.length===1&&(C=i.now(),x=window.setInterval(K,50))},Ee=function(Qe,Se){var zt=M(Qe,Se),pt,xi=S.length;for(pt=0;pt<xi;pt++)if(S[pt].guid===zt){S.splice(pt,1),xi--,xi===0&&window.clearInterval(x);break}};return{addPoint:se,removePoint:Ee}}(),i.MouseTracker.captureElement=document,i.MouseTracker.wheelEventName="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",i.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",i.MouseTracker.wheelEventName],i.MouseTracker.wheelEventName==="DOMMouseScroll"&&i.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(i.MouseTracker.havePointerEvents=!0,i.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),i.MouseTracker.havePointerCapture=function(){var S=document.createElement("div");return i.isFunction(S.setPointerCapture)&&i.isFunction(S.releasePointerCapture)}(),i.MouseTracker.havePointerCapture&&i.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(i.MouseTracker.havePointerEvents=!1,i.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),i.MouseTracker.mousePointerId="legacy-mouse",i.MouseTracker.havePointerCapture=function(){var S=document.createElement("div");return i.isFunction(S.setCapture)&&i.isFunction(S.releaseCapture)}(),i.MouseTracker.havePointerCapture&&i.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&i.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&i.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),i.MouseTracker.GesturePointList=function(S){this._gPoints=[],this.type=S,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},i.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(S){return this._gPoints.push(S)},removeById:function(S){var x,C=this._gPoints.length;for(x=0;x<C;x++)if(this._gPoints[x].id===S){this._gPoints.splice(x,1);break}return this._gPoints.length},getByIndex:function(S){return S<this._gPoints.length?this._gPoints[S]:null},getById:function(S){var x,C=this._gPoints.length;for(x=0;x<C;x++)if(this._gPoints[x].id===S)return this._gPoints[x];return null},getPrimary:function(S){var x,C=this._gPoints.length;for(x=0;x<C;x++)if(this._gPoints[x].isPrimary)return this._gPoints[x];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(i.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function u(S){var x=a[S.hash],C,M,K,se,Ee,Qe=x.activePointersLists.length;for(C=0;C<Qe;C++)if(K=x.activePointersLists[C],K.getLength()>0){for(Ee=[],se=K.asArray(),M=0;M<se.length;M++)Ee.push(se[M]);for(M=0;M<Ee.length;M++)Mi(S,K,Ee[M])}for(C=0;C<Qe;C++)x.activePointersLists.pop();x.sentDragEvent=!1}function d(S){var x=a[S.hash],C,M;if(!x.tracking){for(M=0;M<i.MouseTracker.subscribeEvents.length;M++)C=i.MouseTracker.subscribeEvents[M],i.addEvent(S.element,C,x[C],C===i.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);u(S),x.tracking=!0}}function h(S){var x=a[S.hash],C,M;if(x.tracking){for(M=0;M<i.MouseTracker.subscribeEvents.length;M++)C=i.MouseTracker.subscribeEvents[M],i.removeEvent(S.element,C,x[C],!1);u(S),x.tracking=!1}}function c(S,x){var C=a[S.hash];if(x==="pointerevent")return{upName:"pointerup",upHandler:C.pointerupcaptured,moveName:"pointermove",moveHandler:C.pointermovecaptured};if(x==="mouse")return{upName:"pointerup",upHandler:C.pointerupcaptured,moveName:"pointermove",moveHandler:C.pointermovecaptured};if(x==="touch")return{upName:"touchend",upHandler:C.touchendcaptured,moveName:"touchmove",moveHandler:C.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function g(S,x){var C;if(i.MouseTracker.havePointerCapture)if(i.MouseTracker.havePointerEvents)try{S.element.setPointerCapture(x.id)}catch{i.console.warn("setPointerCapture() called on invalid pointer ID");return}else S.element.setCapture(!0);else C=c(S,i.MouseTracker.havePointerEvents?"pointerevent":x.type),s&&l(window.top)&&i.addEvent(window.top,C.upName,C.upHandler,!0),i.addEvent(i.MouseTracker.captureElement,C.upName,C.upHandler,!0),i.addEvent(i.MouseTracker.captureElement,C.moveName,C.moveHandler,!0);Z(S,x,!0)}function v(S,x){var C,M,K;if(i.MouseTracker.havePointerCapture)if(i.MouseTracker.havePointerEvents){if(M=S.getActivePointersListByType(x.type),K=M.getById(x.id),!K||!K.captured)return;try{S.element.releasePointerCapture(x.id)}catch{}}else S.element.releaseCapture();else C=c(S,i.MouseTracker.havePointerEvents?"pointerevent":x.type),s&&l(window.top)&&i.removeEvent(window.top,C.upName,C.upHandler,!0),i.removeEvent(i.MouseTracker.captureElement,C.moveName,C.moveHandler,!0),i.removeEvent(i.MouseTracker.captureElement,C.upName,C.upHandler,!0);Z(S,x,!1)}function y(S){return i.MouseTracker.havePointerEvents?S.pointerId:i.MouseTracker.mousePointerId}function w(S){return i.MouseTracker.havePointerEvents&&S.pointerType?S.pointerType:"mouse"}function _(S){return i.MouseTracker.havePointerEvents?S.isPrimary:!0}function b(S){return i.getMousePosition(S)}function D(S,x){return A(b(S),x)}function A(S,x){var C=i.getElementOffset(x);return S.minus(C)}function L(S,x){return new i.Point((S.x+x.x)/2,(S.y+x.y)/2)}function j(S,x){var C={originalEvent:x,eventType:"click",pointerType:"mouse",isEmulated:!1};O(S,C),C.preventDefault&&!C.defaultPrevented&&i.cancelEvent(x),C.stopPropagation&&i.stopEvent(x)}function ae(S,x){var C={originalEvent:x,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};O(S,C),C.preventDefault&&!C.defaultPrevented&&i.cancelEvent(x),C.stopPropagation&&i.stopEvent(x)}function I(S,x){var C=null,M={originalEvent:x,eventType:"keydown",pointerType:"",isEmulated:!1};O(S,M),S.keyDownHandler&&!M.preventGesture&&!M.defaultPrevented&&(C={eventSource:S,keyCode:x.keyCode?x.keyCode:x.charCode,ctrl:x.ctrlKey,shift:x.shiftKey,alt:x.altKey,meta:x.metaKey,originalEvent:x,preventDefault:M.preventDefault||M.defaultPrevented,userData:S.userData},S.keyDownHandler(C)),(C&&C.preventDefault||M.preventDefault&&!M.defaultPrevented)&&i.cancelEvent(x),M.stopPropagation&&i.stopEvent(x)}function N(S,x){var C=null,M={originalEvent:x,eventType:"keyup",pointerType:"",isEmulated:!1};O(S,M),S.keyUpHandler&&!M.preventGesture&&!M.defaultPrevented&&(C={eventSource:S,keyCode:x.keyCode?x.keyCode:x.charCode,ctrl:x.ctrlKey,shift:x.shiftKey,alt:x.altKey,meta:x.metaKey,originalEvent:x,preventDefault:M.preventDefault||M.defaultPrevented,userData:S.userData},S.keyUpHandler(C)),(C&&C.preventDefault||M.preventDefault&&!M.defaultPrevented)&&i.cancelEvent(x),M.stopPropagation&&i.stopEvent(x)}function he(S,x){var C=null,M={originalEvent:x,eventType:"keypress",pointerType:"",isEmulated:!1};O(S,M),S.keyHandler&&!M.preventGesture&&!M.defaultPrevented&&(C={eventSource:S,keyCode:x.keyCode?x.keyCode:x.charCode,ctrl:x.ctrlKey,shift:x.shiftKey,alt:x.altKey,meta:x.metaKey,originalEvent:x,preventDefault:M.preventDefault||M.defaultPrevented,userData:S.userData},S.keyHandler(C)),(C&&C.preventDefault||M.preventDefault&&!M.defaultPrevented)&&i.cancelEvent(x),M.stopPropagation&&i.stopEvent(x)}function pe(S,x){var C={originalEvent:x,eventType:"focus",pointerType:"",isEmulated:!1};O(S,C),S.focusHandler&&!C.preventGesture&&S.focusHandler({eventSource:S,originalEvent:x,userData:S.userData})}function fe(S,x){var C={originalEvent:x,eventType:"blur",pointerType:"",isEmulated:!1};O(S,C),S.blurHandler&&!C.preventGesture&&S.blurHandler({eventSource:S,originalEvent:x,userData:S.userData})}function ke(S,x){var C=null,M={originalEvent:x,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};O(S,M),S.contextMenuHandler&&!M.preventGesture&&!M.defaultPrevented&&(C={eventSource:S,position:A(b(x),S.element),originalEvent:M.originalEvent,preventDefault:M.preventDefault||M.defaultPrevented,userData:S.userData},S.contextMenuHandler(C)),(C&&C.preventDefault||M.preventDefault&&!M.defaultPrevented)&&i.cancelEvent(x),M.stopPropagation&&i.stopEvent(x)}function Be(S,x){be(S,x,x)}function Te(S,x){var C={target:x.target||x.srcElement,type:"wheel",shiftKey:x.shiftKey||!1,clientX:x.clientX,clientY:x.clientY,pageX:x.pageX?x.pageX:x.clientX,pageY:x.pageY?x.pageY:x.clientY,deltaMode:x.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};i.MouseTracker.wheelEventName==="mousewheel"?C.deltaY=-x.wheelDelta/i.DEFAULT_SETTINGS.pixelsPerWheelLine:C.deltaY=x.detail,be(S,C,x)}function be(S,x,C){var M=0,K,se=null;M=x.deltaY?x.deltaY<0?1:-1:0,K={originalEvent:x,eventType:"wheel",pointerType:"mouse",isEmulated:x!==C},O(S,K),S.scrollHandler&&!K.preventGesture&&!K.defaultPrevented&&(se={eventSource:S,pointerType:"mouse",position:D(x,S.element),scroll:M,shift:x.shiftKey,isTouchEvent:!1,originalEvent:C,preventDefault:K.preventDefault||K.defaultPrevented,userData:S.userData},S.scrollHandler(se)),K.stopPropagation&&i.stopEvent(C),(se&&se.preventDefault||K.preventDefault&&!K.defaultPrevented)&&i.cancelEvent(C)}function Fe(S,x){var C={id:i.MouseTracker.mousePointerId,type:"mouse"},M={originalEvent:x,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};O(S,M),x.target===S.element&&Z(S,C,!1),M.stopPropagation&&i.stopEvent(x)}function Ne(S,x){var C,M,K=x.changedTouches.length,se,Ee=S.getActivePointersListByType("touch");C=i.now(),Ee.getLength()>x.touches.length-K&&i.console.warn("Tracked touch contact count doesn't match event.touches.length");var Qe={originalEvent:x,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(O(S,Qe),M=0;M<K;M++)se={id:x.changedTouches[M].identifier,type:"touch",isPrimary:Ee.getLength()===0,currentPos:b(x.changedTouches[M]),currentTime:C},le(S,Qe,se),He(S,Qe,se,0),Z(S,se,!0);Qe.preventDefault&&!Qe.defaultPrevented&&i.cancelEvent(x),Qe.stopPropagation&&i.stopEvent(x)}function k(S,x){var C,M,K=x.changedTouches.length,se;C=i.now();var Ee={originalEvent:x,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(O(S,Ee),M=0;M<K;M++)se={id:x.changedTouches[M].identifier,type:"touch",currentPos:b(x.changedTouches[M]),currentTime:C},$e(S,Ee,se,0),Z(S,se,!1),ce(S,Ee,se);Ee.preventDefault&&!Ee.defaultPrevented&&i.cancelEvent(x),Ee.stopPropagation&&i.stopEvent(x)}function oe(S,x){var C,M,K=x.changedTouches.length,se;C=i.now();var Ee={originalEvent:x,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(O(S,Ee),M=0;M<K;M++)se={id:x.changedTouches[M].identifier,type:"touch",currentPos:b(x.changedTouches[M]),currentTime:C},qe(S,Ee,se);Ee.preventDefault&&!Ee.defaultPrevented&&i.cancelEvent(x),Ee.stopPropagation&&i.stopEvent(x)}function de(S,x){var C=x.changedTouches.length,M,K,se={originalEvent:x,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(O(S,se),M=0;M<C;M++)K={id:x.changedTouches[M].identifier,type:"touch"},me(S,se,K);se.stopPropagation&&i.stopEvent(x)}function Me(S,x){return i.eventIsCanceled(x)||x.preventDefault(),!1}function z(S,x){return i.eventIsCanceled(x)||x.preventDefault(),!1}function ee(S,x){var C={originalEvent:x,eventType:"gotpointercapture",pointerType:w(x),isEmulated:!1};O(S,C),x.target===S.element&&Z(S,{id:x.pointerId,type:w(x)},!0),C.stopPropagation&&i.stopEvent(x)}function ge(S,x){var C={originalEvent:x,eventType:"lostpointercapture",pointerType:w(x),isEmulated:!1};O(S,C),x.target===S.element&&Z(S,{id:x.pointerId,type:w(x)},!1),C.stopPropagation&&i.stopEvent(x)}function J(S,x){var C={id:y(x),type:w(x),isPrimary:_(x),currentPos:b(x),currentTime:i.now()},M={originalEvent:x,eventType:"pointerenter",pointerType:C.type,isEmulated:!1};O(S,M),le(S,M,C)}function we(S,x){var C={id:y(x),type:w(x),isPrimary:_(x),currentPos:b(x),currentTime:i.now()},M={originalEvent:x,eventType:"pointerleave",pointerType:C.type,isEmulated:!1};O(S,M),ce(S,M,C)}function Ve(S,x){var C={id:y(x),type:w(x),isPrimary:_(x),currentPos:b(x),currentTime:i.now()},M={originalEvent:x,eventType:"pointerover",pointerType:C.type,isEmulated:!1};O(S,M),ve(S,M,C),M.preventDefault&&!M.defaultPrevented&&i.cancelEvent(x),M.stopPropagation&&i.stopEvent(x)}function Re(S,x){var C={id:y(x),type:w(x),isPrimary:_(x),currentPos:b(x),currentTime:i.now()},M={originalEvent:x,eventType:"pointerout",pointerType:C.type,isEmulated:!1};O(S,M),ie(S,M,C),M.preventDefault&&!M.defaultPrevented&&i.cancelEvent(x),M.stopPropagation&&i.stopEvent(x)}function Et(S,x){var C={id:y(x),type:w(x),isPrimary:_(x),currentPos:b(x),currentTime:i.now()},M=i.MouseTracker.havePointerEvents&&C.type==="touch",K={originalEvent:x,eventType:"pointerdown",pointerType:C.type,isEmulated:!1};O(S,K),He(S,K,C,x.button),K.preventDefault&&!K.defaultPrevented&&i.cancelEvent(x),K.stopPropagation&&i.stopEvent(x),K.shouldCapture&&(M?Z(S,C,!0):g(S,C))}function lt(S,x){vt(S,x)}function Yt(S,x){var C=S.getActivePointersListByType(w(x));C.getById(x.pointerId)&&vt(S,x),i.stopEvent(x)}function vt(S,x){var C;C={id:y(x),type:w(x),isPrimary:_(x),currentPos:b(x),currentTime:i.now()};var M={originalEvent:x,eventType:"pointerup",pointerType:C.type,isEmulated:!1};O(S,M),$e(S,M,C,x.button),M.preventDefault&&!M.defaultPrevented&&i.cancelEvent(x),M.stopPropagation&&i.stopEvent(x),M.shouldReleaseCapture&&(x.target===S.element?v(S,C):Z(S,C,!1))}function jt(S,x){Oi(S,x)}function Ai(S,x){var C=S.getActivePointersListByType(w(x));C.getById(x.pointerId)&&Oi(S,x),i.stopEvent(x)}function Oi(S,x){var C={id:y(x),type:w(x),isPrimary:_(x),currentPos:b(x),currentTime:i.now()},M={originalEvent:x,eventType:"pointermove",pointerType:C.type,isEmulated:!1};O(S,M),qe(S,M,C),M.preventDefault&&!M.defaultPrevented&&i.cancelEvent(x),M.stopPropagation&&i.stopEvent(x)}function It(S,x){var C={id:x.pointerId,type:w(x)},M={originalEvent:x,eventType:"pointercancel",pointerType:C.type,isEmulated:!1};O(S,M),me(S,M,C),M.stopPropagation&&i.stopEvent(x)}function Gi(S,x){return x.speed=0,x.direction=0,x.contactPos=x.currentPos,x.contactTime=x.currentTime,x.lastPos=x.currentPos,x.lastTime=x.currentTime,S.add(x)}function Mi(S,x,C){var M,K=x.getById(C.id);return K?(K.captured&&(i.console.warn("stopTrackingPointer() called on captured pointer"),v(S,K)),x.removeContact(),M=x.removeById(C.id)):M=x.getLength(),M}function T(S,x){switch(x.eventType){case"pointermove":x.isStoppable=!0,x.isCancelable=!0,x.preventDefault=!1,x.preventGesture=!S.hasGestureHandlers,x.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":x.isStoppable=!0,x.isCancelable=!0,x.preventDefault=!1,x.preventGesture=!1,x.stopPropagation=!1;break;case"pointerdown":x.isStoppable=!0,x.isCancelable=!0,x.preventDefault=!1,x.preventGesture=!S.hasGestureHandlers,x.stopPropagation=!1;break;case"pointerup":x.isStoppable=!0,x.isCancelable=!0,x.preventDefault=!1,x.preventGesture=!S.hasGestureHandlers,x.stopPropagation=!1;break;case"wheel":x.isStoppable=!0,x.isCancelable=!0,x.preventDefault=!1,x.preventGesture=!S.hasScrollHandler,x.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":x.isStoppable=!0,x.isCancelable=!1,x.preventDefault=!1,x.preventGesture=!1,x.stopPropagation=!1;break;case"click":x.isStoppable=!0,x.isCancelable=!0,x.preventDefault=!!S.clickHandler,x.preventGesture=!1,x.stopPropagation=!1;break;case"dblclick":x.isStoppable=!0,x.isCancelable=!0,x.preventDefault=!!S.dblClickHandler,x.preventGesture=!1,x.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:x.isStoppable=!1,x.isCancelable=!1,x.preventDefault=!1,x.preventGesture=!1,x.stopPropagation=!1;break}}function O(S,x){x.eventSource=S,x.eventPhase=x.originalEvent&&typeof x.originalEvent.eventPhase<"u"?x.originalEvent.eventPhase:0,x.defaultPrevented=i.eventIsCanceled(x.originalEvent),x.shouldCapture=!1,x.shouldReleaseCapture=!1,x.userData=S.userData,T(S,x),S.preProcessEventHandler&&S.preProcessEventHandler(x)}function Z(S,x,C){var M=S.getActivePointersListByType(x.type),K=M.getById(x.id);K?C&&!K.captured?(K.captured=!0,M.captureCount++):!C&&K.captured&&(K.captured=!1,M.captureCount--,M.captureCount<0&&(M.captureCount=0,i.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):i.console.warn("updatePointerCaptured() called on untracked pointer")}function le(S,x,C){var M=S.getActivePointersListByType(C.type),K;K=M.getById(C.id),K?(K.insideElement=!0,K.lastPos=K.currentPos,K.lastTime=K.currentTime,K.currentPos=C.currentPos,K.currentTime=C.currentTime,C=K):(C.captured=!1,C.insideElementPressed=!1,C.insideElement=!0,Gi(M,C)),S.enterHandler&&S.enterHandler({eventSource:S,pointerType:C.type,position:A(C.currentPos,S.element),buttons:M.buttons,pointers:S.getActivePointerCount(),insideElementPressed:C.insideElementPressed,buttonDownAny:M.buttons!==0,isTouchEvent:C.type==="touch",originalEvent:x.originalEvent,userData:S.userData})}function ce(S,x,C){var M=S.getActivePointersListByType(C.type),K,se;K=M.getById(C.id),K?(K.captured?(K.insideElement=!1,K.lastPos=K.currentPos,K.lastTime=K.currentTime,K.currentPos=C.currentPos,K.currentTime=C.currentTime):Mi(S,M,K),C=K):(C.captured=!1,C.insideElementPressed=!1),(S.leaveHandler||S.exitHandler)&&(se={eventSource:S,pointerType:C.type,position:C.currentPos&&A(C.currentPos,S.element),buttons:M.buttons,pointers:S.getActivePointerCount(),insideElementPressed:C.insideElementPressed,buttonDownAny:M.buttons!==0,isTouchEvent:C.type==="touch",originalEvent:x.originalEvent,userData:S.userData},S.leaveHandler&&S.leaveHandler(se),S.exitHandler&&S.exitHandler(se))}function ve(S,x,C){var M,K;M=S.getActivePointersListByType(C.type),K=M.getById(C.id),K?C=K:(C.captured=!1,C.insideElementPressed=!1),S.overHandler&&S.overHandler({eventSource:S,pointerType:C.type,position:A(C.currentPos,S.element),buttons:M.buttons,pointers:S.getActivePointerCount(),insideElementPressed:C.insideElementPressed,buttonDownAny:M.buttons!==0,isTouchEvent:C.type==="touch",originalEvent:x.originalEvent,userData:S.userData})}function ie(S,x,C){var M,K;M=S.getActivePointersListByType(C.type),K=M.getById(C.id),K?C=K:(C.captured=!1,C.insideElementPressed=!1),S.outHandler&&S.outHandler({eventSource:S,pointerType:C.type,position:C.currentPos&&A(C.currentPos,S.element),buttons:M.buttons,pointers:S.getActivePointerCount(),insideElementPressed:C.insideElementPressed,buttonDownAny:M.buttons!==0,isTouchEvent:C.type==="touch",originalEvent:x.originalEvent,userData:S.userData})}function He(S,x,C,M){var K=a[S.hash],se=S.getActivePointersListByType(C.type),Ee;if(typeof x.originalEvent.buttons<"u"?se.buttons=x.originalEvent.buttons:M===0?se.buttons|=1:M===1?se.buttons|=4:M===2?se.buttons|=2:M===3?se.buttons|=8:M===4?se.buttons|=16:M===5&&(se.buttons|=32),M!==0){x.shouldCapture=!1,x.shouldReleaseCapture=!1,S.nonPrimaryPressHandler&&!x.preventGesture&&!x.defaultPrevented&&(x.preventDefault=!0,S.nonPrimaryPressHandler({eventSource:S,pointerType:C.type,position:A(C.currentPos,S.element),button:M,buttons:se.buttons,isTouchEvent:C.type==="touch",originalEvent:x.originalEvent,userData:S.userData}));return}Ee=se.getById(C.id),Ee?(Ee.insideElementPressed=!0,Ee.insideElement=!0,Ee.originalTarget=x.originalEvent.target,Ee.contactPos=C.currentPos,Ee.contactTime=C.currentTime,Ee.lastPos=Ee.currentPos,Ee.lastTime=Ee.currentTime,Ee.currentPos=C.currentPos,Ee.currentTime=C.currentTime,C=Ee):(C.captured=!1,C.insideElementPressed=!0,C.insideElement=!0,C.originalTarget=x.originalEvent.target,Gi(se,C)),se.addContact(),!x.preventGesture&&!x.defaultPrevented?(x.shouldCapture=!0,x.shouldReleaseCapture=!1,x.preventDefault=!0,(S.dragHandler||S.dragEndHandler||S.pinchHandler)&&i.MouseTracker.gesturePointVelocityTracker.addPoint(S,C),se.contacts===1?S.pressHandler&&!x.preventGesture&&S.pressHandler({eventSource:S,pointerType:C.type,position:A(C.contactPos,S.element),buttons:se.buttons,isTouchEvent:C.type==="touch",originalEvent:x.originalEvent,userData:S.userData}):se.contacts===2&&S.pinchHandler&&C.type==="touch"&&(K.pinchGPoints=se.asArray(),K.lastPinchDist=K.currentPinchDist=K.pinchGPoints[0].currentPos.distanceTo(K.pinchGPoints[1].currentPos),K.lastPinchCenter=K.currentPinchCenter=L(K.pinchGPoints[0].currentPos,K.pinchGPoints[1].currentPos))):(x.shouldCapture=!1,x.shouldReleaseCapture=!1)}function $e(S,x,C,M){var K=a[S.hash],se=S.getActivePointersListByType(C.type),Ee,Qe,Se,zt=!1,pt;if(typeof x.originalEvent.buttons<"u"?se.buttons=x.originalEvent.buttons:M===0?se.buttons^=-2:M===1?se.buttons^=-5:M===2?se.buttons^=-3:M===3?se.buttons^=-9:M===4?se.buttons^=-17:M===5&&(se.buttons^=-33),x.shouldCapture=!1,M!==0){x.shouldReleaseCapture=!1,S.nonPrimaryReleaseHandler&&!x.preventGesture&&!x.defaultPrevented&&(x.preventDefault=!0,S.nonPrimaryReleaseHandler({eventSource:S,pointerType:C.type,position:A(C.currentPos,S.element),button:M,buttons:se.buttons,isTouchEvent:C.type==="touch",originalEvent:x.originalEvent,userData:S.userData}));return}Se=se.getById(C.id),Se?(se.removeContact(),Se.captured&&(zt=!0),Se.lastPos=Se.currentPos,Se.lastTime=Se.currentTime,Se.currentPos=C.currentPos,Se.currentTime=C.currentTime,Se.insideElement||Mi(S,se,Se),Ee=Se.currentPos,Qe=Se.currentTime):(C.captured=!1,C.insideElementPressed=!1,C.insideElement=!0,Gi(se,C),Se=C),!x.preventGesture&&!x.defaultPrevented&&(zt?(x.shouldReleaseCapture=!0,x.preventDefault=!0,(S.dragHandler||S.dragEndHandler||S.pinchHandler)&&i.MouseTracker.gesturePointVelocityTracker.removePoint(S,Se),se.contacts===0?(S.releaseHandler&&Ee&&S.releaseHandler({eventSource:S,pointerType:Se.type,position:A(Ee,S.element),buttons:se.buttons,insideElementPressed:Se.insideElementPressed,insideElementReleased:Se.insideElement,isTouchEvent:Se.type==="touch",originalEvent:x.originalEvent,userData:S.userData}),S.dragEndHandler&&K.sentDragEvent&&S.dragEndHandler({eventSource:S,pointerType:Se.type,position:A(Se.currentPos,S.element),speed:Se.speed,direction:Se.direction,shift:x.originalEvent.shiftKey,isTouchEvent:Se.type==="touch",originalEvent:x.originalEvent,userData:S.userData}),K.sentDragEvent=!1,(S.clickHandler||S.dblClickHandler)&&Se.insideElement&&(pt=Qe-Se.contactTime<=S.clickTimeThreshold&&Se.contactPos.distanceTo(Ee)<=S.clickDistThreshold,S.clickHandler&&S.clickHandler({eventSource:S,pointerType:Se.type,position:A(Se.currentPos,S.element),quick:pt,shift:x.originalEvent.shiftKey,isTouchEvent:Se.type==="touch",originalEvent:x.originalEvent,originalTarget:Se.originalTarget,userData:S.userData}),S.dblClickHandler&&pt&&(se.clicks++,se.clicks===1?(K.lastClickPos=Ee,K.dblClickTimeOut=setTimeout(function(){se.clicks=0},S.dblClickTimeThreshold)):se.clicks===2&&(clearTimeout(K.dblClickTimeOut),se.clicks=0,K.lastClickPos.distanceTo(Ee)<=S.dblClickDistThreshold&&S.dblClickHandler({eventSource:S,pointerType:Se.type,position:A(Se.currentPos,S.element),shift:x.originalEvent.shiftKey,isTouchEvent:Se.type==="touch",originalEvent:x.originalEvent,userData:S.userData}),K.lastClickPos=null)))):se.contacts===2&&S.pinchHandler&&Se.type==="touch"&&(K.pinchGPoints=se.asArray(),K.lastPinchDist=K.currentPinchDist=K.pinchGPoints[0].currentPos.distanceTo(K.pinchGPoints[1].currentPos),K.lastPinchCenter=K.currentPinchCenter=L(K.pinchGPoints[0].currentPos,K.pinchGPoints[1].currentPos))):(x.shouldReleaseCapture=!1,S.releaseHandler&&Ee&&(S.releaseHandler({eventSource:S,pointerType:Se.type,position:A(Ee,S.element),buttons:se.buttons,insideElementPressed:Se.insideElementPressed,insideElementReleased:Se.insideElement,isTouchEvent:Se.type==="touch",originalEvent:x.originalEvent,userData:S.userData}),x.preventDefault=!0)))}function qe(S,x,C){var M=a[S.hash],K=S.getActivePointersListByType(C.type),se,Ee,Qe;if(typeof x.originalEvent.buttons<"u"&&(K.buttons=x.originalEvent.buttons),se=K.getById(C.id),se)se.lastPos=se.currentPos,se.lastTime=se.currentTime,se.currentPos=C.currentPos,se.currentTime=C.currentTime;else return;x.shouldCapture=!1,x.shouldReleaseCapture=!1,S.stopHandler&&C.type==="mouse"&&(clearTimeout(S.stopTimeOut),S.stopTimeOut=setTimeout(function(){it(S,x.originalEvent,C.type)},S.stopDelay)),K.contacts===0?S.moveHandler&&S.moveHandler({eventSource:S,pointerType:C.type,position:A(C.currentPos,S.element),buttons:K.buttons,isTouchEvent:C.type==="touch",originalEvent:x.originalEvent,userData:S.userData}):K.contacts===1?(S.moveHandler&&(se=K.asArray()[0],S.moveHandler({eventSource:S,pointerType:se.type,position:A(se.currentPos,S.element),buttons:K.buttons,isTouchEvent:se.type==="touch",originalEvent:x.originalEvent,userData:S.userData})),S.dragHandler&&!x.preventGesture&&!x.defaultPrevented&&(se=K.asArray()[0],Qe=se.currentPos.minus(se.lastPos),S.dragHandler({eventSource:S,pointerType:se.type,position:A(se.currentPos,S.element),buttons:K.buttons,delta:Qe,speed:se.speed,direction:se.direction,shift:x.originalEvent.shiftKey,isTouchEvent:se.type==="touch",originalEvent:x.originalEvent,userData:S.userData}),x.preventDefault=!0,M.sentDragEvent=!0)):K.contacts===2&&(S.moveHandler&&(Ee=K.asArray(),S.moveHandler({eventSource:S,pointerType:Ee[0].type,position:A(L(Ee[0].currentPos,Ee[1].currentPos),S.element),buttons:K.buttons,isTouchEvent:Ee[0].type==="touch",originalEvent:x.originalEvent,userData:S.userData})),S.pinchHandler&&C.type==="touch"&&!x.preventGesture&&!x.defaultPrevented&&(Qe=M.pinchGPoints[0].currentPos.distanceTo(M.pinchGPoints[1].currentPos),Qe!==M.currentPinchDist&&(M.lastPinchDist=M.currentPinchDist,M.currentPinchDist=Qe,M.lastPinchCenter=M.currentPinchCenter,M.currentPinchCenter=L(M.pinchGPoints[0].currentPos,M.pinchGPoints[1].currentPos),S.pinchHandler({eventSource:S,pointerType:"touch",gesturePoints:M.pinchGPoints,lastCenter:A(M.lastPinchCenter,S.element),center:A(M.currentPinchCenter,S.element),lastDistance:M.lastPinchDist,distance:M.currentPinchDist,shift:x.originalEvent.shiftKey,originalEvent:x.originalEvent,userData:S.userData}),x.preventDefault=!0)))}function me(S,x,C){var M=S.getActivePointersListByType(C.type),K;K=M.getById(C.id),K&&Mi(S,M,K)}function it(S,x,C){S.stopHandler&&S.stopHandler({eventSource:S,pointerType:C,position:D(x,S.element),buttons:S.getActivePointersListByType(C).buttons,isTouchEvent:C==="touch",originalEvent:x,userData:S.userData})}}(p),function(i){i.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},i.Control=function(a,s,l){var u=a.parentNode;typeof s=="number"&&(i.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),s={anchor:s}),s.attachToViewer=typeof s.attachToViewer>"u"?!0:s.attachToViewer,this.autoFade=typeof s.autoFade>"u"?!0:s.autoFade,this.element=a,this.anchor=s.anchor,this.container=l,this.anchor===i.ControlAnchor.ABSOLUTE?(this.wrapper=i.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof s.top=="number"?s.top+"px":s.top,this.wrapper.style.left=typeof s.left=="number"?s.left+"px":s.left,this.wrapper.style.height=typeof s.height=="number"?s.height+"px":s.height,this.wrapper.style.width=typeof s.width=="number"?s.width+"px":s.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=i.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===i.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),s.attachToViewer?this.anchor===i.ControlAnchor.TOP_RIGHT||this.anchor===i.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):u.appendChild(this.wrapper)},i.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==i.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(a){this.wrapper.style.display=a?this.anchor===i.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(a){i.setElementOpacity(this.wrapper,a,!0)}}}(p),function(i){i.ControlDock=function(s){var l=["topleft","topright","bottomright","bottomleft"],u,d;for(i.extend(!0,this,{id:"controldock-"+i.now()+"-"+Math.floor(Math.random()*1e6),container:i.makeNeutralElement("div"),controls:[]},s),this.container.onsubmit=function(){return!1},this.element&&(this.element=i.getElement(this.element),this.element.appendChild(this.container),i.getElementStyle(this.element).position==="static"&&(this.element.style.position="relative"),this.container.style.width="100%",this.container.style.height="100%"),d=0;d<l.length;d++)u=l[d],this.controls[u]=i.makeNeutralElement("div"),this.controls[u].style.position="absolute",u.match("left")&&(this.controls[u].style.left="0px"),u.match("right")&&(this.controls[u].style.right="0px"),u.match("top")&&(this.controls[u].style.top="0px"),u.match("bottom")&&(this.controls[u].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},i.ControlDock.prototype={addControl:function(s,l){s=i.getElement(s);var u=null;if(!(a(this,s)>=0)){switch(l.anchor){case i.ControlAnchor.TOP_RIGHT:u=this.controls.topright,s.style.position="relative",s.style.paddingRight="0px",s.style.paddingTop="0px";break;case i.ControlAnchor.BOTTOM_RIGHT:u=this.controls.bottomright,s.style.position="relative",s.style.paddingRight="0px",s.style.paddingBottom="0px";break;case i.ControlAnchor.BOTTOM_LEFT:u=this.controls.bottomleft,s.style.position="relative",s.style.paddingLeft="0px",s.style.paddingBottom="0px";break;case i.ControlAnchor.TOP_LEFT:u=this.controls.topleft,s.style.position="relative",s.style.paddingLeft="0px",s.style.paddingTop="0px";break;case i.ControlAnchor.ABSOLUTE:u=this.container,s.style.margin="0px",s.style.padding="0px";break;default:case i.ControlAnchor.NONE:u=this.container,s.style.margin="0px",s.style.padding="0px";break}this.controls.push(new i.Control(s,l,u)),s.style.display="inline-block"}},removeControl:function(s){s=i.getElement(s);var l=a(this,s);return l>=0&&(this.controls[l].destroy(),this.controls.splice(l,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var s;for(s=this.controls.length-1;s>=0;s--)if(this.controls[s].isVisible())return!0;return!1},setControlsEnabled:function(s){var l;for(l=this.controls.length-1;l>=0;l--)this.controls[l].setVisible(s);return this}};function a(s,l){var u=s.controls,d;for(d=u.length-1;d>=0;d--)if(u[d].element===l)return d;return-1}}(p),function(i){i.Placement=i.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(p),function(i){var a={},s=1;i.Viewer=function(T){var O=arguments,Z=this,le;i.isPlainObject(T)||(T={id:O[0],xmlPath:O.length>1?O[1]:void 0,prefixUrl:O.length>2?O[2]:void 0,controls:O.length>3?O[3]:void 0,overlays:O.length>4?O[4]:void 0}),T.config&&(i.extend(!0,T,T.config),delete T.config);let ce=["useCanvas"];if(T.drawerOptions=Object.assign({},ce.reduce((ie,He)=>(ie[He]=T[He],delete T[He],ie),{}),T.drawerOptions),i.extend(!0,this,{id:T.id,hash:T.hash||s++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},i.DEFAULT_SETTINGS,T),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");typeof a[this.hash]<"u"&&i.console.warn("Hash "+this.hash+" has already been used."),a[this.hash]={fsBoundsDelta:new i.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=i.now(),i.EventSource.call(this),this.addHandler("open-failed",function(ie){var He=i.getString("Errors.OpenFailed",ie.eventSource,ie.message);Z._showMessage(He)}),i.ControlDock.call(this,T),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=i.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(ie){ie.width="100%",ie.height="100%",ie.overflow="hidden",ie.position="absolute",ie.top="0px",ie.left="0px"}(this.canvas.style),i.setElementTouchActionNone(this.canvas),T.tabIndex!==""&&(this.canvas.tabIndex=T.tabIndex===void 0?0:T.tabIndex),this.container.className="openseadragon-container",function(ie){ie.width="100%",ie.height="100%",ie.position="relative",ie.overflow="hidden",ie.left="0px",ie.top="0px",ie.textAlign="left"}(this.container.style),i.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new i.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:i.delegate(this,D),keyDownHandler:i.delegate(this,A),keyHandler:i.delegate(this,L),clickHandler:i.delegate(this,j),dblClickHandler:i.delegate(this,ae),dragHandler:i.delegate(this,I),dragEndHandler:i.delegate(this,N),enterHandler:i.delegate(this,he),leaveHandler:i.delegate(this,pe),pressHandler:i.delegate(this,fe),releaseHandler:i.delegate(this,ke),nonPrimaryPressHandler:i.delegate(this,Be),nonPrimaryReleaseHandler:i.delegate(this,Te),scrollHandler:i.delegate(this,k),pinchHandler:i.delegate(this,be),focusHandler:i.delegate(this,Fe),blurHandler:i.delegate(this,Ne)}),this.outerTracker=new i.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:i.delegate(this,oe),leaveHandler:i.delegate(this,de)}),this.toolbar&&(this.toolbar=new i.ControlDock({element:this.toolbar})),this.bindStandardControls(),a[this.hash].prevContainerSize=l(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver(function(){a[Z.hash].needsResize=!0}),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new i.World({viewer:this}),this.world.addHandler("add-item",function(ie){Z.source=Z.world.getItemAt(0).source,a[Z.hash].forceRedraw=!0,Z._updateRequestId||(Z._updateRequestId=c(Z,Me))}),this.world.addHandler("remove-item",function(ie){Z.world.getItemCount()?Z.source=Z.world.getItemAt(0).source:Z.source=null,a[Z.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(ie){Z.viewport&&Z.viewport._setContentBounds(Z.world.getHomeBounds(),Z.world.getContentFactor())}),this.world.addHandler("item-index-change",function(ie){Z.source=Z.world.getItemAt(0).source}),this.viewport=new i.Viewport({containerSize:a[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,overlayPreserveContentDirection:this.overlayPreserveContentDirection,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new i.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:T.timeout,tileRetryMax:this.tileRetryMax,tileRetryDelay:this.tileRetryDelay}),this.tileCache=new i.TileCache({maxImageCacheCount:this.maxImageCacheCount}),Object.prototype.hasOwnProperty.call(this.drawerOptions,"useCanvas")&&(i.console.error('useCanvas is deprecated, use the "drawer" option to indicate preferred drawer(s)'),this.drawerOptions.useCanvas||(this.drawer=i.HTMLDrawer),delete this.drawerOptions.useCanvas);let ve=Array.isArray(this.drawer)?this.drawer:[this.drawer];ve.length===0&&(ve=[i.DEFAULT_SETTINGS.drawer].flat(),i.console.warn("No valid drawers were selected. Using the default value.")),this.drawer=null;for(const ie of ve)if(this.requestDrawer(ie,{mainDrawer:!0,redrawImmediately:!1}))break;if(!this.drawer)throw i.console.error("No drawer could be created!"),"Error with creating the selected drawer(s)";for(this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),this.overlaysContainer=i.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(le=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(le,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(le=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(le,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new i.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime,drawer:this.drawer.getType(),loadTilesWithAjax:this.loadTilesWithAjax,ajaxHeaders:this.ajaxHeaders,ajaxWithCredentials:this.ajaxWithCredentials})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),le=0;le<this.customControls.length;le++)this.addControl(this.customControls[le].id,{anchor:this.customControls[le].anchor});i.requestAnimationFrame(function(){v(Z)}),i._viewers.set(this.element,this)},i.extend(i.Viewer.prototype,i.EventSource.prototype,i.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(T){return i.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(T)},openTileSource:function(T){return i.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(T)},get buttons(){return i.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(T,O){var Z=this;if(this.close(),!T)return this;if(this.sequenceMode&&i.isArray(T))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof O<"u"&&!isNaN(O)&&(this.initialPage=O),this.tileSources=T,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(i.isArray(T)||(T=[T]),!T.length)return this;this._opening=!0;for(var le=T.length,ce=0,ve=0,ie,He=function(){if(ce+ve===le)if(ce){(Z._firstOpen||!Z.preserveViewport)&&(Z.viewport.goHome(!0),Z.viewport.update()),Z._firstOpen=!1;var me=T[0];if(me.tileSource&&(me=me.tileSource),Z.overlays&&!Z.preserveOverlays)for(var it=0;it<Z.overlays.length;it++)Z.currentOverlays[it]=d(Z,Z.overlays[it]);Z._drawOverlays(),Z._opening=!1,Z.raiseEvent("open",{source:me})}else Z._opening=!1,Z.raiseEvent("open-failed",ie)},$e=function(me){(!i.isPlainObject(me)||!me.tileSource)&&(me={tileSource:me}),me.index!==void 0&&(i.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete me.index),me.collectionImmediately===void 0&&(me.collectionImmediately=!0);var it=me.success;me.success=function(x){if(ce++,me.tileSource.overlays)for(var C=0;C<me.tileSource.overlays.length;C++)Z.addOverlay(me.tileSource.overlays[C]);it&&it(x),He()};var S=me.error;me.error=function(x){ve++,ie||(ie=x),S&&S(x),He()},Z.addTiledImage(me)},qe=0;qe<T.length;qe++)$e(T[qe]);return this},close:function(){return a[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),a[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(a[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(i.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),a[this.navigator.hash]=null,delete a[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),a[this.hash]=null,delete a[this.hash],this.canvas=null,this.container=null,i._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},requestDrawer(T,O){const Z={mainDrawer:!0,redrawImmediately:!0,drawerOptions:null};O=i.extend(!0,Z,O);const le=O.mainDrawer,ce=O.redrawImmediately,ve=O.drawerOptions,ie=this.drawer;let He=null;if(T&&T.prototype instanceof i.DrawerBase?(He=T,T="custom"):typeof T=="string"&&(He=i.determineDrawer(T)),He||i.console.warn("Unsupported drawer! Drawer must be an existing string type, or a class that extends OpenSeadragon.DrawerBase."),He&&He.isSupported()){ie&&le&&ie.destroy();const $e=new He({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor,options:ve||this.drawerOptions[T]});return le&&(this.drawer=$e,ce&&this.forceRedraw()),$e}return!1},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(T){return this.innerTracker.setTracking(T),this.outerTracker.setTracking(T),this.raiseEvent("mouse-enabled",{enabled:T}),this},areControlsEnabled:function(){var T=this.controls.length,O;for(O=0;O<this.controls.length;O++)T=T&&this.controls[O].isVisible();return T},setControlsEnabled:function(T){return T?w(this):v(this),this.raiseEvent("controls-enabled",{enabled:T}),this},setDebugMode:function(T){for(var O=0;O<this.world.getItemCount();O++)this.world.getItemAt(O).debugMode=T;this.debugMode=T,this.forceRedraw()},setAjaxHeaders:function(T,O){if(T===null&&(T={}),!i.isPlainObject(T)){console.error("[Viewer.setAjaxHeaders] Ignoring invalid headers, must be a plain object");return}if(O===void 0&&(O=!0),this.ajaxHeaders=T,O){for(var Z=0;Z<this.world.getItemCount();Z++)this.world.getItemAt(Z)._updateAjaxHeaders(!0);if(this.navigator&&this.navigator.setAjaxHeaders(this.ajaxHeaders,!0),this.referenceStrip&&this.referenceStrip.miniViewers)for(var le in this.referenceStrip.miniViewers)this.referenceStrip.miniViewers[le].setAjaxHeaders(this.ajaxHeaders,!0)}},addButton:function(T){this.buttonGroup.addButton(T)},isFullPage:function(){return a[this.hash]&&a[this.hash].fullPage},setFullPage:function(T){var O=document.body,Z=O.style,le=document.documentElement.style,ce=this,ve,ie;if(T===this.isFullPage())return this;var He={fullPage:T,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",He),He.preventDefaultAction)return this;if(T&&this.element){for(this.elementSize=i.getElementSize(this.element),this.pageScroll=i.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=Z.margin,this.docMargin=le.margin,Z.margin="0",le.margin="0",this.bodyPadding=Z.padding,this.docPadding=le.padding,Z.padding="0",le.padding="0",this.bodyWidth=Z.width,this.docWidth=le.width,Z.width="100%",le.width="100%",this.bodyHeight=Z.height,this.docHeight=le.height,Z.height="100%",le.height="100%",this.bodyDisplay=Z.display,Z.display="block",this.previousBody=[],a[this.hash].prevElementParent=this.element.parentNode,a[this.hash].prevNextSibling=this.element.nextSibling,a[this.hash].prevElementWidth=this.element.style.width,a[this.hash].prevElementHeight=this.element.style.height,ve=O.childNodes.length,ie=0;ie<ve;ie++)this.previousBody.push(O.childNodes[0]),O.removeChild(O.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,O.appendChild(this.toolbar.element),i.addClass(this.toolbar.element,"fullpage")),i.addClass(this.element,"fullpage"),O.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=i.getElementSize(this.element).y-i.getElementSize(this.toolbar.element).y+"px"),a[this.hash].fullPage=!0,i.delegate(this,oe)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,Z.margin=this.bodyMargin,le.margin=this.docMargin,Z.padding=this.bodyPadding,le.padding=this.docPadding,Z.width=this.bodyWidth,le.width=this.docWidth,Z.height=this.bodyHeight,le.height=this.docHeight,Z.display=this.bodyDisplay,O.removeChild(this.element),ve=this.previousBody.length,ie=0;ie<ve;ie++)O.appendChild(this.previousBody.shift());i.removeClass(this.element,"fullpage"),a[this.hash].prevElementParent.insertBefore(this.element,a[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(O.removeChild(this.toolbar.element),i.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=a[this.hash].prevElementWidth,this.element.style.height=a[this.hash].prevElementHeight;var $e=0,qe=function(){i.setPageScroll(ce.pageScroll);var me=i.getPageScroll();$e++,$e<10&&(me.x!==ce.pageScroll.x||me.y!==ce.pageScroll.y)&&i.requestAnimationFrame(qe)};i.requestAnimationFrame(qe),a[this.hash].fullPage=!1,i.delegate(this,de)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:T}),this},setFullScreen:function(T){var O=this;if(!i.supportsFullScreen)return this.setFullPage(T);if(i.isFullScreen()===T)return this;var Z={fullScreen:T,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",Z),Z.preventDefaultAction)return this;if(T){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var le=function(){var ce=i.isFullScreen();ce||(i.removeEvent(document,i.fullScreenEventName,le),i.removeEvent(document,i.fullScreenErrorEventName,le),O.setFullPage(!1),O.isFullPage()&&(O.element.style.width=O.fullPageStyleWidth,O.element.style.height=O.fullPageStyleHeight)),O.navigator&&O.viewport&&setTimeout(function(){O.navigator.update(O.viewport)}),O.raiseEvent("full-screen",{fullScreen:ce})};i.addEvent(document,i.fullScreenEventName,le),i.addEvent(document,i.fullScreenErrorEventName,le),i.requestFullScreen(document.body)}else i.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},isFullScreen:function(){return i.isFullScreen()&&this.isFullPage()},setVisible:function(T){return this.container.style.visibility=T?"":"hidden",this.raiseEvent("visible",{visible:T}),this},addTiledImage:function(T){i.console.assert(T,"[Viewer.addTiledImage] options is required"),i.console.assert(T.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),i.console.assert(!T.replace||T.index>-1&&T.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var O=this;T.replace&&(T.replaceItem=O.world.getItemAt(T.index)),this._hideMessage(),T.placeholderFillStyle===void 0&&(T.placeholderFillStyle=this.placeholderFillStyle),T.opacity===void 0&&(T.opacity=this.opacity),T.preload===void 0&&(T.preload=this.preload),T.compositeOperation===void 0&&(T.compositeOperation=this.compositeOperation),T.crossOriginPolicy===void 0&&(T.crossOriginPolicy=T.tileSource.crossOriginPolicy!==void 0?T.tileSource.crossOriginPolicy:this.crossOriginPolicy),T.ajaxWithCredentials===void 0&&(T.ajaxWithCredentials=this.ajaxWithCredentials),T.loadTilesWithAjax===void 0&&(T.loadTilesWithAjax=this.loadTilesWithAjax),i.isPlainObject(T.ajaxHeaders)||(T.ajaxHeaders={});var Z={options:T};function le(ie){for(var He=0;He<O._loadQueue.length;He++)if(O._loadQueue[He]===Z){O._loadQueue.splice(He,1);break}O._loadQueue.length===0&&ce(Z),O.raiseEvent("add-item-failed",ie),T.error&&T.error(ie)}function ce(ie){O.collectionMode&&(O.world.arrange({immediately:ie.options.collectionImmediately,rows:O.collectionRows,columns:O.collectionColumns,layout:O.collectionLayout,tileSize:O.collectionTileSize,tileMargin:O.collectionTileMargin}),O.world.setAutoRefigureSizes(!0))}if(i.isArray(T.tileSource)){setTimeout(function(){le({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:T.tileSource,options:T})});return}this._loadQueue.push(Z);function ve(){for(var ie,He,$e;O._loadQueue.length&&(ie=O._loadQueue[0],!!ie.tileSource);){if(O._loadQueue.splice(0,1),ie.options.replace){var qe=O.world.getIndexOfItem(ie.options.replaceItem);qe!==-1&&(ie.options.index=qe),O.world.removeItem(ie.options.replaceItem)}He=new i.TiledImage({viewer:O,source:ie.tileSource,viewport:O.viewport,drawer:O.drawer,tileCache:O.tileCache,imageLoader:O.imageLoader,x:ie.options.x,y:ie.options.y,width:ie.options.width,height:ie.options.height,fitBounds:ie.options.fitBounds,fitBoundsPlacement:ie.options.fitBoundsPlacement,clip:ie.options.clip,placeholderFillStyle:ie.options.placeholderFillStyle,opacity:ie.options.opacity,preload:ie.options.preload,degrees:ie.options.degrees,flipped:ie.options.flipped,compositeOperation:ie.options.compositeOperation,springStiffness:O.springStiffness,animationTime:O.animationTime,minZoomImageRatio:O.minZoomImageRatio,wrapHorizontal:O.wrapHorizontal,wrapVertical:O.wrapVertical,maxTilesPerFrame:O.maxTilesPerFrame,immediateRender:O.immediateRender,blendTime:O.blendTime,alwaysBlend:O.alwaysBlend,minPixelRatio:O.minPixelRatio,smoothTileEdgesMinZoom:O.smoothTileEdgesMinZoom,iOSDevice:O.iOSDevice,crossOriginPolicy:ie.options.crossOriginPolicy,ajaxWithCredentials:ie.options.ajaxWithCredentials,loadTilesWithAjax:ie.options.loadTilesWithAjax,ajaxHeaders:ie.options.ajaxHeaders,debugMode:O.debugMode,subPixelRoundingForTransparency:O.subPixelRoundingForTransparency}),O.collectionMode&&O.world.setAutoRefigureSizes(!1),O.navigator&&($e=i.extend({},ie.options,{replace:!1,originalTiledImage:He,tileSource:ie.tileSource}),O.navigator.addTiledImage($e)),O.world.addItem(He,{index:ie.options.index}),O._loadQueue.length===0&&ce(ie),O.world.getItemCount()===1&&!O.preserveViewport&&O.viewport.goHome(!0),ie.options.success&&ie.options.success({item:He})}}u(this,T.tileSource,T,function(ie){Z.tileSource=ie,ve()},function(ie){ie.options=T,le(ie),ve()})},addSimpleImage:function(T){i.console.assert(T,"[Viewer.addSimpleImage] options is required"),i.console.assert(T.url,"[Viewer.addSimpleImage] options.url is required");var O=i.extend({},T,{tileSource:{type:"image",url:T.url}});delete O.url,this.addTiledImage(O)},addLayer:function(T){var O=this;i.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var Z=i.extend({},T,{success:function(le){O.raiseEvent("add-layer",{options:T,drawer:le.item})},error:function(le){O.raiseEvent("add-layer-failed",le)}});return this.addTiledImage(Z),this},getLayerAtLevel:function(T){return i.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(T)},getLevelOfLayer:function(T){return i.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(T)},getLayersCount:function(){return i.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(T,O){return i.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(T,O)},removeLayer:function(T){return i.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(T)},forceRedraw:function(){return a[this.hash].forceRedraw=!0,this},forceResize:function(){a[this.hash].needsResize=!0,a[this.hash].forceResize=!0},bindSequenceControls:function(){var T=i.delegate(this,_),O=i.delegate(this,b),Z=i.delegate(this,this.goToNextPage),le=i.delegate(this,this.goToPreviousPage),ce=this.navImages,ve=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(ve=!1),this.previousButton=new i.Button({element:this.previousButton?i.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:i.getString("Tooltips.PreviousPage"),srcRest:J(this.prefixUrl,ce.previous.REST),srcGroup:J(this.prefixUrl,ce.previous.GROUP),srcHover:J(this.prefixUrl,ce.previous.HOVER),srcDown:J(this.prefixUrl,ce.previous.DOWN),onRelease:le,onFocus:T,onBlur:O}),this.nextButton=new i.Button({element:this.nextButton?i.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:i.getString("Tooltips.NextPage"),srcRest:J(this.prefixUrl,ce.next.REST),srcGroup:J(this.prefixUrl,ce.next.GROUP),srcHover:J(this.prefixUrl,ce.next.HOVER),srcDown:J(this.prefixUrl,ce.next.DOWN),onRelease:Z,onFocus:T,onBlur:O}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),ve&&(this.paging=new i.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:i.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||i.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var T=i.delegate(this,we),O=i.delegate(this,Re),Z=i.delegate(this,Yt),le=i.delegate(this,Ve),ce=i.delegate(this,vt),ve=i.delegate(this,Ai),ie=i.delegate(this,Oi),He=i.delegate(this,It),$e=i.delegate(this,Gi),qe=i.delegate(this,Mi),me=i.delegate(this,_),it=i.delegate(this,b),S=this.navImages,x=[],C=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(C=!1),this.showZoomControl&&(x.push(this.zoomInButton=new i.Button({element:this.zoomInButton?i.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:i.getString("Tooltips.ZoomIn"),srcRest:J(this.prefixUrl,S.zoomIn.REST),srcGroup:J(this.prefixUrl,S.zoomIn.GROUP),srcHover:J(this.prefixUrl,S.zoomIn.HOVER),srcDown:J(this.prefixUrl,S.zoomIn.DOWN),onPress:T,onRelease:O,onClick:Z,onEnter:T,onExit:O,onFocus:me,onBlur:it})),x.push(this.zoomOutButton=new i.Button({element:this.zoomOutButton?i.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:i.getString("Tooltips.ZoomOut"),srcRest:J(this.prefixUrl,S.zoomOut.REST),srcGroup:J(this.prefixUrl,S.zoomOut.GROUP),srcHover:J(this.prefixUrl,S.zoomOut.HOVER),srcDown:J(this.prefixUrl,S.zoomOut.DOWN),onPress:le,onRelease:O,onClick:ce,onEnter:le,onExit:O,onFocus:me,onBlur:it}))),this.showHomeControl&&x.push(this.homeButton=new i.Button({element:this.homeButton?i.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:i.getString("Tooltips.Home"),srcRest:J(this.prefixUrl,S.home.REST),srcGroup:J(this.prefixUrl,S.home.GROUP),srcHover:J(this.prefixUrl,S.home.HOVER),srcDown:J(this.prefixUrl,S.home.DOWN),onRelease:ve,onFocus:me,onBlur:it})),this.showFullPageControl&&x.push(this.fullPageButton=new i.Button({element:this.fullPageButton?i.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:i.getString("Tooltips.FullPage"),srcRest:J(this.prefixUrl,S.fullpage.REST),srcGroup:J(this.prefixUrl,S.fullpage.GROUP),srcHover:J(this.prefixUrl,S.fullpage.HOVER),srcDown:J(this.prefixUrl,S.fullpage.DOWN),onRelease:ie,onFocus:me,onBlur:it})),this.showRotationControl&&(x.push(this.rotateLeftButton=new i.Button({element:this.rotateLeftButton?i.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:i.getString("Tooltips.RotateLeft"),srcRest:J(this.prefixUrl,S.rotateleft.REST),srcGroup:J(this.prefixUrl,S.rotateleft.GROUP),srcHover:J(this.prefixUrl,S.rotateleft.HOVER),srcDown:J(this.prefixUrl,S.rotateleft.DOWN),onRelease:He,onFocus:me,onBlur:it})),x.push(this.rotateRightButton=new i.Button({element:this.rotateRightButton?i.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:i.getString("Tooltips.RotateRight"),srcRest:J(this.prefixUrl,S.rotateright.REST),srcGroup:J(this.prefixUrl,S.rotateright.GROUP),srcHover:J(this.prefixUrl,S.rotateright.HOVER),srcDown:J(this.prefixUrl,S.rotateright.DOWN),onRelease:$e,onFocus:me,onBlur:it}))),this.showFlipControl&&x.push(this.flipButton=new i.Button({element:this.flipButton?i.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:i.getString("Tooltips.Flip"),srcRest:J(this.prefixUrl,S.flip.REST),srcGroup:J(this.prefixUrl,S.flip.GROUP),srcHover:J(this.prefixUrl,S.flip.HOVER),srcDown:J(this.prefixUrl,S.flip.DOWN),onRelease:qe,onFocus:me,onBlur:it})),C?(this.buttonGroup=new i.ButtonGroup({buttons:x,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",i.delegate(this,jt)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||i.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||i.ControlAnchor.TOP_LEFT})):this.customButtons=x),this},currentPage:function(){return this._sequenceIndex},goToPage:function(T){return this.tileSources&&T>=0&&T<this.tileSources.length&&(this._sequenceIndex=T,this._updateSequenceButtons(T),this.open(this.tileSources[T]),this.referenceStrip&&this.referenceStrip.setFocus(T),this.raiseEvent("page",{page:T})),this},addOverlay:function(T,O,Z,le){var ce;if(i.isPlainObject(T)?ce=T:ce={element:T,location:O,placement:Z,onDraw:le},T=i.getElement(ce.element),h(this.currentOverlays,T)>=0)return this;var ve=d(this,ce);return this.currentOverlays.push(ve),ve.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:T,location:ce.location,placement:ce.placement}),this},updateOverlay:function(T,O,Z){var le;return T=i.getElement(T),le=h(this.currentOverlays,T),le>=0&&(this.currentOverlays[le].update(O,Z),a[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:T,location:O,placement:Z})),this},removeOverlay:function(T){var O;return T=i.getElement(T),O=h(this.currentOverlays,T),O>=0&&(this.currentOverlays[O].destroy(),this.currentOverlays.splice(O,1),a[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:T})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return a[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(T){var O;return T=i.getElement(T),O=h(this.currentOverlays,T),O>=0?this.currentOverlays[O]:null},_updateSequenceButtons:function(T){this.nextButton&&(!this.tileSources||this.tileSources.length-1===T?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(T>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(T){this._hideMessage();var O=i.makeNeutralElement("div");O.appendChild(document.createTextNode(T)),this.messageDiv=i.makeCenteredNode(O),i.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var T=this.messageDiv;T&&(T.parentNode.removeChild(T),delete this.messageDiv)},gestureSettingsByDeviceType:function(T){switch(T){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var T,O=this.currentOverlays.length;for(T=0;T<O;T++)this.currentOverlays[T].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new i.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else i.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),i.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){i.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var T=i.pixelDensityRatio,O=i.getCurrentPixelDensityRatio();T!==O&&(i.pixelDensityRatio=O,this.forceResize())},goToPreviousPage:function(){var T=this._sequenceIndex-1;this.navPrevNextWrap&&T<0&&(T+=this.tileSources.length),this.goToPage(T)},goToNextPage:function(){var T=this._sequenceIndex+1;this.navPrevNextWrap&&T>=this.tileSources.length&&(T=0),this.goToPage(T)},isAnimating:function(){return a[this.hash].animating}});function l(T){return T=i.getElement(T),new i.Point(T.clientWidth===0?1:T.clientWidth,T.clientHeight===0?1:T.clientHeight)}function u(T,O,Z,le,ce){var ve=T;if(i.type(O)==="string"){if(O.match(/^\s*<.*>\s*$/))O=i.parseXml(O);else if(O.match(/^\s*[{[].*[}\]]\s*$/))try{var ie=i.parseJSON(O);O=ie}catch{}}function He($e,qe){$e.ready?le($e):($e.addHandler("ready",function(){le($e)}),$e.addHandler("open-failed",function(me){ce({message:me.message,source:qe})}))}setTimeout(function(){if(i.type(O)==="string")O=new i.TileSource({url:O,crossOriginPolicy:Z.crossOriginPolicy!==void 0?Z.crossOriginPolicy:T.crossOriginPolicy,ajaxWithCredentials:T.ajaxWithCredentials,ajaxHeaders:Z.ajaxHeaders?Z.ajaxHeaders:T.ajaxHeaders,splitHashDataForPost:T.splitHashDataForPost,success:function(it){le(it.tileSource)}}),O.addHandler("open-failed",function(it){ce(it)});else if(i.isPlainObject(O)||O.nodeType)if(O.crossOriginPolicy===void 0&&(Z.crossOriginPolicy!==void 0||T.crossOriginPolicy!==void 0)&&(O.crossOriginPolicy=Z.crossOriginPolicy!==void 0?Z.crossOriginPolicy:T.crossOriginPolicy),O.ajaxWithCredentials===void 0&&(O.ajaxWithCredentials=T.ajaxWithCredentials),i.isFunction(O.getTileUrl)){var $e=new i.TileSource(O);$e.getTileUrl=O.getTileUrl,le($e)}else{var qe=i.TileSource.determineType(ve,O);if(!qe){ce({message:"Unable to load TileSource",source:O});return}var me=qe.prototype.configure.apply(ve,[O]);He(new qe(me),O)}else He(O,O)})}function d(T,O){if(O instanceof i.Overlay)return O;var Z=null;if(O.element)Z=i.getElement(O.element);else{var le=O.id?O.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);Z=i.getElement(O.id),Z||(Z=document.createElement("a"),Z.href="#/overlay/"+le),Z.id=le,i.addClass(Z,O.className?O.className:"openseadragon-overlay")}var ce=O.location,ve=O.width,ie=O.height;if(!ce){var He=O.x,$e=O.y;if(O.px!==void 0){var qe=T.viewport.imageToViewportRectangle(new i.Rect(O.px,O.py,ve||0,ie||0));He=qe.x,$e=qe.y,ve=ve!==void 0?qe.width:void 0,ie=ie!==void 0?qe.height:void 0}ce=new i.Point(He,$e)}var me=O.placement;return me&&i.type(me)==="string"&&(me=i.Placement[O.placement.toUpperCase()]),new i.Overlay({element:Z,location:ce,placement:me,onDraw:O.onDraw,checkResize:O.checkResize,width:ve,height:ie,rotationMode:O.rotationMode})}function h(T,O){var Z;for(Z=T.length-1;Z>=0;Z--)if(T[Z].element===O)return Z;return-1}function c(T,O){return i.requestAnimationFrame(function(){O(T)})}function g(T){i.requestAnimationFrame(function(){y(T)})}function v(T){T.autoHideControls&&(T.controlsShouldFade=!0,T.controlsFadeBeginTime=i.now()+T.controlsFadeDelay,window.setTimeout(function(){g(T)},T.controlsFadeDelay))}function y(T){var O,Z,le,ce;if(T.controlsShouldFade){for(O=i.now(),Z=O-T.controlsFadeBeginTime,le=1-Z/T.controlsFadeLength,le=Math.min(1,le),le=Math.max(0,le),ce=T.controls.length-1;ce>=0;ce--)T.controls[ce].autoFade&&T.controls[ce].setOpacity(le);le>0&&g(T)}}function w(T){var O;for(T.controlsShouldFade=!1,O=T.controls.length-1;O>=0;O--)T.controls[O].setOpacity(1)}function _(){w(this)}function b(){v(this)}function D(T){var O={tracker:T.eventSource,position:T.position,originalEvent:T.originalEvent,preventDefault:T.preventDefault};this.raiseEvent("canvas-contextmenu",O),T.preventDefault=O.preventDefault}function A(T){var O={originalEvent:T.originalEvent,preventDefaultAction:!1,preventVerticalPan:T.preventVerticalPan||!this.panVertical,preventHorizontalPan:T.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",O),!O.preventDefaultAction&&!T.ctrl&&!T.alt&&!T.meta)switch(T.keyCode){case 38:O.preventVerticalPan||(T.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new i.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),T.preventDefault=!0;break;case 40:O.preventVerticalPan||(T.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new i.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),T.preventDefault=!0;break;case 37:O.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new i.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),T.preventDefault=!0;break;case 39:O.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new i.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),T.preventDefault=!0;break;case 187:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),T.preventDefault=!0;break;case 189:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),T.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),T.preventDefault=!0;break;case 87:O.preventVerticalPan||(T.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new i.Point(0,-40))),this.viewport.applyConstraints()),T.preventDefault=!0;break;case 83:O.preventVerticalPan||(T.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new i.Point(0,40))),this.viewport.applyConstraints()),T.preventDefault=!0;break;case 65:O.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new i.Point(-40,0))),this.viewport.applyConstraints()),T.preventDefault=!0;break;case 68:O.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new i.Point(40,0))),this.viewport.applyConstraints()),T.preventDefault=!0;break;case 82:T.shift?this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),T.preventDefault=!0;break;case 70:this.viewport.toggleFlip(),T.preventDefault=!0;break;case 74:this.goToPreviousPage();break;case 75:this.goToNextPage();break;default:T.preventDefault=!1;break}else T.preventDefault=!1}function L(T){var O={originalEvent:T.originalEvent};this.raiseEvent("canvas-key-press",O)}function j(T){var O,Z=document.activeElement===this.canvas;Z||this.canvas.focus(),this.viewport.flipped&&(T.position.x=this.viewport.getContainerSize().x-T.position.x);var le={tracker:T.eventSource,position:T.position,quick:T.quick,shift:T.shift,originalEvent:T.originalEvent,originalTarget:T.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",le),!le.preventDefaultAction&&this.viewport&&T.quick&&(O=this.gestureSettingsByDeviceType(T.pointerType),O.clickToZoom===!0&&(this.viewport.zoomBy(T.shift?1/this.zoomPerClick:this.zoomPerClick,O.zoomToRefPoint?this.viewport.pointFromPixel(T.position,!0):null),this.viewport.applyConstraints()),O.dblClickDragToZoom&&(a[this.hash].draggingToZoom===!0?(a[this.hash].lastClickTime=null,a[this.hash].draggingToZoom=!1):a[this.hash].lastClickTime=i.now()))}function ae(T){var O,Z={tracker:T.eventSource,position:T.position,shift:T.shift,originalEvent:T.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",Z),!Z.preventDefaultAction&&this.viewport&&(O=this.gestureSettingsByDeviceType(T.pointerType),O.dblClickToZoom&&(this.viewport.zoomBy(T.shift?1/this.zoomPerClick:this.zoomPerClick,O.zoomToRefPoint?this.viewport.pointFromPixel(T.position,!0):null),this.viewport.applyConstraints()))}function I(T){var O,Z={tracker:T.eventSource,pointerType:T.pointerType,position:T.position,delta:T.delta,speed:T.speed,direction:T.direction,shift:T.shift,originalEvent:T.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",Z),O=this.gestureSettingsByDeviceType(T.pointerType),!Z.preventDefaultAction&&this.viewport){if(O.dblClickDragToZoom&&a[this.hash].draggingToZoom){var le=Math.pow(this.zoomPerDblClickDrag,T.delta.y/50);this.viewport.zoomBy(le)}else if(O.dragToPan&&!a[this.hash].draggingToZoom){if(this.panHorizontal||(T.delta.x=0),this.panVertical||(T.delta.y=0),this.viewport.flipped&&(T.delta.x=-T.delta.x),this.constrainDuringPan){var ce=this.viewport.deltaPointsFromPixels(T.delta.negate());this.viewport.centerSpringX.target.value+=ce.x,this.viewport.centerSpringY.target.value+=ce.y;var ve=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=ce.x,this.viewport.centerSpringY.target.value-=ce.y,ve.xConstrained&&(T.delta.x=0),ve.yConstrained&&(T.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(T.delta.negate()),O.flickEnabled&&!this.constrainDuringPan)}}}function N(T){var O,Z={tracker:T.eventSource,pointerType:T.pointerType,position:T.position,speed:T.speed,direction:T.direction,shift:T.shift,originalEvent:T.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",Z),O=this.gestureSettingsByDeviceType(T.pointerType),!Z.preventDefaultAction&&this.viewport){if(!a[this.hash].draggingToZoom&&O.dragToPan&&O.flickEnabled&&T.speed>=O.flickMinSpeed){var le=0;this.panHorizontal&&(le=O.flickMomentum*T.speed*Math.cos(T.direction));var ce=0;this.panVertical&&(ce=O.flickMomentum*T.speed*Math.sin(T.direction));var ve=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),ie=this.viewport.pointFromPixel(new i.Point(ve.x-le,ve.y-ce));this.viewport.panTo(ie,!1)}this.viewport.applyConstraints()}O.dblClickDragToZoom&&a[this.hash].draggingToZoom===!0&&(a[this.hash].draggingToZoom=!1)}function he(T){this.raiseEvent("canvas-enter",{tracker:T.eventSource,pointerType:T.pointerType,position:T.position,buttons:T.buttons,pointers:T.pointers,insideElementPressed:T.insideElementPressed,buttonDownAny:T.buttonDownAny,originalEvent:T.originalEvent})}function pe(T){this.raiseEvent("canvas-exit",{tracker:T.eventSource,pointerType:T.pointerType,position:T.position,buttons:T.buttons,pointers:T.pointers,insideElementPressed:T.insideElementPressed,buttonDownAny:T.buttonDownAny,originalEvent:T.originalEvent})}function fe(T){var O;if(this.raiseEvent("canvas-press",{tracker:T.eventSource,pointerType:T.pointerType,position:T.position,insideElementPressed:T.insideElementPressed,insideElementReleased:T.insideElementReleased,originalEvent:T.originalEvent}),O=this.gestureSettingsByDeviceType(T.pointerType),O.dblClickDragToZoom){var Z=a[this.hash].lastClickTime,le=i.now();if(Z===null)return;le-Z<this.dblClickTimeThreshold&&(a[this.hash].draggingToZoom=!0),a[this.hash].lastClickTime=null}}function ke(T){this.raiseEvent("canvas-release",{tracker:T.eventSource,pointerType:T.pointerType,position:T.position,insideElementPressed:T.insideElementPressed,insideElementReleased:T.insideElementReleased,originalEvent:T.originalEvent})}function Be(T){this.raiseEvent("canvas-nonprimary-press",{tracker:T.eventSource,position:T.position,pointerType:T.pointerType,button:T.button,buttons:T.buttons,originalEvent:T.originalEvent})}function Te(T){this.raiseEvent("canvas-nonprimary-release",{tracker:T.eventSource,position:T.position,pointerType:T.pointerType,button:T.button,buttons:T.buttons,originalEvent:T.originalEvent})}function be(T){var O,Z,le,ce,ve={tracker:T.eventSource,pointerType:T.pointerType,gesturePoints:T.gesturePoints,lastCenter:T.lastCenter,center:T.center,lastDistance:T.lastDistance,distance:T.distance,shift:T.shift,originalEvent:T.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",ve),this.viewport&&(O=this.gestureSettingsByDeviceType(T.pointerType),O.pinchToZoom&&(!ve.preventDefaultPanAction||!ve.preventDefaultZoomAction)&&(Z=this.viewport.pointFromPixel(T.center,!0),O.zoomToRefPoint&&!ve.preventDefaultPanAction&&(le=this.viewport.pointFromPixel(T.lastCenter,!0),ce=le.minus(Z),this.panHorizontal||(ce.x=0),this.panVertical||(ce.y=0),this.viewport.panBy(ce,!0)),ve.preventDefaultZoomAction||this.viewport.zoomBy(T.distance/T.lastDistance,Z,!0),this.viewport.applyConstraints()),O.pinchRotate&&!ve.preventDefaultRotateAction)){var ie=Math.atan2(T.gesturePoints[0].currentPos.y-T.gesturePoints[1].currentPos.y,T.gesturePoints[0].currentPos.x-T.gesturePoints[1].currentPos.x),He=Math.atan2(T.gesturePoints[0].lastPos.y-T.gesturePoints[1].lastPos.y,T.gesturePoints[0].lastPos.x-T.gesturePoints[1].lastPos.x);Z=this.viewport.pointFromPixel(T.center,!0),this.viewport.rotateTo(this.viewport.getRotation(!0)+(ie-He)*(180/Math.PI),Z,!0)}}function Fe(T){this.raiseEvent("canvas-focus",{tracker:T.eventSource,originalEvent:T.originalEvent})}function Ne(T){this.raiseEvent("canvas-blur",{tracker:T.eventSource,originalEvent:T.originalEvent})}function k(T){var O,Z,le,ce,ve;ce=i.now(),ve=ce-this._lastScrollTime,ve>this.minScrollDeltaTime?(this._lastScrollTime=ce,O={tracker:T.eventSource,position:T.position,scroll:T.scroll,shift:T.shift,originalEvent:T.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",O),!O.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(T.position.x=this.viewport.getContainerSize().x-T.position.x),Z=this.gestureSettingsByDeviceType(T.pointerType),Z.scrollToZoom&&(le=Math.pow(this.zoomPerScroll,T.scroll),this.viewport.zoomBy(le,Z.zoomToRefPoint?this.viewport.pointFromPixel(T.position,!0):null),this.viewport.applyConstraints())),T.preventDefault=O.preventDefault):T.preventDefault=!0}function oe(T){a[this.hash].mouseInside=!0,w(this),this.raiseEvent("container-enter",{tracker:T.eventSource,pointerType:T.pointerType,position:T.position,buttons:T.buttons,pointers:T.pointers,insideElementPressed:T.insideElementPressed,buttonDownAny:T.buttonDownAny,originalEvent:T.originalEvent})}function de(T){T.pointers<1&&(a[this.hash].mouseInside=!1,a[this.hash].animating||v(this)),this.raiseEvent("container-exit",{tracker:T.eventSource,pointerType:T.pointerType,position:T.position,buttons:T.buttons,pointers:T.pointers,insideElementPressed:T.insideElementPressed,buttonDownAny:T.buttonDownAny,originalEvent:T.originalEvent})}function Me(T){ee(T),T.isOpen()?T._updateRequestId=c(T,Me):T._updateRequestId=!1}function z(T,O){var Z=T.viewport,le=Z.getZoom(),ce=Z.getCenter();Z.resize(O,T.preserveImageSizeOnResize),Z.panTo(ce,!0);var ve;if(T.preserveImageSizeOnResize)ve=a[T.hash].prevContainerSize.x/O.x;else{var ie=new i.Point(0,0),He=new i.Point(a[T.hash].prevContainerSize.x,a[T.hash].prevContainerSize.y).distanceTo(ie),$e=new i.Point(O.x,O.y).distanceTo(ie);ve=$e/He*a[T.hash].prevContainerSize.x/O.x}Z.zoomTo(le*ve,null,!0),a[T.hash].prevContainerSize=O,a[T.hash].forceRedraw=!0,a[T.hash].needsResize=!1,a[T.hash].forceResize=!1}function ee(T){if(!(T._opening||!a[T.hash])){if(T.autoResize||a[T.hash].forceResize){var O;if(T._autoResizePolling){O=l(T.container);var Z=a[T.hash].prevContainerSize;O.equals(Z)||(a[T.hash].needsResize=!0)}a[T.hash].needsResize&&z(T,O||l(T.container))}var le=T.viewport.update(),ce=T.world.update(le)||le;le&&T.raiseEvent("viewport-change"),T.referenceStrip&&(ce=T.referenceStrip.update(T.viewport)||ce);var ve=a[T.hash].animating;!ve&&ce&&(T.raiseEvent("animation-start"),w(T));var ie=ve&&!ce;ie&&(a[T.hash].animating=!1),(ce||ie||a[T.hash].forceRedraw||T.world.needsDraw())&&(ge(T),T._drawOverlays(),T.navigator&&T.navigator.update(T.viewport),a[T.hash].forceRedraw=!1,ce&&T.raiseEvent("animation")),ie&&(T.raiseEvent("animation-finish"),a[T.hash].mouseInside||v(T)),a[T.hash].animating=ce}}function ge(T){T.imageLoader.clear(),T.world.draw(),T.raiseEvent("update-viewport",{})}function J(T,O){return T?T+O:O}function we(){a[this.hash].lastZoomTime=i.now(),a[this.hash].zoomFactor=this.zoomPerSecond,a[this.hash].zooming=!0,Et(this)}function Ve(){a[this.hash].lastZoomTime=i.now(),a[this.hash].zoomFactor=1/this.zoomPerSecond,a[this.hash].zooming=!0,Et(this)}function Re(){a[this.hash].zooming=!1}function Et(T){i.requestAnimationFrame(i.delegate(T,lt))}function lt(){var T,O,Z;a[this.hash].zooming&&this.viewport&&(T=i.now(),O=T-a[this.hash].lastZoomTime,Z=Math.pow(a[this.hash].zoomFactor,O/1e3),this.viewport.zoomBy(Z),this.viewport.applyConstraints(),a[this.hash].lastZoomTime=T,Et(this))}function Yt(){this.viewport&&(a[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function vt(){this.viewport&&(a[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function jt(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function Ai(){this.viewport&&this.viewport.goHome()}function Oi(){this.isFullPage()&&!i.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function It(){if(this.viewport){var T=this.viewport.getRotation();this.viewport.flipped?T+=this.rotationIncrement:T-=this.rotationIncrement,this.viewport.setRotation(T)}}function Gi(){if(this.viewport){var T=this.viewport.getRotation();this.viewport.flipped?T-=this.rotationIncrement:T+=this.rotationIncrement,this.viewport.setRotation(T)}}function Mi(){this.viewport.toggleFlip()}i.determineDrawer=function(T){for(let O in p){const Z=p[O],le=Z.prototype;if(le&&le instanceof p.DrawerBase&&i.isFunction(le.getType)&&le.getType.call(Z)===T)return Z}return null}}(p),function(i){i.Navigator=function(c){var g=c.viewer,v=this,y,w;c.element||c.id?(c.element?(c.id&&i.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),c.element.id?c.id=c.element.id:c.id="navigator-"+i.now(),this.element=c.element):this.element=document.getElementById(c.id),c.controlOptions={anchor:i.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(c.id="navigator-"+i.now(),this.element=i.makeNeutralElement("div"),c.controlOptions={anchor:i.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:c.autoFade},c.position&&(c.position==="BOTTOM_RIGHT"?c.controlOptions.anchor=i.ControlAnchor.BOTTOM_RIGHT:c.position==="BOTTOM_LEFT"?c.controlOptions.anchor=i.ControlAnchor.BOTTOM_LEFT:c.position==="TOP_RIGHT"?c.controlOptions.anchor=i.ControlAnchor.TOP_RIGHT:c.position==="TOP_LEFT"?c.controlOptions.anchor=i.ControlAnchor.TOP_LEFT:c.position==="ABSOLUTE"&&(c.controlOptions.anchor=i.ControlAnchor.ABSOLUTE,c.controlOptions.top=c.top,c.controlOptions.left=c.left,c.controlOptions.height=c.height,c.controlOptions.width=c.width))),this.element.id=c.id,this.element.className+=" navigator",c=i.extend(!0,{sizeRatio:i.DEFAULT_SETTINGS.navigatorSizeRatio},c,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:c.animationTime,autoResize:!1,minZoomImageRatio:1,background:c.background,opacity:c.opacity,borderColor:c.borderColor,displayRegionColor:c.displayRegionColor}),c.minPixelRatio=this.minPixelRatio=g.minPixelRatio,i.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new i.Point(1,1),this.totalBorderWidths=new i.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),c.controlOptions.anchor!==i.ControlAnchor.NONE&&function(D,A){D.margin="0px",D.border=A+"px solid "+c.borderColor,D.padding="0px",D.background=c.background,D.opacity=c.opacity,D.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=i.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(D,A){D.position="relative",D.top="0px",D.left="0px",D.fontSize="0px",D.overflow="hidden",D.border=A+"px solid "+c.displayRegionColor,D.margin="0px",D.padding="0px",D.background="transparent",D.float="left",D.cssFloat="left",D.zIndex=999999999,D.cursor="default",D.boxSizing="content-box"}(this.displayRegion.style,this.borderWidth),i.setElementPointerEventsNone(this.displayRegion),i.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=i.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",i.setElementPointerEventsNone(this.displayRegionContainer),i.setElementTouchActionNone(this.displayRegionContainer),g.addControl(this.element,c.controlOptions),this._resizeWithViewer=c.controlOptions.anchor!==i.ControlAnchor.ABSOLUTE&&c.controlOptions.anchor!==i.ControlAnchor.NONE,c.width&&c.height?(this.setWidth(c.width),this.setHeight(c.height)):this._resizeWithViewer&&(y=i.getElementSize(g.element),this.element.style.height=Math.round(y.y*c.sizeRatio)+"px",this.element.style.width=Math.round(y.x*c.sizeRatio)+"px",this.oldViewerSize=y,w=i.getElementSize(this.element),this.elementArea=w.x*w.y),this.oldContainerSize=new i.Point(0,0),i.Viewer.apply(this,[c]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function _(D,A){d(v.displayRegionContainer,D),d(v.displayRegion,-D),v.viewport.setRotation(D,A)}if(c.navigatorRotate){var b=c.viewer.viewport?c.viewer.viewport.getRotation():c.viewer.degrees||0;_(b,!0),c.viewer.addHandler("rotate",function(D){_(D.degrees,D.immediately)})}this.innerTracker.destroy(),this.innerTracker=new i.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:i.delegate(this,s),clickHandler:i.delegate(this,a),releaseHandler:i.delegate(this,l),scrollHandler:i.delegate(this,u),preProcessEventHandler:function(D){D.eventType==="wheel"&&(D.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",i.setElementPointerEventsNone(this.canvas),i.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){v.viewport&&v.viewport.goHome(!0)}),g.world.addHandler("item-index-change",function(D){window.setTimeout(function(){var A=v.world.getItemAt(D.previousIndex);v.world.setItemIndex(A,D.newIndex)},1)}),g.world.addHandler("remove-item",function(D){var A=D.item,L=v._getMatchingItem(A);L&&v.world.removeItem(L)}),this.update(g.viewport)},i.extend(i.Navigator.prototype,i.EventSource.prototype,i.Viewer.prototype,{updateSize:function(){if(this.viewport){var c=new i.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);c.equals(this.oldContainerSize)||(this.viewport.resize(c,!0),this.viewport.goHome(!0),this.oldContainerSize=c,this.world.update(),this.world.draw(),this.update(this.viewer.viewport))}},setWidth:function(c){this.width=c,this.element.style.width=typeof c=="number"?c+"px":c,this._resizeWithViewer=!1,this.updateSize()},setHeight:function(c){this.height=c,this.element.style.height=typeof c=="number"?c+"px":c,this._resizeWithViewer=!1,this.updateSize()},setFlip:function(c){return this.viewport.setFlip(c),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(c){h(this.canvas,c),h(this.element,c)},update:function(c){var g,v,y,w,_,b;if(c||(c=this.viewer.viewport),g=i.getElementSize(this.viewer.element),this._resizeWithViewer&&g.x&&g.y&&!g.equals(this.oldViewerSize)&&(this.oldViewerSize=g,this.maintainSizeRatio||!this.elementArea?(v=g.x*this.sizeRatio,y=g.y*this.sizeRatio):(v=Math.sqrt(this.elementArea*(g.x/g.y)),y=this.elementArea/v),this.element.style.width=Math.round(v)+"px",this.element.style.height=Math.round(y)+"px",this.elementArea||(this.elementArea=v*y),this.updateSize()),c&&this.viewport){if(w=c.getBoundsNoRotate(!0),_=this.viewport.pixelFromPointNoRotate(w.getTopLeft(),!1),b=this.viewport.pixelFromPointNoRotate(w.getBottomRight(),!1).minus(this.totalBorderWidths),!this.navigatorRotate){var D=c.getRotation(!0);d(this.displayRegion,-D)}var A=this.displayRegion.style;A.display=this.world.getItemCount()?"block":"none",A.top=_.y.toFixed(2)+"px",A.left=_.x.toFixed(2)+"px";var L=b.x-_.x,j=b.y-_.y;A.width=Math.round(Math.max(L,0))+"px",A.height=Math.round(Math.max(j,0))+"px"}},addTiledImage:function(c){var g=this,v=c.originalTiledImage;delete c.original;var y=i.extend({},c,{success:function(w){var _=w.item;_._originalForNavigator=v,g._matchBounds(_,v,!0),g._matchOpacity(_,v),g._matchCompositeOperation(_,v);function b(){g._matchBounds(_,v)}function D(){g._matchOpacity(_,v)}function A(){g._matchCompositeOperation(_,v)}v.addHandler("bounds-change",b),v.addHandler("clip-change",b),v.addHandler("opacity-change",D),v.addHandler("composite-operation-change",A)}});return i.Viewer.prototype.addTiledImage.apply(this,[y])},destroy:function(){return i.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(c){for(var g=this.world.getItemCount(),v,y=0;y<g;y++)if(v=this.world.getItemAt(y),v._originalForNavigator===c)return v;return null},_matchBounds:function(c,g,v){var y=g.getBoundsNoRotate();c.setPosition(y.getTopLeft(),v),c.setWidth(y.width,v),c.setRotation(g.getRotation(),v),c.setClip(g.getClip()),c.setFlip(g.getFlip())},_matchOpacity:function(c,g){c.setOpacity(g.opacity)},_matchCompositeOperation:function(c,g){c.setCompositeOperation(g.compositeOperation)}});function a(c){var g={tracker:c.eventSource,position:c.position,quick:c.quick,shift:c.shift,originalEvent:c.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",g),!g.preventDefaultAction&&c.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(c.position.x=this.viewport.getContainerSize().x-c.position.x);var v=this.viewport.pointFromPixel(c.position);this.panVertical?this.panHorizontal||(v.x=this.viewer.viewport.getCenter(!0).x):v.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(v),this.viewer.viewport.applyConstraints()}}function s(c){var g={tracker:c.eventSource,position:c.position,delta:c.delta,speed:c.speed,direction:c.direction,shift:c.shift,originalEvent:c.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",g),!g.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(c.delta.x=0),this.panVertical||(c.delta.y=0),this.viewer.viewport.flipped&&(c.delta.x=-c.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(c.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function l(c){c.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function u(c){var g={tracker:c.eventSource,position:c.position,scroll:c.scroll,shift:c.shift,originalEvent:c.originalEvent,preventDefault:c.preventDefault};this.viewer.raiseEvent("navigator-scroll",g),c.preventDefault=g.preventDefault}function d(c,g){h(c,"rotate("+g+"deg)")}function h(c,g){c.style.webkitTransform=g,c.style.mozTransform=g,c.style.msTransform=g,c.style.oTransform=g,c.style.transform=g}}(p),function(i){var a={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};i.extend(i,{getString:function(s){var l=s.split("."),u=null,d=arguments,h=a,c;for(c=0;c<l.length-1;c++)h=h[l[c]]||{};return u=h[l[c]],typeof u!="string"&&(i.console.error("Untranslated source string:",s),u=""),u.replace(/\{\d+\}/g,function(g){var v=parseInt(g.match(/\d+/),10)+1;return v<d.length?d[v]:""})},setString:function(s,l){var u=s.split("."),d=a,h;for(h=0;h<u.length-1;h++)d[u[h]]||(d[u[h]]={}),d=d[u[h]];d[u[h]]=l}})}(p),function(i){i.Point=function(a,s){this.x=typeof a=="number"?a:0,this.y=typeof s=="number"?s:0},i.Point.prototype={clone:function(){return new i.Point(this.x,this.y)},plus:function(a){return new i.Point(this.x+a.x,this.y+a.y)},minus:function(a){return new i.Point(this.x-a.x,this.y-a.y)},times:function(a){return new i.Point(this.x*a,this.y*a)},divide:function(a){return new i.Point(this.x/a,this.y/a)},negate:function(){return new i.Point(-this.x,-this.y)},distanceTo:function(a){return Math.sqrt(Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2))},squaredDistanceTo:function(a){return Math.pow(this.x-a.x,2)+Math.pow(this.y-a.y,2)},apply:function(a){return new i.Point(a(this.x),a(this.y))},equals:function(a){return a instanceof i.Point&&this.x===a.x&&this.y===a.y},rotate:function(a,s){s=s||new i.Point(0,0);var l,u;if(a%90===0){var d=i.positiveModulo(a,360);switch(d){case 0:l=1,u=0;break;case 90:l=0,u=1;break;case 180:l=-1,u=0;break;case 270:l=0,u=-1;break}}else{var h=a*Math.PI/180;l=Math.cos(h),u=Math.sin(h)}var c=l*(this.x-s.x)-u*(this.y-s.y)+s.x,g=u*(this.x-s.x)+l*(this.y-s.y)+s.y;return new i.Point(c,g)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(p),function(i){i.TileSource=function(s,l,u,d,h,c){var g=this,v=arguments,y,w;if(i.isPlainObject(s)?y=s:y={width:v[0],height:v[1],tileSize:v[2],tileOverlap:v[3],minLevel:v[4],maxLevel:v[5]},i.EventSource.call(this),i.extend(!0,this,y),!this.success){for(w=0;w<arguments.length;w++)if(i.isFunction(arguments[w])){this.success=arguments[w];break}}this.success&&this.addHandler("ready",function(_){g.success(_)}),i.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new i.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=y.width&&y.height?y.width/y.height:1,this.dimensions=new i.Point(y.width,y.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=y.tileOverlap?y.tileOverlap:0,this.minLevel=y.minLevel?y.minLevel:0,this.maxLevel=y.maxLevel!==void 0&&y.maxLevel!==null?y.maxLevel:y.width&&y.height?Math.ceil(Math.log(Math.max(y.width,y.height))/Math.log(2)):0,this.success&&i.isFunction(this.success)&&this.success(this))},i.TileSource.prototype={getTileSize:function(s){return i.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(s){return this._tileWidth?this._tileWidth:this.getTileSize(s)},getTileHeight:function(s){return this._tileHeight?this._tileHeight:this.getTileSize(s)},setMaxLevel:function(s){this.maxLevel=s,this._memoizeLevelScale()},getLevelScale:function(s){return this._memoizeLevelScale(),this.getLevelScale(s)},_memoizeLevelScale:function(){var s={},l;for(l=0;l<=this.maxLevel;l++)s[l]=1/Math.pow(2,this.maxLevel-l);this.getLevelScale=function(u){return s[u]}},getNumTiles:function(s){var l=this.getLevelScale(s),u=Math.ceil(l*this.dimensions.x/this.getTileWidth(s)),d=Math.ceil(l*this.dimensions.y/this.getTileHeight(s));return new i.Point(u,d)},getPixelRatio:function(s){var l=this.dimensions.times(this.getLevelScale(s)),u=1/l.x*i.pixelDensityRatio,d=1/l.y*i.pixelDensityRatio;return new i.Point(u,d)},getClosestLevel:function(){var s,l;for(s=this.minLevel+1;s<=this.maxLevel&&(l=this.getNumTiles(s),!(l.x>1||l.y>1));s++);return s-1},getTileAtPoint:function(s,l){var u=l.x>=0&&l.x<=1&&l.y>=0&&l.y<=1/this.aspectRatio;i.console.assert(u,"[TileSource.getTileAtPoint] must be called with a valid point.");var d=this.dimensions.x*this.getLevelScale(s),h=l.x*d,c=l.y*d,g=Math.floor(h/this.getTileWidth(s)),v=Math.floor(c/this.getTileHeight(s));l.x>=1&&(g=this.getNumTiles(s).x-1);var y=1e-15;return l.y>=1/this.aspectRatio-y&&(v=this.getNumTiles(s).y-1),new i.Point(g,v)},getTileBounds:function(s,l,u,d){var h=this.dimensions.times(this.getLevelScale(s)),c=this.getTileWidth(s),g=this.getTileHeight(s),v=l===0?0:c*l-this.tileOverlap,y=u===0?0:g*u-this.tileOverlap,w=c+(l===0?1:2)*this.tileOverlap,_=g+(u===0?1:2)*this.tileOverlap,b=1/h.x;return w=Math.min(w,h.x-v),_=Math.min(_,h.y-y),d?new i.Rect(0,0,w,_):new i.Rect(v*b,y*b,w*b,_*b)},getImageInfo:function(s){var l=this,u,d,h,c,g,v,y;s&&(g=s.split("/"),v=g[g.length-1],y=v.lastIndexOf("."),y>-1&&(g[g.length-1]=v.slice(0,y)));var w=null;if(this.splitHashDataForPost){var _=s.indexOf("#");_!==-1&&(w=s.substring(_+1),s=s.substr(0,_))}d=function(b){typeof b=="string"&&(b=i.parseXml(b));var D=i.TileSource.determineType(l,b,s);if(!D){l.raiseEvent("open-failed",{message:"Unable to load TileSource",source:s});return}c=D.prototype.configure.apply(l,[b,s,w]),c.ajaxWithCredentials===void 0&&(c.ajaxWithCredentials=l.ajaxWithCredentials),h=new D(c),l.ready=!0,l.raiseEvent("ready",{tileSource:h})},s.match(/\.js$/)?(u=s.split("/").pop().replace(".js",""),i.jsonp({url:s,async:!1,callbackName:u,callback:d})):i.makeAjaxRequest({url:s,postData:w,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(b){var D=a(b);d(D)},error:function(b,D){var A;try{A="HTTP "+b.status+" attempting to load TileSource: "+s}catch{var L;typeof D>"u"||!D.toString?L="Unknown error":L=D.toString(),A=L+" attempting to load TileSource: "+s}i.console.error(A),l.raiseEvent("open-failed",{message:A,source:s,postData:w})}})},supports:function(s,l){return!1},configure:function(s,l,u){throw new Error("Method not implemented.")},getTileUrl:function(s,l,u){throw new Error("Method not implemented.")},getTilePostData:function(s,l,u){return null},getTileAjaxHeaders:function(s,l,u){return{}},getTileHashKey:function(s,l,u,d,h,c){function g(v){return h?v+"+"+JSON.stringify(h):v}return g(typeof d!="string"?s+"/"+l+"_"+u:d)},tileExists:function(s,l,u){var d=this.getNumTiles(s);return s>=this.minLevel&&s<=this.maxLevel&&l>=0&&u>=0&&l<d.x&&u<d.y},hasTransparency:function(s,l,u,d){return!!s||l.match(".png")},downloadTileStart:function(s){var l=s.userData,u=new Image;l.image=u,l.request=null;var d=function(h){if(!u){s.finish(null,l.request,"Image load failed: undefined Image instance.");return}u.onload=u.onerror=u.onabort=null,s.finish(h?null:u,l.request,h)};u.onload=function(){d()},u.onabort=u.onerror=function(){d("Image load aborted.")},s.loadWithAjax?l.request=i.makeAjaxRequest({url:s.src,withCredentials:s.ajaxWithCredentials,headers:s.ajaxHeaders,responseType:"arraybuffer",postData:s.postData,success:function(h){var c;try{c=new window.Blob([h.response])}catch(y){var g=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(y.name==="TypeError"&&g){var v=new g;v.append(h.response),c=v.getBlob()}}c.size===0?d("Empty image response."):u.src=(window.URL||window.webkitURL).createObjectURL(c)},error:function(h){d("Image load aborted - XHR error")}}):(s.crossOriginPolicy!==!1&&(u.crossOrigin=s.crossOriginPolicy),u.src=s.src)},downloadTileAbort:function(s){s.userData.request&&s.userData.request.abort();var l=s.userData.image;s.userData.image&&(l.onload=l.onerror=l.onabort=null)},createTileCache:function(s,l,u){s._data=l},destroyTileCache:function(s){s._data=null,s._renderedContext=null},getTileCacheData:function(s){return s._data},getTileCacheDataAsImage:function(s){return s._data},getTileCacheDataAsContext2D:function(s){if(!s._renderedContext){var l=document.createElement("canvas");l.width=s._data.width,l.height=s._data.height,s._renderedContext=l.getContext("2d"),s._renderedContext.drawImage(s._data,0,0),s._data=null}return s._renderedContext}},i.extend(!0,i.TileSource.prototype,i.EventSource.prototype);function a(s){var l=s.responseText,u=s.status,d,h;if(s){if(s.status!==200&&s.status!==0)throw u=s.status,d=u===404?"Not Found":s.statusText,new Error(i.getString("Errors.Status",u,d))}else throw new Error(i.getString("Errors.Security"));if(l.match(/^\s*<.*/))try{h=s.responseXML&&s.responseXML.documentElement?s.responseXML:i.parseXml(l)}catch{h=s.responseText}else if(l.match(/\s*[{[].*/))try{h=i.parseJSON(l)}catch{h=l}else h=l;return h}i.TileSource.determineType=function(s,l,u){var d;for(d in p)if(d.match(/.+TileSource$/)&&i.isFunction(p[d])&&i.isFunction(p[d].prototype.supports)&&p[d].prototype.supports.call(s,l,u))return p[d];return i.console.error("No TileSource was able to open %s %s",u,l),null}}(p),function(i){i.DziTileSource=function(l,u,d,h,c,g,v,y,w){var _,b,D,A;if(i.isPlainObject(l)?A=l:A={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=A.tilesUrl,this.fileFormat=A.fileFormat,this.displayRects=A.displayRects,this.displayRects)for(_=this.displayRects.length-1;_>=0;_--)for(b=this.displayRects[_],D=b.minLevel;D<=b.maxLevel;D++)this._levelRects[D]||(this._levelRects[D]=[]),this._levelRects[D].push(b);i.TileSource.apply(this,[A])},i.extend(i.DziTileSource.prototype,i.TileSource.prototype,{supports:function(l,u){var d;return l.Image?d=l.Image.xmlns:l.documentElement&&(l.documentElement.localName==="Image"||l.documentElement.tagName==="Image")&&(d=l.documentElement.namespaceURI),d=(d||"").toLowerCase(),d.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||d.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(l,u,d){var h;return i.isPlainObject(l)?h=s(this,l):h=a(this,l),u&&!h.tilesUrl&&(h.tilesUrl=u.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),u.search(/\.(dzi|xml|js)\?/)!==-1?h.queryParams=u.match(/\?.*/):h.queryParams=""),h},getTileUrl:function(l,u,d){return[this.tilesUrl,l,"/",u,"_",d,".",this.fileFormat,this.queryParams].join("")},tileExists:function(l,u,d){var h=this._levelRects[l],c,g,v,y,w,_,b;if(this.minLevel&&l<this.minLevel||this.maxLevel&&l>this.maxLevel)return!1;if(!h||!h.length)return!0;for(b=h.length-1;b>=0;b--)if(c=h[b],!(l<c.minLevel||l>c.maxLevel)&&(g=this.getLevelScale(l),v=c.x*g,y=c.y*g,w=v+c.width*g,_=y+c.height*g,v=Math.floor(v/this._tileWidth),y=Math.floor(y/this._tileWidth),w=Math.ceil(w/this._tileWidth),_=Math.ceil(_/this._tileWidth),v<=u&&u<w&&y<=d&&d<_))return!0;return!1}});function a(l,u){if(!u||!u.documentElement)throw new Error(i.getString("Errors.Xml"));var d=u.documentElement,h=d.localName||d.tagName,c=u.documentElement.namespaceURI,g=null,v=[],y,w,_,b,D;if(h==="Image")try{if(b=d.getElementsByTagName("Size")[0],b===void 0&&(b=d.getElementsByTagNameNS(c,"Size")[0]),g={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:d.getAttribute("Url"),Format:d.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(d.getAttribute("Overlap"),10),TileSize:parseInt(d.getAttribute("TileSize"),10),Size:{Height:parseInt(b.getAttribute("Height"),10),Width:parseInt(b.getAttribute("Width"),10)}}},!i.imageFormatSupported(g.Image.Format))throw new Error(i.getString("Errors.ImageFormat",g.Image.Format.toUpperCase()));for(y=d.getElementsByTagName("DisplayRect"),y===void 0&&(y=d.getElementsByTagNameNS(c,"DisplayRect")[0]),D=0;D<y.length;D++)w=y[D],_=w.getElementsByTagName("Rect")[0],_===void 0&&(_=w.getElementsByTagNameNS(c,"Rect")[0]),v.push({Rect:{X:parseInt(_.getAttribute("X"),10),Y:parseInt(_.getAttribute("Y"),10),Width:parseInt(_.getAttribute("Width"),10),Height:parseInt(_.getAttribute("Height"),10),MinLevel:parseInt(w.getAttribute("MinLevel"),10),MaxLevel:parseInt(w.getAttribute("MaxLevel"),10)}});return v.length&&(g.Image.DisplayRect=v),s(l,g)}catch(j){throw j instanceof Error?j:new Error(i.getString("Errors.Dzi"))}else{if(h==="Collection")throw new Error(i.getString("Errors.Dzc"));if(h==="Error"){var A=d.getElementsByTagName("Message")[0],L=A.firstChild.nodeValue;throw new Error(L)}}throw new Error(i.getString("Errors.Dzi"))}function s(l,u){var d=u.Image,h=d.Url,c=d.Format,g=d.Size,v=d.DisplayRect||[],y=parseInt(g.Width,10),w=parseInt(g.Height,10),_=parseInt(d.TileSize,10),b=parseInt(d.Overlap,10),D=[],A,L;for(L=0;L<v.length;L++)A=v[L].Rect,D.push(new i.DisplayRect(parseInt(A.X,10),parseInt(A.Y,10),parseInt(A.Width,10),parseInt(A.Height,10),parseInt(A.MinLevel,10),parseInt(A.MaxLevel,10)));return i.extend(!0,{width:y,height:w,tileSize:_,tileOverlap:b,minLevel:null,maxLevel:null,tilesUrl:h,fileFormat:c,displayRects:D},u)}}(p),function(i){i.IIIFTileSource=function(d){if(i.extend(!0,this,d),this._id=this["@id"]||this.id||this.identifier||null,!(this.height&&this.width&&this._id))throw new Error("IIIF required parameters (width, height, or id) not provided.");if(d.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=d.version,this.tile_width&&this.tile_height)d.tileWidth=this.tile_width,d.tileHeight=this.tile_height;else if(this.tile_width)d.tileSize=this.tile_width;else if(this.tile_height)d.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)d.tileWidth=this.tiles[0].width,d.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var h=0;h<this.tiles.length;h++)for(var c=0;c<this.tiles[h].scaleFactors.length;c++){var g=this.tiles[h].scaleFactors[c];this.scale_factors.push(g),d.tileSizePerScaleFactor[g]={width:this.tiles[h].width,height:this.tiles[h].height||this.tiles[h].width}}}else if(a(d)){for(var v=Math.min(this.height,this.width),y=[256,512,1024],w=[],_=0;_<y.length;_++)y[_]<=v&&w.push(y[_]);w.length>0?d.tileSize=Math.max.apply(null,w):d.tileSize=v}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,d.levels=s(this),i.extend(!0,d,{width:d.levels[d.levels.length-1].width,height:d.levels[d.levels.length-1].height,tileSize:Math.max(d.height,d.width),tileOverlap:0,minLevel:0,maxLevel:d.levels.length-1}),this.levels=d.levels):i.console.error("Nothing in the info.json to construct image pyramids from");if(!d.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)d.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)));else{var b=Math.max.apply(null,this.scale_factors);d.maxLevel=Math.round(Math.log(b)*Math.LOG2E)}if(this.sizes){var D=this.sizes.length;(D===d.maxLevel||D===d.maxLevel+1)&&(this.levelSizes=this.sizes.slice().sort((A,L)=>A.width-L.width),D===d.maxLevel&&this.levelSizes.push({width:this.width,height:this.height}))}i.TileSource.apply(this,[d])},i.extend(i.IIIFTileSource.prototype,i.TileSource.prototype,{supports:function(d,h){return d.protocol&&d.protocol==="http://iiif.io/api/image"||d["@context"]&&(d["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||d["@context"]==="http://iiif.io/api/image/1/context.json")||d.profile&&d.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||d.identifier&&d.width&&d.height?!0:!!(d.documentElement&&d.documentElement.tagName==="info"&&d.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(d,h,c){if(i.isPlainObject(d)){if(!d["@context"])d["@context"]="http://iiif.io/api/image/1.0/context.json",d["@id"]=h.replace("/info.json",""),d.version=1;else{var v=d["@context"];if(Array.isArray(v)){for(var y=0;y<v.length;y++)if(typeof v[y]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(v[y])||v[y]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){v=v[y];break}}switch(v){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":d.version=1;break;case"http://iiif.io/api/image/2/context.json":d.version=2;break;case"http://iiif.io/api/image/3/context.json":d.version=3;break;default:i.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(d.preferredFormats){for(var w=0;w<d.preferredFormats.length;w++)if(p.imageFormatSupported(d.preferredFormats[w])){d.tileFormat=d.preferredFormats[w];break}}return d}else{var g=l(d);return g["@context"]="http://iiif.io/api/image/1.0/context.json",g["@id"]=h.replace("/info.xml",""),g.version=1,g}},getTileWidth:function(d){if(this.emulateLegacyImagePyramid)return i.TileSource.prototype.getTileWidth.call(this,d);var h=Math.pow(2,this.maxLevel-d);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[h]?this.tileSizePerScaleFactor[h].width:this._tileWidth},getTileHeight:function(d){if(this.emulateLegacyImagePyramid)return i.TileSource.prototype.getTileHeight.call(this,d);var h=Math.pow(2,this.maxLevel-d);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[h]?this.tileSizePerScaleFactor[h].height:this._tileHeight},getLevelScale:function(d){if(this.emulateLegacyImagePyramid){var h=NaN;return this.levels.length>0&&d>=this.minLevel&&d<=this.maxLevel&&(h=this.levels[d].width/this.levels[this.maxLevel].width),h}return i.TileSource.prototype.getLevelScale.call(this,d)},getNumTiles:function(d){if(this.emulateLegacyImagePyramid){var h=this.getLevelScale(d);return h?new i.Point(1,1):new i.Point(0,0)}if(this.levelSizes){var c=this.levelSizes[d],g=Math.ceil(c.width/this.getTileWidth(d)),v=Math.ceil(c.height/this.getTileHeight(d));return new i.Point(g,v)}else return i.TileSource.prototype.getNumTiles.call(this,d)},getTileAtPoint:function(d,h){if(this.emulateLegacyImagePyramid)return new i.Point(0,0);if(this.levelSizes){var c=h.x>=0&&h.x<=1&&h.y>=0&&h.y<=1/this.aspectRatio;i.console.assert(c,"[TileSource.getTileAtPoint] must be called with a valid point.");var g=this.levelSizes[d].width,v=h.x*g,y=h.y*g,w=Math.floor(v/this.getTileWidth(d)),_=Math.floor(y/this.getTileHeight(d));h.x>=1&&(w=this.getNumTiles(d).x-1);var b=1e-15;return h.y>=1/this.aspectRatio-b&&(_=this.getNumTiles(d).y-1),new i.Point(w,_)}return i.TileSource.prototype.getTileAtPoint.call(this,d,h)},getTileUrl:function(d,h,c){if(this.emulateLegacyImagePyramid){var g=null;return this.levels.length>0&&d>=this.minLevel&&d<=this.maxLevel&&(g=this.levels[d].url),g}var v="0",y=Math.pow(.5,this.maxLevel-d),w,_,b,D,A,L,j,ae,I,N,he,pe,fe,ke,Be,Te;return this.levelSizes?(w=this.levelSizes[d].width,_=this.levelSizes[d].height):(w=Math.ceil(this.width*y),_=Math.ceil(this.height*y)),b=this.getTileWidth(d),D=this.getTileHeight(d),A=Math.round(b/y),L=Math.round(D/y),this.version===1?Be="native."+this.tileFormat:Be="default."+this.tileFormat,w<b&&_<D?(this.version===2&&w===this.width?pe="full":this.version===3&&w===this.width&&_===this.height?pe="max":this.version===3?pe=w+","+_:pe=w+",",j="full"):(ae=h*A,I=c*L,N=Math.min(A,this.width-ae),he=Math.min(L,this.height-I),h===0&&c===0&&N===this.width&&he===this.height?j="full":j=[ae,I,N,he].join(","),fe=Math.min(b,w-h*b),ke=Math.min(D,_-c*D),this.version===2&&fe===this.width?pe="full":this.version===3&&fe===this.width&&ke===this.height?pe="max":this.version===3?pe=fe+","+ke:pe=fe+","),Te=[this._id,j,pe,v,Be].join("/"),Te},__testonly__:{canBeTiled:a,constructLevels:s}});function a(d){var h=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],c=Array.isArray(d.profile)?d.profile[0]:d.profile,g=h.indexOf(c)!==-1,v=!1;return d.version===2&&d.profile.length>1&&d.profile[1].supports&&(v=d.profile[1].supports.indexOf("sizeByW")!==-1),d.version===3&&d.extraFeatures&&(v=d.extraFeatures.indexOf("sizeByWh")!==-1),!g||v}function s(d){for(var h=[],c=0;c<d.sizes.length;c++)h.push({url:d._id+"/full/"+d.sizes[c].width+","+(d.version===3?d.sizes[c].height:"")+"/0/default."+d.tileFormat,width:d.sizes[c].width,height:d.sizes[c].height});return h.sort(function(g,v){return g.width-v.width})}function l(d){if(!d||!d.documentElement)throw new Error(i.getString("Errors.Xml"));var h=d.documentElement,c=h.tagName,g=null;if(c==="info")try{return g={},u(h,g),g}catch(v){throw v instanceof Error?v:new Error(i.getString("Errors.IIIF"))}throw new Error(i.getString("Errors.IIIF"))}function u(d,h,c){var g,v;if(d.nodeType===3&&c)v=d.nodeValue.trim(),v.match(/^\d*$/)&&(v=Number(v)),h[c]?(i.isArray(h[c])||(h[c]=[h[c]]),h[c].push(v)):h[c]=v;else if(d.nodeType===1)for(g=0;g<d.childNodes.length;g++)u(d.childNodes[g],h,d.nodeName)}}(p),function(i){i.OsmTileSource=function(a,s,l,u,d){var h;i.isPlainObject(a)?h=a:h={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!h.width||!h.height)&&(h.width=65572864,h.height=65572864),h.tileSize||(h.tileSize=256,h.tileOverlap=0),h.tilesUrl||(h.tilesUrl="http://tile.openstreetmap.org/"),h.minLevel=8,i.TileSource.apply(this,[h])},i.extend(i.OsmTileSource.prototype,i.TileSource.prototype,{supports:function(a,s){return a.type&&a.type==="openstreetmaps"},configure:function(a,s,l){return a},getTileUrl:function(a,s,l){return this.tilesUrl+(a-8)+"/"+s+"/"+l+".png"}})}(p),function(i){i.TmsTileSource=function(a,s,l,u,d){var h;i.isPlainObject(a)?h=a:h={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var c=Math.ceil(h.width/256)*256,g=Math.ceil(h.height/256)*256,v;c>g?v=c/256:v=g/256,h.maxLevel=Math.ceil(Math.log(v)/Math.log(2))-1,h.tileSize=256,h.width=c,h.height=g,i.TileSource.apply(this,[h])},i.extend(i.TmsTileSource.prototype,i.TileSource.prototype,{supports:function(a,s){return a.type&&a.type==="tiledmapservice"},configure:function(a,s,l){return a},getTileUrl:function(a,s,l){var u=this.getNumTiles(a).y-1;return this.tilesUrl+a+"/"+s+"/"+(u-l)+".png"}})}(p),function(i){i.ZoomifyTileSource=function(a){typeof a.tileSize>"u"&&(a.tileSize=256),typeof a.fileFormat>"u"&&(a.fileFormat="jpg",this.fileFormat=a.fileFormat);var s={x:a.width,y:a.height};for(a.imageSizes=[{x:a.width,y:a.height}],a.gridSize=[this._getGridSize(a.width,a.height,a.tileSize)];parseInt(s.x,10)>a.tileSize||parseInt(s.y,10)>a.tileSize;)s.x=Math.floor(s.x/2),s.y=Math.floor(s.y/2),a.imageSizes.push({x:s.x,y:s.y}),a.gridSize.push(this._getGridSize(s.x,s.y,a.tileSize));a.imageSizes.reverse(),a.gridSize.reverse(),a.minLevel=0,a.maxLevel=a.gridSize.length-1,p.TileSource.apply(this,[a])},i.extend(i.ZoomifyTileSource.prototype,i.TileSource.prototype,{_getGridSize:function(a,s,l){return{x:Math.ceil(a/l),y:Math.ceil(s/l)}},_calculateAbsoluteTileNumber:function(a,s,l){for(var u=0,d={},h=0;h<a;h++)d=this.gridSize[h],u+=d.x*d.y;return d=this.gridSize[a],u+=d.x*l+s,u},supports:function(a,s){return a.type&&a.type==="zoomifytileservice"},configure:function(a,s,l){return a},getTileUrl:function(a,s,l){var u=0,d=this._calculateAbsoluteTileNumber(a,s,l);return u=Math.floor(d/256),this.tilesUrl+"TileGroup"+u+"/"+a+"-"+s+"-"+l+"."+this.fileFormat}})}(p),function(i){i.LegacyTileSource=function(u){var d,h,c;i.isArray(u)&&(d={type:"legacy-image-pyramid",levels:u}),d.levels=a(d.levels),d.levels.length>0?(h=d.levels[d.levels.length-1].width,c=d.levels[d.levels.length-1].height):(h=0,c=0,i.console.error("No supported image formats found")),i.extend(!0,d,{width:h,height:c,tileSize:Math.max(c,h),tileOverlap:0,minLevel:0,maxLevel:d.levels.length>0?d.levels.length-1:0}),i.TileSource.apply(this,[d]),this.levels=d.levels},i.extend(i.LegacyTileSource.prototype,i.TileSource.prototype,{supports:function(u,d){return u.type&&u.type==="legacy-image-pyramid"||u.documentElement&&u.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(u,d,h){var c;return i.isPlainObject(u)?c=l(this,u):c=s(this,u),c},getLevelScale:function(u){var d=NaN;return this.levels.length>0&&u>=this.minLevel&&u<=this.maxLevel&&(d=this.levels[u].width/this.levels[this.maxLevel].width),d},getNumTiles:function(u){var d=this.getLevelScale(u);return d?new i.Point(1,1):new i.Point(0,0)},getTileUrl:function(u,d,h){var c=null;return this.levels.length>0&&u>=this.minLevel&&u<=this.maxLevel&&(c=this.levels[u].url),c}});function a(u){var d=[],h,c;for(c=0;c<u.length;c++)h=u[c],h.height&&h.width&&h.url?d.push({url:h.url,width:Number(h.width),height:Number(h.height)}):i.console.error("Unsupported image format: %s",h.url?h.url:"<no URL>");return d.sort(function(g,v){return g.height-v.height})}function s(u,d){if(!d||!d.documentElement)throw new Error(i.getString("Errors.Xml"));var h=d.documentElement,c=h.tagName,g=null,v=[],y,w;if(c==="image")try{for(g={type:h.getAttribute("type"),levels:[]},v=h.getElementsByTagName("level"),w=0;w<v.length;w++)y=v[w],g.levels.push({url:y.getAttribute("url"),width:parseInt(y.getAttribute("width"),10),height:parseInt(y.getAttribute("height"),10)});return l(u,g)}catch(_){throw _ instanceof Error?_:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(c==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(c==="error")throw new Error("Error: "+d)}throw new Error("Unknown element "+c)}function l(u,d){return d.levels}}(p),function(i){i.ImageTileSource=function(a){a=i.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1},a),i.TileSource.apply(this,[a])},i.extend(i.ImageTileSource.prototype,i.TileSource.prototype,{supports:function(a,s){return a.type&&a.type==="image"},configure:function(a,s,l){return a},getImageInfo:function(a){var s=this._image=new Image,l=this;this.crossOriginPolicy&&(s.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(s.useCredentials=this.ajaxWithCredentials),i.addEvent(s,"load",function(){l.width=s.naturalWidth,l.height=s.naturalHeight,l.aspectRatio=l.width/l.height,l.dimensions=new i.Point(l.width,l.height),l._tileWidth=l.width,l._tileHeight=l.height,l.tileOverlap=0,l.minLevel=0,l.levels=l._buildLevels(),l.maxLevel=l.levels.length-1,l.ready=!0,l.raiseEvent("ready",{tileSource:l})}),i.addEvent(s,"error",function(){l.raiseEvent("open-failed",{message:"Error loading image at "+a,source:a})}),s.src=a},getLevelScale:function(a){var s=NaN;return a>=this.minLevel&&a<=this.maxLevel&&(s=this.levels[a].width/this.levels[this.maxLevel].width),s},getNumTiles:function(a){var s=this.getLevelScale(a);return s?new i.Point(1,1):new i.Point(0,0)},getTileUrl:function(a,s,l){var u=null;return a>=this.minLevel&&a<=this.maxLevel&&(u=this.levels[a].url),u},getContext2D:function(a,s,l){var u=null;return a>=this.minLevel&&a<=this.maxLevel&&(u=this.levels[a].context2D),u},destroy:function(a){this._freeupCanvasMemory(a)},_buildLevels:function(){var a=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!i.supportsCanvas)return delete this._image,a;var s=this._image.naturalWidth,l=this._image.naturalHeight,u=document.createElement("canvas"),d=u.getContext("2d");if(u.width=s,u.height=l,d.drawImage(this._image,0,0,s,l),a[0].context2D=d,delete this._image,i.isCanvasTainted(u))return a;for(;s>=2&&l>=2;){s=Math.floor(s/2),l=Math.floor(l/2);var h=document.createElement("canvas"),c=h.getContext("2d");h.width=s,h.height=l,c.drawImage(u,0,0,s,l),a.splice(0,0,{context2D:c,width:s,height:l}),u=h,d=c}return a},_freeupCanvasMemory:function(a){for(var s=0;s<this.levels.length;s++)this.levels[s].context2D&&(this.levels[s].context2D.canvas.height=0,this.levels[s].context2D.canvas.width=0,a&&a.raiseEvent("image-unloaded",{context2D:this.levels[s].context2D}))}})}(p),function(i){i.TileSourceCollection=function(a,s,l,u){i.console.error("TileSourceCollection is deprecated; use World instead")}}(p),function(i){i.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},i.Button=function(c){var g=this;i.EventSource.call(this),i.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:i.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:i.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},c),this.element=c.element||i.makeNeutralElement("div"),c.element||(this.imgRest=i.makeTransparentImage(this.srcRest),this.imgGroup=i.makeTransparentImage(this.srcGroup),this.imgHover=i.makeTransparentImage(this.srcHover),this.imgDown=i.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,i.setElementPointerEventsNone(this.imgRest),i.setElementPointerEventsNone(this.imgGroup),i.setElementPointerEventsNone(this.imgHover),i.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",i.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=i.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new i.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(v){v.insideElementPressed?(d(g,i.ButtonState.DOWN),g.raiseEvent("enter",{originalEvent:v.originalEvent})):v.buttonDownAny||d(g,i.ButtonState.HOVER)},focusHandler:function(v){g.tracker.enterHandler(v),g.raiseEvent("focus",{originalEvent:v.originalEvent})},leaveHandler:function(v){h(g,i.ButtonState.GROUP),v.insideElementPressed&&g.raiseEvent("exit",{originalEvent:v.originalEvent})},blurHandler:function(v){g.tracker.leaveHandler(v),g.raiseEvent("blur",{originalEvent:v.originalEvent})},pressHandler:function(v){d(g,i.ButtonState.DOWN),g.raiseEvent("press",{originalEvent:v.originalEvent})},releaseHandler:function(v){v.insideElementPressed&&v.insideElementReleased?(h(g,i.ButtonState.HOVER),g.raiseEvent("release",{originalEvent:v.originalEvent})):v.insideElementPressed?h(g,i.ButtonState.GROUP):d(g,i.ButtonState.HOVER)},clickHandler:function(v){v.quick&&g.raiseEvent("click",{originalEvent:v.originalEvent})},keyHandler:function(v){v.keyCode===13?(g.raiseEvent("click",{originalEvent:v.originalEvent}),g.raiseEvent("release",{originalEvent:v.originalEvent}),v.preventDefault=!0):v.preventDefault=!1}}),h(this,i.ButtonState.REST)},i.extend(i.Button.prototype,i.EventSource.prototype,{notifyGroupEnter:function(){d(this,i.ButtonState.GROUP)},notifyGroupExit:function(){h(this,i.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),i.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),i.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function a(c){i.requestAnimationFrame(function(){s(c)})}function s(c){var g,v,y;c.shouldFade&&(g=i.now(),v=g-c.fadeBeginTime,y=1-v/c.fadeLength,y=Math.min(1,y),y=Math.max(0,y),c.imgGroup&&i.setElementOpacity(c.imgGroup,y,!0),y>0&&a(c))}function l(c){c.shouldFade=!0,c.fadeBeginTime=i.now()+c.fadeDelay,window.setTimeout(function(){a(c)},c.fadeDelay)}function u(c){c.shouldFade=!1,c.imgGroup&&i.setElementOpacity(c.imgGroup,1,!0)}function d(c,g){c.element.disabled||(g>=i.ButtonState.GROUP&&c.currentState===i.ButtonState.REST&&(u(c),c.currentState=i.ButtonState.GROUP),g>=i.ButtonState.HOVER&&c.currentState===i.ButtonState.GROUP&&(c.imgHover&&(c.imgHover.style.visibility=""),c.currentState=i.ButtonState.HOVER),g>=i.ButtonState.DOWN&&c.currentState===i.ButtonState.HOVER&&(c.imgDown&&(c.imgDown.style.visibility=""),c.currentState=i.ButtonState.DOWN))}function h(c,g){c.element.disabled||(g<=i.ButtonState.HOVER&&c.currentState===i.ButtonState.DOWN&&(c.imgDown&&(c.imgDown.style.visibility="hidden"),c.currentState=i.ButtonState.HOVER),g<=i.ButtonState.GROUP&&c.currentState===i.ButtonState.HOVER&&(c.imgHover&&(c.imgHover.style.visibility="hidden"),c.currentState=i.ButtonState.GROUP),g<=i.ButtonState.REST&&c.currentState===i.ButtonState.GROUP&&(l(c),c.currentState=i.ButtonState.REST))}}(p),function(i){i.ButtonGroup=function(a){i.extend(!0,this,{buttons:[],clickTimeThreshold:i.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:i.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},a);var s=this.buttons.concat([]),l=this,u;if(this.element=a.element||i.makeNeutralElement("div"),!a.group)for(this.element.style.display="inline-block",u=0;u<s.length;u++)this.element.appendChild(s[u].element);i.setElementTouchActionNone(this.element),this.tracker=new i.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(d){var h;for(h=0;h<l.buttons.length;h++)l.buttons[h].notifyGroupEnter()},leaveHandler:function(d){var h;if(!d.insideElementPressed)for(h=0;h<l.buttons.length;h++)l.buttons[h].notifyGroupExit()}})},i.ButtonGroup.prototype={addButton:function(a){this.buttons.push(a),this.element.appendChild(a.element)},emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var a=this.buttons.pop();this.element.removeChild(a.element),a.destroy()}this.tracker.destroy(),this.element=null}}}(p),function(i){i.Rect=function(a,s,l,u,d){this.x=typeof a=="number"?a:0,this.y=typeof s=="number"?s:0,this.width=typeof l=="number"?l:0,this.height=typeof u=="number"?u:0,this.degrees=typeof d=="number"?d:0,this.degrees=i.positiveModulo(this.degrees,360);var h,c;this.degrees>=270?(h=this.getTopRight(),this.x=h.x,this.y=h.y,c=this.height,this.height=this.width,this.width=c,this.degrees-=270):this.degrees>=180?(h=this.getBottomRight(),this.x=h.x,this.y=h.y,this.degrees-=180):this.degrees>=90&&(h=this.getBottomLeft(),this.x=h.x,this.y=h.y,c=this.height,this.height=this.width,this.width=c,this.degrees-=90)},i.Rect.fromSummits=function(a,s,l){var u=a.distanceTo(s),d=a.distanceTo(l),h=s.minus(a),c=Math.atan(h.y/h.x);return h.x<0?c+=Math.PI:h.y<0&&(c+=2*Math.PI),new i.Rect(a.x,a.y,u,d,c/Math.PI*180)},i.Rect.prototype={clone:function(){return new i.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new i.Point(this.x,this.y)},getBottomRight:function(){return new i.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new i.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new i.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new i.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new i.Point(this.width,this.height)},equals:function(a){return a instanceof i.Rect&&this.x===a.x&&this.y===a.y&&this.width===a.width&&this.height===a.height&&this.degrees===a.degrees},times:function(a){return new i.Rect(this.x*a,this.y*a,this.width*a,this.height*a,this.degrees)},translate:function(a){return new i.Rect(this.x+a.x,this.y+a.y,this.width,this.height,this.degrees)},union:function(a){var s=this.getBoundingBox(),l=a.getBoundingBox(),u=Math.min(s.x,l.x),d=Math.min(s.y,l.y),h=Math.max(s.x+s.width,l.x+l.width),c=Math.max(s.y+s.height,l.y+l.height);return new i.Rect(u,d,h-u,c-d)},intersection:function(a){var s=1e-10,l=[],u=this.getTopLeft();a.containsPoint(u,s)&&l.push(u);var d=this.getTopRight();a.containsPoint(d,s)&&l.push(d);var h=this.getBottomLeft();a.containsPoint(h,s)&&l.push(h);var c=this.getBottomRight();a.containsPoint(c,s)&&l.push(c);var g=a.getTopLeft();this.containsPoint(g,s)&&l.push(g);var v=a.getTopRight();this.containsPoint(v,s)&&l.push(v);var y=a.getBottomLeft();this.containsPoint(y,s)&&l.push(y);var w=a.getBottomRight();this.containsPoint(w,s)&&l.push(w);for(var _=this._getSegments(),b=a._getSegments(),D=0;D<_.length;D++)for(var A=_[D],L=0;L<b.length;L++){var j=b[L],ae=I(A[0],A[1],j[0],j[1]);ae&&l.push(ae)}function I(Te,be,Fe,Ne){var k=be.minus(Te),oe=Ne.minus(Fe),de=-oe.x*k.y+k.x*oe.y;if(de===0)return null;var Me=(k.x*(Te.y-Fe.y)-k.y*(Te.x-Fe.x))/de,z=(oe.x*(Te.y-Fe.y)-oe.y*(Te.x-Fe.x))/de;return-1e-10<=Me&&Me<=1-s&&-1e-10<=z&&z<=1-s?new i.Point(Te.x+z*k.x,Te.y+z*k.y):null}if(l.length===0)return null;for(var N=l[0].x,he=l[0].x,pe=l[0].y,fe=l[0].y,ke=1;ke<l.length;ke++){var Be=l[ke];Be.x<N&&(N=Be.x),Be.x>he&&(he=Be.x),Be.y<pe&&(pe=Be.y),Be.y>fe&&(fe=Be.y)}return new i.Rect(N,pe,he-N,fe-pe)},_getSegments:function(){var a=this.getTopLeft(),s=this.getTopRight(),l=this.getBottomLeft(),u=this.getBottomRight();return[[a,s],[s,u],[u,l],[l,a]]},rotate:function(a,s){if(a=i.positiveModulo(a,360),a===0)return this.clone();s=s||this.getCenter();var l=this.getTopLeft().rotate(a,s),u=this.getTopRight().rotate(a,s),d=u.minus(l);d=d.apply(function(c){var g=1e-15;return Math.abs(c)<g?0:c});var h=Math.atan(d.y/d.x);return d.x<0?h+=Math.PI:d.y<0&&(h+=2*Math.PI),new i.Rect(l.x,l.y,this.width,this.height,h/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var a=this.getTopLeft(),s=this.getTopRight(),l=this.getBottomLeft(),u=this.getBottomRight(),d=Math.min(a.x,s.x,l.x,u.x),h=Math.max(a.x,s.x,l.x,u.x),c=Math.min(a.y,s.y,l.y,u.y),g=Math.max(a.y,s.y,l.y,u.y);return new i.Rect(d,c,h-d,g-c)},getIntegerBoundingBox:function(){var a=this.getBoundingBox(),s=Math.floor(a.x),l=Math.floor(a.y),u=Math.ceil(a.width+a.x-s),d=Math.ceil(a.height+a.y-l);return new i.Rect(s,l,u,d)},containsPoint:function(a,s){s=s||0;var l=this.getTopLeft(),u=this.getTopRight(),d=this.getBottomLeft(),h=u.minus(l),c=d.minus(l);return(a.x-l.x)*h.x+(a.y-l.y)*h.y>=-s&&(a.x-u.x)*h.x+(a.y-u.y)*h.y<=s&&(a.x-l.x)*c.x+(a.y-l.y)*c.y>=-s&&(a.x-d.x)*c.x+(a.y-d.y)*c.y<=s},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(p),function(i){var a={};i.ReferenceStrip=function(y){var w=this,_=y.viewer,b=i.getElementSize(_.element),D,A,L;for(y.id||(y.id="referencestrip-"+i.now(),this.element=i.makeNeutralElement("div"),this.element.id=y.id,this.element.className="referencestrip"),y=i.extend(!0,{sizeRatio:i.DEFAULT_SETTINGS.referenceStripSizeRatio,position:i.DEFAULT_SETTINGS.referenceStripPosition,scroll:i.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:i.DEFAULT_SETTINGS.clickTimeThreshold},y,{element:this.element}),i.extend(this,y),a[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,A=this.element.style,A.marginTop="0px",A.marginRight="0px",A.marginBottom="0px",A.marginLeft="0px",A.left="0px",A.bottom="0px",A.border="0px",A.background="#000",A.position="relative",i.setElementTouchActionNone(this.element),i.setElementOpacity(this.element,.8),this.viewer=_,this.tracker=new i.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:i.delegate(this,s),dragHandler:i.delegate(this,l),scrollHandler:i.delegate(this,u),enterHandler:i.delegate(this,h),leaveHandler:i.delegate(this,c),keyDownHandler:i.delegate(this,g),keyHandler:i.delegate(this,v),preProcessEventHandler:function(j){j.eventType==="wheel"&&(j.preventDefault=!0)}}),y.width&&y.height?(this.element.style.width=y.width+"px",this.element.style.height=y.height+"px",_.addControl(this.element,{anchor:i.ControlAnchor.BOTTOM_LEFT})):y.scroll==="horizontal"?(this.element.style.width=b.x*y.sizeRatio*_.tileSources.length+12*_.tileSources.length+"px",this.element.style.height=b.y*y.sizeRatio+"px",_.addControl(this.element,{anchor:i.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=b.y*y.sizeRatio*_.tileSources.length+12*_.tileSources.length+"px",this.element.style.width=b.x*y.sizeRatio+"px",_.addControl(this.element,{anchor:i.ControlAnchor.TOP_LEFT})),this.panelWidth=b.x*this.sizeRatio+8,this.panelHeight=b.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},L=0;L<_.tileSources.length;L++)D=i.makeNeutralElement("div"),D.id=this.element.id+"-"+L,D.style.width=w.panelWidth+"px",D.style.height=w.panelHeight+"px",D.style.display="inline",D.style.float="left",D.style.cssFloat="left",D.style.padding="2px",i.setElementTouchActionNone(D),i.setElementPointerEventsNone(D),this.element.appendChild(D),D.activePanel=!1,this.panels.push(D);d(this,this.scroll==="vertical"?b.y:b.x,0),this.setFocus(0)},i.ReferenceStrip.prototype={setFocus:function(y){var w=this.element.querySelector("#"+this.element.id+"-"+y),_=i.getElementSize(this.viewer.canvas),b=Number(this.element.style.width.replace("px","")),D=Number(this.element.style.height.replace("px","")),A=-Number(this.element.style.marginLeft.replace("px","")),L=-Number(this.element.style.marginTop.replace("px","")),j;this.currentSelected!==w&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=w,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(j=Number(y)*(this.panelWidth+3),j>A+_.x-this.panelWidth?(j=Math.min(j,b-_.x),this.element.style.marginLeft=-j+"px",d(this,_.x,-j)):j<A&&(j=Math.max(0,j-_.x/2),this.element.style.marginLeft=-j+"px",d(this,_.x,-j))):(j=Number(y)*(this.panelHeight+3),j>L+_.y-this.panelHeight?(j=Math.min(j,D-_.y),this.element.style.marginTop=-j+"px",d(this,_.y,-j)):j<L&&(j=Math.max(0,j-_.y/2),this.element.style.marginTop=-j+"px",d(this,_.y,-j))),this.currentPage=y,h.call(this,{eventSource:this.tracker}))},update:function(){return!!a[this.id].animating},destroy:function(){if(this.miniViewers)for(var y in this.miniViewers)this.miniViewers[y].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function s(y){if(y.quick){var w;this.scroll==="horizontal"?w=Math.floor(y.position.x/(this.panelWidth+4)):w=Math.floor(y.position.y/this.panelHeight),this.viewer.goToPage(w)}this.element.focus()}function l(y){if(this.dragging=!0,this.element){var w=Number(this.element.style.marginLeft.replace("px","")),_=Number(this.element.style.marginTop.replace("px","")),b=Number(this.element.style.width.replace("px","")),D=Number(this.element.style.height.replace("px","")),A=i.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-y.delta.x>0?w>-(b-A.x)&&(this.element.style.marginLeft=w+y.delta.x*2+"px",d(this,A.x,w+y.delta.x*2)):-y.delta.x<0&&w<0&&(this.element.style.marginLeft=w+y.delta.x*2+"px",d(this,A.x,w+y.delta.x*2)):-y.delta.y>0?_>-(D-A.y)&&(this.element.style.marginTop=_+y.delta.y*2+"px",d(this,A.y,_+y.delta.y*2)):-y.delta.y<0&&_<0&&(this.element.style.marginTop=_+y.delta.y*2+"px",d(this,A.y,_+y.delta.y*2))}}function u(y){if(this.element){var w=Number(this.element.style.marginLeft.replace("px","")),_=Number(this.element.style.marginTop.replace("px","")),b=Number(this.element.style.width.replace("px","")),D=Number(this.element.style.height.replace("px","")),A=i.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?y.scroll>0?w>-(b-A.x)&&(this.element.style.marginLeft=w-y.scroll*60+"px",d(this,A.x,w-y.scroll*60)):y.scroll<0&&w<0&&(this.element.style.marginLeft=w-y.scroll*60+"px",d(this,A.x,w-y.scroll*60)):y.scroll<0?_>A.y-D&&(this.element.style.marginTop=_+y.scroll*60+"px",d(this,A.y,_+y.scroll*60)):y.scroll>0&&_<0&&(this.element.style.marginTop=_+y.scroll*60+"px",d(this,A.y,_+y.scroll*60)),y.preventDefault=!0}}function d(y,w,_){var b,D,A,L,j,ae;for(y.scroll==="horizontal"?b=y.panelWidth:b=y.panelHeight,D=Math.ceil(w/b)+5,A=Math.ceil((Math.abs(_)+w)/b)+1,D=A-D,D=D<0?0:D,j=D;j<A&&j<y.panels.length;j++)if(ae=y.panels[j],!ae.activePanel){var I,N=y.viewer.tileSources[j];N.referenceStripThumbnailUrl?I={type:"image",url:N.referenceStripThumbnailUrl}:I=N,L=new i.Viewer({id:ae.id,tileSources:[I],element:ae,navigatorSizeRatio:y.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:y.viewer.loadTilesWithAjax,ajaxHeaders:y.viewer.ajaxHeaders,drawer:"canvas"}),i.setElementPointerEventsNone(L.canvas),i.setElementPointerEventsNone(L.container),L.innerTracker.setTracking(!1),L.outerTracker.setTracking(!1),y.miniViewers[ae.id]=L,ae.activePanel=!0}}function h(y){var w=y.eventSource.element;this.scroll==="horizontal"?w.style.marginBottom="0px":w.style.marginLeft="0px"}function c(y){var w=y.eventSource.element;this.scroll==="horizontal"?w.style.marginBottom="-"+i.getElementSize(w).y/2+"px":w.style.marginLeft="-"+i.getElementSize(w).x/2+"px"}function g(y){if(!y.ctrl&&!y.alt&&!y.meta)switch(y.keyCode){case 38:u.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),y.preventDefault=!0;break;case 40:u.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),y.preventDefault=!0;break;case 37:u.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),y.preventDefault=!0;break;case 39:u.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),y.preventDefault=!0;break;default:y.preventDefault=!1;break}else y.preventDefault=!1}function v(y){if(!y.ctrl&&!y.alt&&!y.meta)switch(y.keyCode){case 61:u.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),y.preventDefault=!0;break;case 45:u.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),y.preventDefault=!0;break;case 48:case 119:case 87:u.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),y.preventDefault=!0;break;case 115:case 83:u.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),y.preventDefault=!0;break;case 97:u.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),y.preventDefault=!0;break;case 100:u.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),y.preventDefault=!0;break;default:y.preventDefault=!1;break}else y.preventDefault=!1}}(p),function(i){i.DisplayRect=function(a,s,l,u,d,h){i.Rect.apply(this,[a,s,l,u]),this.minLevel=d,this.maxLevel=h},i.extend(i.DisplayRect.prototype,i.Rect.prototype)}(p),function(i){i.Spring=function(s){var l=arguments;typeof s!="object"&&(s={initial:l.length&&typeof l[0]=="number"?l[0]:void 0,springStiffness:l.length>1?l[1].springStiffness:5,animationTime:l.length>1?l[1].animationTime:1.5}),i.console.assert(typeof s.springStiffness=="number"&&s.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),i.console.assert(typeof s.animationTime=="number"&&s.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),s.exponential&&(this._exponential=!0,delete s.exponential),i.extend(!0,this,s),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:i.now()},i.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},i.Spring.prototype={resetTo:function(s){i.console.assert(!this._exponential||s!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=s,this.start.time=this.target.time=this.current.time=i.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(s){i.console.assert(!this._exponential||s!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=s,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(s){this.start.value+=s,this.target.value+=s,this._exponential&&(i.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(s){this._exponential=s,this._exponential&&(i.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=i.now();let s,l;if(this._exponential?(s=this.start._logValue,l=this.target._logValue):(s=this.start.value,l=this.target.value),this.current.time>=this.target.time)this.current.value=this.target.value;else{let u=s+(l-s)*a(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time));this._exponential?this.current.value=Math.exp(u):this.current.value=u}return this.current.value!==this.target.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function a(s,l){return(1-Math.exp(s*-l))/(1-Math.exp(-s))}}(p),function(i){i.ImageJob=function(s){i.extend(!0,this,{timeout:i.DEFAULT_SETTINGS.timeout,jobId:null,tries:0},s),this.data=null,this.userData={},this.errorMsg=null},i.ImageJob.prototype={start:function(){this.tries++;var s=this,l=this.abort;this.jobId=window.setTimeout(function(){s.finish(null,null,"Image load exceeded timeout ("+s.timeout+" ms)")},this.timeout),this.abort=function(){s.source.downloadTileAbort(s),typeof l=="function"&&l()},this.source.downloadTileStart(this)},finish:function(s,l,u){this.data=s,this.request=l,this.errorMsg=u,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},i.ImageLoader=function(s){i.extend(!0,this,{jobLimit:i.DEFAULT_SETTINGS.imageLoaderLimit,timeout:i.DEFAULT_SETTINGS.timeout,jobQueue:[],failedTiles:[],jobsInProgress:0},s)},i.ImageLoader.prototype={addJob:function(s){if(!s.source){i.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var l=i.TileSource.prototype;s.source={downloadTileStart:l.downloadTileStart,downloadTileAbort:l.downloadTileAbort}}var u=this,d=function(g){a(u,g,s.callback)},h={src:s.src,tile:s.tile||{},source:s.source,loadWithAjax:s.loadWithAjax,ajaxHeaders:s.loadWithAjax?s.ajaxHeaders:null,crossOriginPolicy:s.crossOriginPolicy,ajaxWithCredentials:s.ajaxWithCredentials,postData:s.postData,callback:d,abort:s.abort,timeout:this.timeout},c=new i.ImageJob(h);!this.jobLimit||this.jobsInProgress<this.jobLimit?(c.start(),this.jobsInProgress++):this.jobQueue.push(c)},clear:function(){for(var s=0;s<this.jobQueue.length;s++){var l=this.jobQueue[s];typeof l.abort=="function"&&l.abort()}this.jobQueue=[]}};function a(s,l,u){l.errorMsg!==""&&(l.data===null||l.data===void 0)&&l.tries<1+s.tileRetryMax&&s.failedTiles.push(l);var d;s.jobsInProgress--,(!s.jobLimit||s.jobsInProgress<s.jobLimit)&&s.jobQueue.length>0&&(d=s.jobQueue.shift(),d.start(),s.jobsInProgress++),s.tileRetryMax>0&&s.jobQueue.length===0&&(!s.jobLimit||s.jobsInProgress<s.jobLimit)&&s.failedTiles.length>0&&(d=s.failedTiles.shift(),setTimeout(function(){d.start()},s.tileRetryDelay),s.jobsInProgress++),u(l.data,l.errorMsg,l.request)}}(p),function(i){i.Tile=function(a,s,l,u,d,h,c,g,v,y,w,_){this.level=a,this.x=s,this.y=l,this.bounds=u,this.positionedBounds=new p.Rect(u.x,u.y,u.width,u.height),this.sourceBounds=y,this.exists=d,this._url=h,this.postData=w,this.context2D=c,this.loadWithAjax=g,this.ajaxHeaders=v,_===void 0&&(i.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),_=i.TileSource.prototype.getTileHashKey(a,s,l,h,v,w)),this.cacheKey=_,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},i.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return console.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},get image(){return i.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return i.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return typeof this._url=="function"?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord&&this.cacheImageRecord.getRenderedContext()},getScaleForEdgeSmoothing:function(){var a;if(this.cacheImageRecord)a=this.cacheImageRecord.getRenderedContext();else if(this.context2D)a=this.context2D;else return i.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return a.canvas.width/(this.size.x*i.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(a,s,l){var u=Math.max(1,Math.ceil((l.x-s.x)/2)),d=Math.max(1,Math.ceil((l.y-s.y)/2));return new i.Point(u,d).minus(this.position.times(i.pixelDensityRatio).times(a||1).apply(function(h){return h%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(p),function(i){i.OverlayPlacement=i.Placement,i.OverlayRotationMode=i.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),i.Overlay=function(a,s,l){var u;i.isPlainObject(a)?u=a:u={element:a,location:s,placement:l},this.elementWrapper=document.createElement("div"),this.element=u.element,this.elementWrapper.appendChild(this.element),this.element.id?this.elementWrapper.id="overlay-wrapper-"+this.element.id:this.elementWrapper.id="overlay-wrapper",this.style=this.elementWrapper.style,this._init(u)},i.Overlay.prototype={_init:function(a){this.location=a.location,this.placement=a.placement===void 0?i.Placement.TOP_LEFT:a.placement,this.onDraw=a.onDraw,this.checkResize=a.checkResize===void 0?!0:a.checkResize,this.width=a.width===void 0?null:a.width,this.height=a.height===void 0?null:a.height,this.rotationMode=a.rotationMode||i.OverlayRotationMode.EXACT,this.location instanceof i.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=i.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new i.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(a,s){var l=i.Placement.properties[this.placement];l&&(l.isHorizontallyCentered?a.x-=s.x/2:l.isRight&&(a.x-=s.x),l.isVerticallyCentered?a.y-=s.y/2:l.isBottom&&(a.y-=s.y))},destroy:function(){var a=this.elementWrapper,s=this.style;a.parentNode&&(a.parentNode.removeChild(a),a.prevElementParent&&(s.display="none",document.body.appendChild(a))),this.onDraw=null,s.top="",s.left="",s.position="",this.width!==null&&(s.width=""),this.height!==null&&(s.height="");var l=i.getCssPropertyWithVendorPrefix("transformOrigin"),u=i.getCssPropertyWithVendorPrefix("transform");l&&u&&(s[l]="",s[u]="")},drawHTML:function(a,s){var l=this.elementWrapper;l.parentNode!==a&&(l.prevElementParent=l.parentNode,l.prevNextSibling=l.nextSibling,a.appendChild(l),this.style.position="absolute",this.size=i.getElementSize(this.elementWrapper));var u=this._getOverlayPositionAndSize(s),d=u.position,h=this.size=u.size,c="";s.overlayPreserveContentDirection&&(c=s.flipped?" scaleX(-1)":" scaleX(1)");var g=s.flipped?-u.rotate:u.rotate,v=s.flipped?" scaleX(-1)":"";if(this.onDraw)this.onDraw(d,h,this.element);else{var y=this.style,w=this.element.style;w.display="block",y.left=d.x+"px",y.top=d.y+"px",this.width!==null&&(w.width=h.x+"px"),this.height!==null&&(w.height=h.y+"px");var _=i.getCssPropertyWithVendorPrefix("transformOrigin"),b=i.getCssPropertyWithVendorPrefix("transform");_&&b&&(g&&!s.flipped?(w[b]="",y[_]=this._getTransformOrigin(),y[b]="rotate("+g+"deg)"):!g&&s.flipped?(w[b]=c,y[_]=this._getTransformOrigin(),y[b]=v):g&&s.flipped?(w[b]=c,y[_]=this._getTransformOrigin(),y[b]="rotate("+g+"deg)"+v):(w[b]="",y[_]="",y[b]="")),y.display="flex"}},_getOverlayPositionAndSize:function(a){var s=a.pixelFromPoint(this.location,!0),l=this._getSizeInPixels(a);this.adjust(s,l);var u=0;if(a.getRotation(!0)&&this.rotationMode!==i.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===i.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var d=new i.Rect(s.x,s.y,l.x,l.y),h=this._getBoundingBox(d,a.getRotation(!0));s=h.getTopLeft(),l=h.getSize()}else u=a.getRotation(!0);return a.flipped&&(s.x=a.getContainerSize().x-s.x),{position:s,size:l,rotate:u}},_getSizeInPixels:function(a){var s=this.size.x,l=this.size.y;if(this.width!==null||this.height!==null){var u=a.deltaPixelsFromPointsNoRotate(new i.Point(this.width||0,this.height||0),!0);this.width!==null&&(s=u.x),this.height!==null&&(l=u.y)}if(this.checkResize&&(this.width===null||this.height===null)){var d=this.size=i.getElementSize(this.elementWrapper);this.width===null&&(s=d.x),this.height===null&&(l=d.y)}return new i.Point(s,l)},_getBoundingBox:function(a,s){var l=this._getPlacementPoint(a);return a.rotate(s,l).getBoundingBox()},_getPlacementPoint:function(a){var s=new i.Point(a.x,a.y),l=i.Placement.properties[this.placement];return l&&(l.isHorizontallyCentered?s.x+=a.width/2:l.isRight&&(s.x+=a.width),l.isVerticallyCentered?s.y+=a.height/2:l.isBottom&&(s.y+=a.height)),s},_getTransformOrigin:function(){var a="",s=i.Placement.properties[this.placement];return s&&(s.isLeft?a="left":s.isRight&&(a="right"),s.isTop?a+=" top":s.isBottom&&(a+=" bottom")),a},update:function(a,s){var l=i.isPlainObject(a)?a:{location:a,placement:s};this._init({location:l.location||this.location,placement:l.placement!==void 0?l.placement:this.placement,onDraw:l.onDraw||this.onDraw,checkResize:l.checkResize||this.checkResize,width:l.width!==void 0?l.width:this.width,height:l.height!==void 0?l.height:this.height,rotationMode:l.rotationMode||this.rotationMode})},getBounds:function(a){i.console.assert(a,"A viewport must now be passed to Overlay.getBounds.");var s=this.width,l=this.height;if(s===null||l===null){var u=a.deltaPointsFromPixelsNoRotate(this.size,!0);s===null&&(s=u.x),l===null&&(l=u.y)}var d=this.location.clone();return this.adjust(d,new i.Point(s,l)),this._adjustBoundsForRotation(a,new i.Rect(d.x,d.y,s,l))},_adjustBoundsForRotation:function(a,s){if(!a||a.getRotation(!0)===0||this.rotationMode===i.OverlayRotationMode.EXACT)return s;if(this.rotationMode===i.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return s;var l=this._getOverlayPositionAndSize(a);return a.viewerElementToViewportRectangle(new i.Rect(l.position.x,l.position.y,l.size.x,l.size.y))}return s.rotate(-a.getRotation(!0),this._getPlacementPoint(s))}}}(p),function(i){const a=i;a.DrawerBase=class{constructor(l){i.console.assert(l.viewer,"[Drawer] options.viewer is required"),i.console.assert(l.viewport,"[Drawer] options.viewport is required"),i.console.assert(l.element,"[Drawer] options.element is required"),this.viewer=l.viewer,this.viewport=l.viewport,this.debugGridColor=typeof l.debugGridColor=="string"?[l.debugGridColor]:l.debugGridColor||i.DEFAULT_SETTINGS.debugGridColor,this.options=l.options||{},this.container=i.getElement(l.element),this._renderingTarget=this._createDrawingElement(),this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",this.canvas.style.left="0",i.setElementOpacity(this.canvas,this.viewer.opacity,!0),i.setElementPointerEventsNone(this.canvas),i.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._checkForAPIOverrides()}get canvas(){return this._renderingTarget}get element(){return i.console.error("Drawer.element is deprecated. Use Drawer.container instead."),this.container}getType(){i.console.error("Drawer.getType must be implemented by child class")}static isSupported(){i.console.error("Drawer.isSupported must be implemented by child class")}_createDrawingElement(){return i.console.error("Drawer._createDrawingElement must be implemented by child class"),null}draw(l){i.console.error("Drawer.draw must be implemented by child class")}canRotate(){i.console.error("Drawer.canRotate must be implemented by child class")}destroy(){i.console.error("Drawer.destroy must be implemented by child class")}minimumOverlapRequired(l){return!1}setImageSmoothingEnabled(l){i.console.error("Drawer.setImageSmoothingEnabled must be implemented by child class")}drawDebuggingRect(l){i.console.warn("[drawer].drawDebuggingRect is not implemented by this drawer")}clear(){i.console.warn("[drawer].clear() is deprecated. The drawer is responsible for clearing itself as needed before drawing tiles.")}_checkForAPIOverrides(){if(this._createDrawingElement===i.DrawerBase.prototype._createDrawingElement)throw new Error("[drawer]._createDrawingElement must be implemented by child class");if(this.draw===i.DrawerBase.prototype.draw)throw new Error("[drawer].draw must be implemented by child class");if(this.canRotate===i.DrawerBase.prototype.canRotate)throw new Error("[drawer].canRotate must be implemented by child class");if(this.destroy===i.DrawerBase.prototype.destroy)throw new Error("[drawer].destroy must be implemented by child class");if(this.setImageSmoothingEnabled===i.DrawerBase.prototype.setImageSmoothingEnabled)throw new Error("[drawer].setImageSmoothingEnabled must be implemented by child class")}viewportToDrawerRectangle(l){var u=this.viewport.pixelFromPointNoRotate(l.getTopLeft(),!0),d=this.viewport.deltaPixelsFromPointsNoRotate(l.getSize(),!0);return new i.Rect(u.x*i.pixelDensityRatio,u.y*i.pixelDensityRatio,d.x*i.pixelDensityRatio,d.y*i.pixelDensityRatio)}viewportCoordToDrawerCoord(l){var u=this.viewport.pixelFromPointNoRotate(l,!0);return new i.Point(u.x*i.pixelDensityRatio,u.y*i.pixelDensityRatio)}_calculateCanvasSize(){var l=i.pixelDensityRatio,u=this.viewport.getContainerSize();return new a.Point(Math.round(u.x*l),Math.round(u.y*l))}_raiseTiledImageDrawnEvent(l,u){this.viewer&&this.viewer.raiseEvent("tiled-image-drawn",{tiledImage:l,tiles:u})}_raiseDrawerErrorEvent(l,u){this.viewer&&this.viewer.raiseEvent("drawer-error",{tiledImage:l,drawer:this,error:u})}}}(p),function(i){const a=i;class s extends a.DrawerBase{constructor(u){super(u),this.viewer.rejectEventHandler("tile-drawing","The HTMLDrawer does not raise the tile-drawing event"),this.viewer.allowEventHandler("tile-drawn")}static isSupported(){return!0}getType(){return"html"}minimumOverlapRequired(u){return!0}_createDrawingElement(){return i.makeNeutralElement("div")}draw(u){var d=this;this._prepareNewFrame(),u.forEach(function(h){h.opacity!==0&&d._drawTiles(h)})}canRotate(){return!1}destroy(){this.container.removeChild(this.canvas)}setImageSmoothingEnabled(){}_prepareNewFrame(){this.canvas.innerHTML=""}_drawTiles(u){var d=u.getTilesToDraw().map(g=>g.tile);if(!(u.opacity===0||d.length===0&&!u.placeholderFillStyle))for(var h=d.length-1;h>=0;h--){var c=d[h];this._drawTile(c),this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:u,tile:c})}}_drawTile(u){i.console.assert(u,"[Drawer._drawTile] tile is required");let d=this.canvas;if(!u.cacheImageRecord){i.console.warn("[Drawer._drawTileToHTML] attempting to draw tile %s when it's not cached",u.toString());return}if(!u.loaded){i.console.warn("Attempting to draw tile %s when it's not yet loaded.",u.toString());return}if(!u.element){var h=u.getImage();if(!h)return;u.element=i.makeNeutralElement("div"),u.imgElement=h.cloneNode(),u.imgElement.style.msInterpolationMode="nearest-neighbor",u.imgElement.style.width="100%",u.imgElement.style.height="100%",u.style=u.element.style,u.style.position="absolute"}u.element.parentNode!==d&&d.appendChild(u.element),u.imgElement.parentNode!==u.element&&u.element.appendChild(u.imgElement),u.style.top=u.position.y+"px",u.style.left=u.position.x+"px",u.style.height=u.size.y+"px",u.style.width=u.size.x+"px",u.flipped&&(u.style.transform="scaleX(-1)"),i.setElementOpacity(u.element,u.opacity)}}i.HTMLDrawer=s}(p),function(i){const a=i;class s extends a.DrawerBase{constructor(g){super(g),this.context=this.canvas.getContext("2d"),this.sketchCanvas=null,this.sketchContext=null,this._imageSmoothingEnabled=!0,this.viewer.allowEventHandler("tile-drawn"),this.viewer.allowEventHandler("tile-drawing")}static isSupported(){return i.supportsCanvas}getType(){return"canvas"}_createDrawingElement(){let g=i.makeNeutralElement("canvas"),v=this._calculateCanvasSize();return g.width=v.x,g.height=v.y,g}draw(g){this._prepareNewFrame(),this.viewer.viewport.getFlip()!==this._viewportFlipped&&this._flip();for(const v of g)v.opacity!==0&&this._drawTiles(v)}canRotate(){return!0}destroy(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null,this.container.removeChild(this.canvas)}minimumOverlapRequired(g){return!0}setImageSmoothingEnabled(g){this._imageSmoothingEnabled=!!g,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw()}drawDebuggingRect(g){var v=this.context;v.save(),v.lineWidth=2*i.pixelDensityRatio,v.strokeStyle=this.debugGridColor[0],v.fillStyle=this.debugGridColor[0],v.strokeRect(g.x*i.pixelDensityRatio,g.y*i.pixelDensityRatio,g.width*i.pixelDensityRatio,g.height*i.pixelDensityRatio),v.restore()}get _viewportFlipped(){return this.context.getTransform().a<0}_raiseTileDrawingEvent(g,v,y,w){this.viewer.raiseEvent("tile-drawing",{tiledImage:g,context:v,tile:y,rendered:w})}_prepareNewFrame(){var g=this._calculateCanvasSize();if((this.canvas.width!==g.x||this.canvas.height!==g.y)&&(this.canvas.width=g.x,this.canvas.height=g.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var v=this._calculateSketchCanvasSize();this.sketchCanvas.width=v.x,this.sketchCanvas.height=v.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}_clear(g,v){var y=this._getContext(g);if(v)y.clearRect(v.x,v.y,v.width,v.height);else{var w=y.canvas;y.clearRect(0,0,w.width,w.height)}}_drawTiles(g){var v=g.getTilesToDraw().map(Te=>Te.tile);if(!(g.opacity===0||v.length===0&&!g.placeholderFillStyle)){var y=v[0],w;y&&(w=g.opacity<1||g.compositeOperation&&g.compositeOperation!=="source-over"||!g._isBottomItem()&&g.source.hasTransparency(y.context2D,y.getUrl(),y.ajaxHeaders,y.postData));var _,b,D=this.viewport.getZoom(!0),A=g.viewportToImageZoom(D);v.length>1&&A>g.smoothTileEdgesMinZoom&&!g.iOSDevice&&g.getRotation(!0)%360===0&&(w=!0,_=y.getScaleForEdgeSmoothing(),b=y.getTranslationForEdgeSmoothing(_,this._getCanvasSize(!1),this._getCanvasSize(!0)));var L;w&&(_||(L=this.viewport.viewportToViewerElementRectangle(g.getClippedBounds(!0)).getIntegerBoundingBox(),L=L.times(i.pixelDensityRatio)),this._clear(!0,L)),_||this._setRotations(g,w);var j=!1;if(g._clip){this._saveContext(w);var ae=g.imageToViewportRectangle(g._clip,!0);ae=ae.rotate(-g.getRotation(!0),g._getRotationPoint(!0));var I=this.viewportToDrawerRectangle(ae);_&&(I=I.times(_)),b&&(I=I.translate(b)),this._setClip(I,w),j=!0}if(g._croppingPolygons){var N=this;j||this._saveContext(w);try{var he=g._croppingPolygons.map(function(Te){return Te.map(function(be){var Fe=g.imageToViewportCoordinates(be.x,be.y,!0).rotate(-g.getRotation(!0),g._getRotationPoint(!0)),Ne=N.viewportCoordToDrawerCoord(Fe);return _&&(Ne=Ne.times(_)),b&&(Ne=Ne.plus(b)),Ne})});this._clipWithPolygons(he,w)}catch(Te){i.console.error(Te)}j=!0}if(g._hasOpaqueTile=!1,g.placeholderFillStyle&&g._hasOpaqueTile===!1){let Te=this.viewportToDrawerRectangle(g.getBoundsNoRotate(!0));_&&(Te=Te.times(_)),b&&(Te=Te.translate(b));let be=null;typeof g.placeholderFillStyle=="function"?be=g.placeholderFillStyle(g,this.context):be=g.placeholderFillStyle,this._drawRectangle(Te,be,w)}var pe=h(g.subPixelRoundingForTransparency),fe=!1;if(pe===i.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS)fe=!0;else if(pe===i.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST){var ke=this.viewer&&this.viewer.isAnimating();fe=!ke}for(var Be=0;Be<v.length;Be++)y=v[Be],this._drawTile(y,g,w,_,b,fe,g.source),this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:g,tile:y});j&&this._restoreContext(w),_||(g.getRotation(!0)%360!==0&&this._restoreRotationChanges(w),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(w)),w&&(_&&this._setRotations(g),this.blendSketch({opacity:g.opacity,scale:_,translate:b,compositeOperation:g.compositeOperation,bounds:L}),_&&(g.getRotation(!0)%360!==0&&this._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(!1))),this._drawDebugInfo(g,v),this._raiseTiledImageDrawnEvent(g,v)}}_drawDebugInfo(g,v){if(g.debugMode)for(var y=v.length-1;y>=0;y--){var w=v[y];try{this._drawDebugInfoOnTile(w,v.length,y,g)}catch(_){i.console.error(_)}}}_clipWithPolygons(g,v){var y=this._getContext(v);y.beginPath();for(const w of g)for(const[_,b]of w.entries())y[_===0?"moveTo":"lineTo"](b.x,b.y);y.clip()}_drawTile(g,v,y,w,_,b,D){i.console.assert(g,"[Drawer._drawTile] tile is required"),i.console.assert(v,"[Drawer._drawTile] drawingHandler is required");var A=this._getContext(y);w=w||1,this._drawTileToCanvas(g,A,v,w,_,b,D)}_drawTileToCanvas(g,v,y,w,_,b,D){var A=g.position.times(i.pixelDensityRatio),L=g.size.times(i.pixelDensityRatio),j;if(!g.context2D&&!g.cacheImageRecord){i.console.warn("[Drawer._drawTileToCanvas] attempting to draw tile %s when it's not cached",g.toString());return}if(j=g.getCanvasContext(),!g.loaded||!j){i.console.warn("Attempting to draw tile %s when it's not yet loaded.",g.toString());return}v.save(),typeof w=="number"&&w!==1&&(A=A.times(w),L=L.times(w)),_ instanceof i.Point&&(A=A.plus(_)),v.globalAlpha===1&&g.hasTransparency&&(b&&(A.x=Math.round(A.x),A.y=Math.round(A.y),L.x=Math.round(L.x),L.y=Math.round(L.y)),v.clearRect(A.x,A.y,L.x,L.y)),this._raiseTileDrawingEvent(y,v,g,j);var ae,I;g.sourceBounds?(ae=Math.min(g.sourceBounds.width,j.canvas.width),I=Math.min(g.sourceBounds.height,j.canvas.height)):(ae=j.canvas.width,I=j.canvas.height),v.translate(A.x+L.x/2,0),g.flipped&&v.scale(-1,1),v.drawImage(j.canvas,0,0,ae,I,-L.x/2,A.y,L.x,L.y),v.restore()}_getContext(g){var v=this.context;if(g){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var y=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=y.x,this.sketchCanvas.height=y.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var w=this;this.viewer.addHandler("rotate",function _(){if(w.viewport.getRotation()!==0){w.viewer.removeHandler("rotate",_);var b=w._calculateSketchCanvasSize();w.sketchCanvas.width=b.x,w.sketchCanvas.height=b.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}v=this.sketchContext}return v}_saveContext(g){this._getContext(g).save()}_restoreContext(g){this._getContext(g).restore()}_setClip(g,v){var y=this._getContext(v);y.beginPath(),y.rect(g.x,g.y,g.width,g.height),y.clip()}_drawRectangle(g,v,y){var w=this._getContext(y);w.save(),w.fillStyle=v,w.fillRect(g.x,g.y,g.width,g.height),w.restore()}blendSketch(g,v,y,w){var _=g;i.isPlainObject(_)||(_={opacity:g,scale:v,translate:y,compositeOperation:w}),g=_.opacity,w=_.compositeOperation;var b=_.bounds;if(this.context.save(),this.context.globalAlpha=g,w&&(this.context.globalCompositeOperation=w),b)b.x<0&&(b.width+=b.x,b.x=0),b.x+b.width>this.canvas.width&&(b.width=this.canvas.width-b.x),b.y<0&&(b.height+=b.y,b.y=0),b.y+b.height>this.canvas.height&&(b.height=this.canvas.height-b.y),this.context.drawImage(this.sketchCanvas,b.x,b.y,b.width,b.height,b.x,b.y,b.width,b.height);else{v=_.scale||1,y=_.translate;var D=y instanceof i.Point?y:new i.Point(0,0),A=0,L=0;if(y){var j=this.sketchCanvas.width-this.canvas.width,ae=this.sketchCanvas.height-this.canvas.height;A=Math.round(j/2),L=Math.round(ae/2)}this.context.drawImage(this.sketchCanvas,D.x-A*v,D.y-L*v,(this.canvas.width+2*A)*v,(this.canvas.height+2*L)*v,-A,-L,this.canvas.width+2*A,this.canvas.height+2*L)}this.context.restore()}_drawDebugInfoOnTile(g,v,y,w){var _=this.viewer.world.getIndexOfItem(w)%this.debugGridColor.length,b=this.context;b.save(),b.lineWidth=2*i.pixelDensityRatio,b.font="small-caps bold "+13*i.pixelDensityRatio+"px arial",b.strokeStyle=this.debugGridColor[_],b.fillStyle=this.debugGridColor[_],this._setRotations(w),this._viewportFlipped&&this._flip({point:g.position.plus(g.size.divide(2))}),b.strokeRect(g.position.x*i.pixelDensityRatio,g.position.y*i.pixelDensityRatio,g.size.x*i.pixelDensityRatio,g.size.y*i.pixelDensityRatio);var D=(g.position.x+g.size.x/2)*i.pixelDensityRatio,A=(g.position.y+g.size.y/2)*i.pixelDensityRatio;b.translate(D,A);const L=this.viewport.getRotation(!0);b.rotate(Math.PI/180*-L),b.translate(-D,-A),g.x===0&&g.y===0&&(b.fillText("Zoom: "+this.viewport.getZoom(),g.position.x*i.pixelDensityRatio,(g.position.y-30)*i.pixelDensityRatio),b.fillText("Pan: "+this.viewport.getBounds().toString(),g.position.x*i.pixelDensityRatio,(g.position.y-20)*i.pixelDensityRatio)),b.fillText("Level: "+g.level,(g.position.x+10)*i.pixelDensityRatio,(g.position.y+20)*i.pixelDensityRatio),b.fillText("Column: "+g.x,(g.position.x+10)*i.pixelDensityRatio,(g.position.y+30)*i.pixelDensityRatio),b.fillText("Row: "+g.y,(g.position.x+10)*i.pixelDensityRatio,(g.position.y+40)*i.pixelDensityRatio),b.fillText("Order: "+y+" of "+v,(g.position.x+10)*i.pixelDensityRatio,(g.position.y+50)*i.pixelDensityRatio),b.fillText("Size: "+g.size.toString(),(g.position.x+10)*i.pixelDensityRatio,(g.position.y+60)*i.pixelDensityRatio),b.fillText("Position: "+g.position.toString(),(g.position.x+10)*i.pixelDensityRatio,(g.position.y+70)*i.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),w.getRotation(!0)%360!==0&&this._restoreRotationChanges(),b.restore()}_updateImageSmoothingEnabled(g){g.msImageSmoothingEnabled=this._imageSmoothingEnabled,g.imageSmoothingEnabled=this._imageSmoothingEnabled}_getCanvasSize(g){var v=this._getContext(g).canvas;return new i.Point(v.width,v.height)}_getCanvasCenter(){return new i.Point(this.canvas.width/2,this.canvas.height/2)}_setRotations(g,v=!1){var y=!1;this.viewport.getRotation(!0)%360!==0&&(this._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:v,saveContext:y}),y=!1),g.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:g.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(g._getRotationPoint(!0),!0),useSketch:v,saveContext:y})}_offsetForRotation(g){var v=g.point?g.point.times(i.pixelDensityRatio):this._getCanvasCenter(),y=this._getContext(g.useSketch);y.save(),y.translate(v.x,v.y),y.rotate(Math.PI/180*g.degrees),y.translate(-v.x,-v.y)}_flip(g){g=g||{};var v=g.point?g.point.times(i.pixelDensityRatio):this._getCanvasCenter(),y=this._getContext(g.useSketch);y.translate(v.x,0),y.scale(-1,1),y.translate(-v.x,0)}_restoreRotationChanges(g){var v=this._getContext(g);v.restore()}_calculateCanvasSize(){var g=i.pixelDensityRatio,v=this.viewport.getContainerSize();return{x:Math.round(v.x*g),y:Math.round(v.y*g)}}_calculateSketchCanvasSize(){var g=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return g;var v=Math.ceil(Math.sqrt(g.x*g.x+g.y*g.y));return{x:v,y:v}}}i.CanvasDrawer=s;var l=i.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function u(c){return c!==i.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&c!==i.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&c!==i.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function d(c){return u(c)?l:c}function h(c){if(typeof c=="number")return d(c);if(!c||!i.Browser)return l;var g=c[i.Browser.vendor];return u(g)&&(g=c["*"]),d(g)}}(p),function(i){const a=i;a.WebGLDrawer=class extends a.DrawerBase{constructor(l){super(l),this._destroyed=!1,this._TextureMap=new Map,this._TileMap=new Map,this._gl=null,this._firstPass=null,this._secondPass=null,this._glFrameBuffer=null,this._renderToTexture=null,this._glFramebufferToCanvasTransform=null,this._outputCanvas=null,this._outputContext=null,this._clippingCanvas=null,this._clippingContext=null,this._renderingCanvas=null,this._backupCanvasDrawer=null,this._imageSmoothingEnabled=!0,this._boundToTileReady=u=>this._tileReadyHandler(u),this._boundToImageUnloaded=u=>this._imageUnloadedHandler(u),this.viewer.addHandler("tile-ready",this._boundToTileReady),this.viewer.addHandler("image-unloaded",this._boundToImageUnloaded),this.viewer.rejectEventHandler("tile-drawn","The WebGLDrawer does not raise the tile-drawn event"),this.viewer.rejectEventHandler("tile-drawing","The WebGLDrawer does not raise the tile-drawing event"),this._setupCanvases(),this._setupRenderer(),this.context=this._outputContext}destroy(){if(this._destroyed)return;let l=this._gl;var u=l.getParameter(l.MAX_TEXTURE_IMAGE_UNITS);for(let h=0;h<u;++h)l.activeTexture(l.TEXTURE0+h),l.bindTexture(l.TEXTURE_2D,null),l.bindTexture(l.TEXTURE_CUBE_MAP,null);l.bindBuffer(l.ARRAY_BUFFER,null),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,null),l.bindRenderbuffer(l.RENDERBUFFER,null),l.bindFramebuffer(l.FRAMEBUFFER,null),this._unloadTextures(),l.deleteBuffer(this._secondPass.bufferOutputPosition),l.deleteFramebuffer(this._glFrameBuffer),this._renderingCanvas.width=this._renderingCanvas.height=1,this._clippingCanvas.width=this._clippingCanvas.height=1,this._outputCanvas.width=this._outputCanvas.height=1,this._renderingCanvas=null,this._clippingCanvas=this._clippingContext=null,this._outputCanvas=this._outputContext=null;let d=l.getExtension("WEBGL_lose_context");d&&d.loseContext(),this.viewer.removeHandler("tile-ready",this._boundToTileReady),this.viewer.removeHandler("image-unloaded",this._boundToImageUnloaded),this.viewer.removeHandler("resize",this._resizeHandler),this._gl=null,this._backupCanvasDrawer&&(this._backupCanvasDrawer.destroy(),this._backupCanvasDrawer=null),this.container.removeChild(this.canvas),this.viewer.drawer===this&&(this.viewer.drawer=null),this._destroyed=!0}canRotate(){return!0}static isSupported(){let l=document.createElement("canvas"),u=i.isFunction(l.getContext)&&l.getContext("webgl"),d=u&&u.getExtension("WEBGL_lose_context");return d&&d.loseContext(),!!u}getType(){return"webgl"}minimumOverlapRequired(l){return l.isTainted()}_createDrawingElement(){let l=i.makeNeutralElement("canvas"),u=this._calculateCanvasSize();return l.width=u.x,l.height=u.y,l}_getBackupCanvasDrawer(){return this._backupCanvasDrawer||(this._backupCanvasDrawer=this.viewer.requestDrawer("canvas",{mainDrawer:!1}),this._backupCanvasDrawer.canvas.style.setProperty("visibility","hidden")),this._backupCanvasDrawer}draw(l){let u=this._gl;const d=this.viewport.getBoundsNoRotateWithMargins(!0);let h={bounds:d,center:new a.Point(d.x+d.width/2,d.y+d.height/2),rotation:this.viewport.getRotation(!0)*Math.PI/180},c=this.viewport.flipped?-1:1,g=i.Mat3.makeTranslation(-h.center.x,-h.center.y),v=i.Mat3.makeScaling(2/h.bounds.width*c,-2/h.bounds.height),y=i.Mat3.makeRotation(-h.rotation),w=v.multiply(y).multiply(g);u.bindFramebuffer(u.FRAMEBUFFER,null),u.clear(u.COLOR_BUFFER_BIT),this._outputContext.clearRect(0,0,this._outputCanvas.width,this._outputCanvas.height);let _=!1;l.forEach((b,D)=>{if(b.isTainted()){_&&(this._outputContext.drawImage(this._renderingCanvas,0,0),u.bindFramebuffer(u.FRAMEBUFFER,null),u.clear(u.COLOR_BUFFER_BIT),_=!1);const A=this._getBackupCanvasDrawer();A.draw([b]),this._outputContext.drawImage(A.canvas,0,0)}else{let A=b.getTilesToDraw();if(b.placeholderFillStyle&&b._hasOpaqueTile===!1&&this._drawPlaceholder(b),A.length===0||b.getOpacity()===0)return;let L=A[0],j=b.compositeOperation||this.viewer.compositeOperation||b._clip||b._croppingPolygons||b.debugMode,ae=j||b.opacity<1||L.hasTransparency;j&&(_&&this._outputContext.drawImage(this._renderingCanvas,0,0),u.bindFramebuffer(u.FRAMEBUFFER,null),u.clear(u.COLOR_BUFFER_BIT)),u.useProgram(this._firstPass.shaderProgram),ae?(u.bindFramebuffer(u.FRAMEBUFFER,this._glFrameBuffer),u.clear(u.COLOR_BUFFER_BIT)):u.bindFramebuffer(u.FRAMEBUFFER,null);let I=w,N=b.getRotation(!0);if(N%360!==0){let Te=i.Mat3.makeRotation(-N*Math.PI/180),be=b.getBoundsNoRotate(!0).getCenter(),Fe=i.Mat3.makeTranslation(be.x,be.y),Ne=i.Mat3.makeTranslation(-be.x,-be.y),k=Fe.multiply(Te).multiply(Ne);I=w.multiply(k)}let he=this._gl.getParameter(this._gl.MAX_TEXTURE_IMAGE_UNITS);if(he<=0)throw new Error(`WegGL error: bad value for gl parameter MAX_TEXTURE_IMAGE_UNITS (${he}). This could happen
                        if too many contexts have been created and not released, or there is another problem with the graphics card.`);let pe=new Float32Array(he*12),fe=new Array(he),ke=new Array(he),Be=new Array(he);for(let Te=0;Te<A.length;Te++){let be=A[Te].tile,Fe=Te%he,Ne=Fe+1,k=be.getCanvasContext(),oe=k?this._TextureMap.get(k.canvas):null;if(oe||(this._tileReadyHandler({tile:be,tiledImage:b}),oe=k?this._TextureMap.get(k.canvas):null),oe&&this._getTileData(be,b,oe,I,Fe,pe,fe,ke,Be),Ne===he||Te===A.length-1){for(let de=0;de<=Ne;de++)u.activeTexture(u.TEXTURE0+de),u.bindTexture(u.TEXTURE_2D,fe[de]);u.bindBuffer(u.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),u.bufferData(u.ARRAY_BUFFER,pe,u.DYNAMIC_DRAW),ke.forEach((de,Me)=>{u.uniformMatrix3fv(this._firstPass.uTransformMatrices[Me],!1,de)}),u.uniform1fv(this._firstPass.uOpacities,new Float32Array(Be)),u.bindBuffer(u.ARRAY_BUFFER,this._firstPass.bufferOutputPosition),u.vertexAttribPointer(this._firstPass.aOutputPosition,2,u.FLOAT,!1,0,0),u.bindBuffer(u.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),u.vertexAttribPointer(this._firstPass.aTexturePosition,2,u.FLOAT,!1,0,0),u.bindBuffer(u.ARRAY_BUFFER,this._firstPass.bufferIndex),u.vertexAttribPointer(this._firstPass.aIndex,1,u.FLOAT,!1,0,0),u.drawArrays(u.TRIANGLES,0,6*Ne)}}ae&&(u.useProgram(this._secondPass.shaderProgram),u.bindFramebuffer(u.FRAMEBUFFER,null),u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,this._renderToTexture),this._gl.uniform1f(this._secondPass.uOpacityMultiplier,b.opacity),u.bindBuffer(u.ARRAY_BUFFER,this._secondPass.bufferTexturePosition),u.vertexAttribPointer(this._secondPass.aTexturePosition,2,u.FLOAT,!1,0,0),u.bindBuffer(u.ARRAY_BUFFER,this._secondPass.bufferOutputPosition),u.vertexAttribPointer(this._secondPass.aOutputPosition,2,u.FLOAT,!1,0,0),u.drawArrays(u.TRIANGLES,0,6)),_=!0,j&&(this._applyContext2dPipeline(b,A,D),_=!1,u.bindFramebuffer(u.FRAMEBUFFER,null),u.clear(u.COLOR_BUFFER_BIT)),D===0&&this._raiseTiledImageDrawnEvent(b,A.map(Te=>Te.tile))}}),_&&this._outputContext.drawImage(this._renderingCanvas,0,0)}setImageSmoothingEnabled(l){this._imageSmoothingEnabled!==l&&(this._imageSmoothingEnabled=l,this._unloadTextures(),this.viewer.world.draw())}drawDebuggingRect(l){let u=this._outputContext;u.save(),u.lineWidth=2*i.pixelDensityRatio,u.strokeStyle=this.debugGridColor[0],u.fillStyle=this.debugGridColor[0],u.strokeRect(l.x*i.pixelDensityRatio,l.y*i.pixelDensityRatio,l.width*i.pixelDensityRatio,l.height*i.pixelDensityRatio),u.restore()}_getTextureDataFromTile(l){return l.getCanvasContext().canvas}_applyContext2dPipeline(l,u,d){if(this._outputContext.save(),this._outputContext.globalCompositeOperation=d===0?null:l.compositeOperation||this.viewer.compositeOperation,l._croppingPolygons||l._clip?(this._renderToClippingCanvas(l),this._outputContext.drawImage(this._clippingCanvas,0,0)):this._outputContext.drawImage(this._renderingCanvas,0,0),this._outputContext.restore(),l.debugMode){const h=this.viewer.viewport.getFlip();h&&this._flip(),this._drawDebugInfo(u,l,h),h&&this._flip()}}_getTileData(l,u,d,h,c,g,v,y,w){let _=d.texture,b=d.position;g.set(b,c*12);let D=this._calculateOverlapFraction(l,u),A=l.positionedBounds.width*D.x,L=l.positionedBounds.height*D.y,j=l.positionedBounds.x+(l.x===0?0:A),ae=l.positionedBounds.y+(l.y===0?0:L),I=l.positionedBounds.x+l.positionedBounds.width-(l.isRightMost?0:A),N=l.positionedBounds.y+l.positionedBounds.height-(l.isBottomMost?0:L),he=I-j,pe=N-ae,fe=new i.Mat3([he,0,0,0,pe,0,j,ae,1]);if(l.flipped){let Be=i.Mat3.makeTranslation(.5,0),Te=i.Mat3.makeTranslation(-.5,0),be=Be.multiply(i.Mat3.makeScaling(-1,1)).multiply(Te);fe=fe.multiply(be)}let ke=h.multiply(fe);w[c]=l.opacity,v[c]=_,y[c]=ke.values}_textureFilter(){return this._imageSmoothingEnabled?this._gl.LINEAR:this._gl.NEAREST}_setupRenderer(){let l=this._gl;l||i.console.error("_setupCanvases must be called before _setupRenderer"),this._unitQuad=this._makeQuadVertexBuffer(0,1,0,1),this._makeFirstPassShaderProgram(),this._makeSecondPassShaderProgram(),this._renderToTexture=l.createTexture(),l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,this._renderToTexture),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,this._renderingCanvas.width,this._renderingCanvas.height,0,l.RGBA,l.UNSIGNED_BYTE,null),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,this._textureFilter()),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),this._glFrameBuffer=l.createFramebuffer(),l.bindFramebuffer(l.FRAMEBUFFER,this._glFrameBuffer),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,this._renderToTexture,0),l.enable(l.BLEND),l.blendFunc(l.ONE,l.ONE_MINUS_SRC_ALPHA)}_makeFirstPassShaderProgram(){let l=this._glNumTextures=this._gl.getParameter(this._gl.MAX_TEXTURE_IMAGE_UNITS),u=()=>[...Array(l).keys()].map(_=>`uniform mat3 u_matrix_${_};`).join(`
`),d=()=>[...Array(l).keys()].map(_=>`${_>0?"else ":""}if(int(a_index) == ${_}) { transform_matrix = u_matrix_${_}; }`).join(`
`);const h=`
            attribute vec2 a_output_position;
            attribute vec2 a_texture_position;
            attribute float a_index;

            ${u()} // create a uniform mat3 for each potential tile to draw

            varying vec2 v_texture_position;
            varying float v_image_index;

            void main() {

                mat3 transform_matrix; // value will be set by the if/elses in makeConditional()

                ${d()}

                gl_Position = vec4(transform_matrix * vec3(a_output_position, 1), 1);

                v_texture_position = a_texture_position;
                v_image_index = a_index;
            }
            `,c=`
            precision mediump float;

            // our textures
            uniform sampler2D u_images[${l}];
            // our opacities
            uniform float u_opacities[${l}];

            // the varyings passed in from the vertex shader.
            varying vec2 v_texture_position;
            varying float v_image_index;

            void main() {
                // can't index directly with a variable, need to use a loop iterator hack
                for(int i = 0; i < ${l}; ++i){
                    if(i == int(v_image_index)){
                        gl_FragColor = texture2D(u_images[i], v_texture_position) * u_opacities[i];
                    }
                }
            }
            `;let g=this._gl,v=this.constructor.initShaderProgram(g,h,c);g.useProgram(v),this._firstPass={shaderProgram:v,aOutputPosition:g.getAttribLocation(v,"a_output_position"),aTexturePosition:g.getAttribLocation(v,"a_texture_position"),aIndex:g.getAttribLocation(v,"a_index"),uTransformMatrices:[...Array(this._glNumTextures).keys()].map(_=>g.getUniformLocation(v,`u_matrix_${_}`)),uImages:g.getUniformLocation(v,"u_images"),uOpacities:g.getUniformLocation(v,"u_opacities"),bufferOutputPosition:g.createBuffer(),bufferTexturePosition:g.createBuffer(),bufferIndex:g.createBuffer()},g.uniform1iv(this._firstPass.uImages,[...Array(l).keys()]);let y=new Float32Array(l*12);for(let _=0;_<l;++_)y.set(Float32Array.from(this._unitQuad),_*12);g.bindBuffer(g.ARRAY_BUFFER,this._firstPass.bufferOutputPosition),g.bufferData(g.ARRAY_BUFFER,y,g.STATIC_DRAW),g.enableVertexAttribArray(this._firstPass.aOutputPosition),g.bindBuffer(g.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),g.enableVertexAttribArray(this._firstPass.aTexturePosition),g.bindBuffer(g.ARRAY_BUFFER,this._firstPass.bufferIndex);let w=[...Array(this._glNumTextures).keys()].map(_=>Array(6).fill(_)).flat();g.bufferData(g.ARRAY_BUFFER,new Float32Array(w),g.STATIC_DRAW),g.enableVertexAttribArray(this._firstPass.aIndex)}_makeSecondPassShaderProgram(){const l=`
            attribute vec2 a_output_position;
            attribute vec2 a_texture_position;

            uniform mat3 u_matrix;

            varying vec2 v_texture_position;

            void main() {
                gl_Position = vec4(u_matrix * vec3(a_output_position, 1), 1);

                v_texture_position = a_texture_position;
            }
            `,u=`
            precision mediump float;

            // our texture
            uniform sampler2D u_image;

            // the texCoords passed in from the vertex shader.
            varying vec2 v_texture_position;

            // the opacity multiplier for the image
            uniform float u_opacity_multiplier;

            void main() {
                gl_FragColor = texture2D(u_image, v_texture_position);
                gl_FragColor *= u_opacity_multiplier;
            }
            `;let d=this._gl,h=this.constructor.initShaderProgram(d,l,u);d.useProgram(h),this._secondPass={shaderProgram:h,aOutputPosition:d.getAttribLocation(h,"a_output_position"),aTexturePosition:d.getAttribLocation(h,"a_texture_position"),uMatrix:d.getUniformLocation(h,"u_matrix"),uImage:d.getUniformLocation(h,"u_image"),uOpacityMultiplier:d.getUniformLocation(h,"u_opacity_multiplier"),bufferOutputPosition:d.createBuffer(),bufferTexturePosition:d.createBuffer()},d.bindBuffer(d.ARRAY_BUFFER,this._secondPass.bufferOutputPosition),d.bufferData(d.ARRAY_BUFFER,this._unitQuad,d.STATIC_DRAW),d.enableVertexAttribArray(this._secondPass.aOutputPosition),d.bindBuffer(d.ARRAY_BUFFER,this._secondPass.bufferTexturePosition),d.bufferData(d.ARRAY_BUFFER,this._unitQuad,d.DYNAMIC_DRAW),d.enableVertexAttribArray(this._secondPass.aTexturePosition);let c=i.Mat3.makeScaling(2,2).multiply(i.Mat3.makeTranslation(-.5,-.5));d.uniformMatrix3fv(this._secondPass.uMatrix,!1,c.values)}_resizeRenderer(){let l=this._gl,u=this._renderingCanvas.width,d=this._renderingCanvas.height;l.viewport(0,0,u,d),l.deleteTexture(this._renderToTexture),this._renderToTexture=l.createTexture(),l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,this._renderToTexture),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,u,d,0,l.RGBA,l.UNSIGNED_BYTE,null),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,this._textureFilter()),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.bindFramebuffer(l.FRAMEBUFFER,this._glFrameBuffer),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,this._renderToTexture,0)}_setupCanvases(){let l=this;this._outputCanvas=this.canvas,this._outputContext=this._outputCanvas.getContext("2d"),this._renderingCanvas=document.createElement("canvas"),this._clippingCanvas=document.createElement("canvas"),this._clippingContext=this._clippingCanvas.getContext("2d"),this._renderingCanvas.width=this._clippingCanvas.width=this._outputCanvas.width,this._renderingCanvas.height=this._clippingCanvas.height=this._outputCanvas.height,this._gl=this._renderingCanvas.getContext("webgl"),this._resizeHandler=function(){l._outputCanvas!==l.viewer.drawer.canvas&&(l._outputCanvas.style.width=l.viewer.drawer.canvas.clientWidth+"px",l._outputCanvas.style.height=l.viewer.drawer.canvas.clientHeight+"px");let u=l._calculateCanvasSize();(l._outputCanvas.width!==u.x||l._outputCanvas.height!==u.y)&&(l._outputCanvas.width=u.x,l._outputCanvas.height=u.y),l._renderingCanvas.style.width=l._outputCanvas.clientWidth+"px",l._renderingCanvas.style.height=l._outputCanvas.clientHeight+"px",l._renderingCanvas.width=l._clippingCanvas.width=l._outputCanvas.width,l._renderingCanvas.height=l._clippingCanvas.height=l._outputCanvas.height,l._resizeRenderer()},this.viewer.addHandler("resize",this._resizeHandler)}_makeQuadVertexBuffer(l,u,d,h){return new Float32Array([l,h,u,h,l,d,l,d,u,h,u,d])}_tileReadyHandler(l){let u=l.tile,d=l.tiledImage;if(d.isTainted())return;let h=u.getCanvasContext(),c=h&&h.canvas;if(!c||i.isCanvasTainted(c)){d.isTainted()||(d.setTainted(!0),i.console.warn("WebGL cannot be used to draw this TiledImage because it has tainted data. Does crossOriginPolicy need to be set?"),this._raiseDrawerErrorEvent(d,"Tainted data cannot be used by the WebGLDrawer. Falling back to CanvasDrawer for this TiledImage."));return}if(!this._TextureMap.get(c)){let v=this._gl,y=v.createTexture(),w,_=d.source.tileOverlap,b,D;if(u.sourceBounds?(b=Math.min(u.sourceBounds.width,c.width)/c.width,D=Math.min(u.sourceBounds.height,c.height)/c.height):(b=1,D=1),_>0){let L=this._calculateOverlapFraction(u,d),j=(u.x===0?0:L.x)*b,ae=(u.y===0?0:L.y)*D,I=(u.isRightMost?1:1-L.x)*b,N=(u.isBottomMost?1:1-L.y)*D;w=this._makeQuadVertexBuffer(j,I,ae,N)}else b===1&&D===1?w=this._unitQuad:w=this._makeQuadVertexBuffer(0,b,0,D);let A={texture:y,position:w};this._TextureMap.set(c,A),v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,y),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,this._textureFilter()),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,this._textureFilter()),this._uploadImageData(h)}}_calculateOverlapFraction(l,u){let d=u.source.tileOverlap,h=l.sourceBounds.width,c=l.sourceBounds.height,g=(l.x===0?0:d)+(l.isRightMost?0:d),v=(l.y===0?0:d)+(l.isBottomMost?0:d),y=d/(h+g),w=d/(c+v);return{x:y,y:w}}_unloadTextures(){Array.from(this._TextureMap.keys()).forEach(u=>{this._cleanupImageData(u)})}_uploadImageData(l){let u=this._gl,d=l.canvas;try{if(!d)throw l;u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,d)}catch(h){i.console.error("Error uploading image data to WebGL",h)}}_imageUnloadedHandler(l){let u=l.context2D.canvas;this._cleanupImageData(u)}_cleanupImageData(l){let u=this._TextureMap.get(l);this._TextureMap.delete(l),u&&this._gl.deleteTexture(u.texture)}_setClip(){}_renderToClippingCanvas(l){if(this._clippingContext.clearRect(0,0,this._clippingCanvas.width,this._clippingCanvas.height),this._clippingContext.save(),this.viewer.viewport.getFlip()){const u=new i.Point(this.canvas.width/2,this.canvas.height/2);this._clippingContext.translate(u.x,0),this._clippingContext.scale(-1,1),this._clippingContext.translate(-u.x,0)}if(l._clip){let d=[{x:l._clip.x,y:l._clip.y},{x:l._clip.x+l._clip.width,y:l._clip.y},{x:l._clip.x+l._clip.width,y:l._clip.y+l._clip.height},{x:l._clip.x,y:l._clip.y+l._clip.height}].map(h=>{let c=l.imageToViewportCoordinates(h.x,h.y,!0).rotate(this.viewer.viewport.getRotation(!0),this.viewer.viewport.getCenter(!0));return this.viewportCoordToDrawerCoord(c)});this._clippingContext.beginPath(),d.forEach((h,c)=>{this._clippingContext[c===0?"moveTo":"lineTo"](h.x,h.y)}),this._clippingContext.clip(),this._setClip()}if(l._croppingPolygons){let u=l._croppingPolygons.map(d=>d.map(h=>{let c=l.imageToViewportCoordinates(h.x,h.y,!0).rotate(this.viewer.viewport.getRotation(!0),this.viewer.viewport.getCenter(!0));return this.viewportCoordToDrawerCoord(c)}));this._clippingContext.beginPath(),u.forEach(d=>{d.forEach((h,c)=>{this._clippingContext[c===0?"moveTo":"lineTo"](h.x,h.y)})}),this._clippingContext.clip()}if(this.viewer.viewport.getFlip()){const u=new i.Point(this.canvas.width/2,this.canvas.height/2);this._clippingContext.translate(u.x,0),this._clippingContext.scale(-1,1),this._clippingContext.translate(-u.x,0)}this._clippingContext.drawImage(this._renderingCanvas,0,0),this._clippingContext.restore()}_setRotations(l){var u=!1;this.viewport.getRotation(!0)%360!==0&&(this._offsetForRotation({degrees:this.viewport.getRotation(!0),saveContext:u}),u=!1),l.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:l.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(l._getRotationPoint(!0),!0),saveContext:u})}_offsetForRotation(l){var u=l.point?l.point.times(i.pixelDensityRatio):this._getCanvasCenter(),d=this._outputContext;d.save(),d.translate(u.x,u.y),d.rotate(Math.PI/180*l.degrees),d.translate(-u.x,-u.y)}_flip(l){l=l||{};var u=l.point?l.point.times(i.pixelDensityRatio):this._getCanvasCenter(),d=this._outputContext;d.translate(u.x,0),d.scale(-1,1),d.translate(-u.x,0)}_drawDebugInfo(l,u,d){for(var h=l.length-1;h>=0;h--){var c=l[h].tile;try{this._drawDebugInfoOnTile(c,l.length,h,u,d)}catch(g){i.console.error(g)}}}_drawDebugInfoOnTile(l,u,d,h,c){var g=this.viewer.world.getIndexOfItem(h)%this.debugGridColor.length,v=this.context;v.save(),v.lineWidth=2*i.pixelDensityRatio,v.font="small-caps bold "+13*i.pixelDensityRatio+"px arial",v.strokeStyle=this.debugGridColor[g],v.fillStyle=this.debugGridColor[g],this._setRotations(h),c&&this._flip({point:l.position.plus(l.size.divide(2))}),v.strokeRect(l.position.x*i.pixelDensityRatio,l.position.y*i.pixelDensityRatio,l.size.x*i.pixelDensityRatio,l.size.y*i.pixelDensityRatio);var y=(l.position.x+l.size.x/2)*i.pixelDensityRatio,w=(l.position.y+l.size.y/2)*i.pixelDensityRatio;v.translate(y,w);const _=this.viewport.getRotation(!0);v.rotate(Math.PI/180*-_),v.translate(-y,-w),l.x===0&&l.y===0&&(v.fillText("Zoom: "+this.viewport.getZoom(),l.position.x*i.pixelDensityRatio,(l.position.y-30)*i.pixelDensityRatio),v.fillText("Pan: "+this.viewport.getBounds().toString(),l.position.x*i.pixelDensityRatio,(l.position.y-20)*i.pixelDensityRatio)),v.fillText("Level: "+l.level,(l.position.x+10)*i.pixelDensityRatio,(l.position.y+20)*i.pixelDensityRatio),v.fillText("Column: "+l.x,(l.position.x+10)*i.pixelDensityRatio,(l.position.y+30)*i.pixelDensityRatio),v.fillText("Row: "+l.y,(l.position.x+10)*i.pixelDensityRatio,(l.position.y+40)*i.pixelDensityRatio),v.fillText("Order: "+d+" of "+u,(l.position.x+10)*i.pixelDensityRatio,(l.position.y+50)*i.pixelDensityRatio),v.fillText("Size: "+l.size.toString(),(l.position.x+10)*i.pixelDensityRatio,(l.position.y+60)*i.pixelDensityRatio),v.fillText("Position: "+l.position.toString(),(l.position.x+10)*i.pixelDensityRatio,(l.position.y+70)*i.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),h.getRotation(!0)%360!==0&&this._restoreRotationChanges(),v.restore()}_drawPlaceholder(l){const u=l.getBounds(!0),d=this.viewportToDrawerRectangle(l.getBounds(!0)),h=this._outputContext;let c;typeof l.placeholderFillStyle=="function"?c=l.placeholderFillStyle(l,h):c=l.placeholderFillStyle,this._offsetForRotation({degrees:this.viewer.viewport.getRotation(!0)}),h.fillStyle=c,h.translate(d.x,d.y),h.rotate(Math.PI/180*u.degrees),h.translate(-d.x,-d.y),h.fillRect(d.x,d.y,d.width,d.height),this._restoreRotationChanges()}_getCanvasCenter(){return new i.Point(this.canvas.width/2,this.canvas.height/2)}_restoreRotationChanges(){var l=this._outputContext;l.restore()}static initShaderProgram(l,u,d){function h(y,w,_){const b=y.createShader(w);return y.shaderSource(b,_),y.compileShader(b),y.getShaderParameter(b,y.COMPILE_STATUS)?b:(i.console.error(`An error occurred compiling the shaders: ${y.getShaderInfoLog(b)}`),y.deleteShader(b),null)}const c=h(l,l.VERTEX_SHADER,u),g=h(l,l.FRAGMENT_SHADER,d),v=l.createProgram();return l.attachShader(v,c),l.attachShader(v,g),l.linkProgram(v),l.getProgramParameter(v,l.LINK_STATUS)?v:(i.console.error(`Unable to initialize the shader program: ${l.getProgramInfoLog(v)}`),null)}}}(p),function(i){i.Viewport=function(a){var s=arguments;s.length&&s[0]instanceof i.Point&&(a={containerSize:s[0],contentSize:s[1],config:s[2]}),a.config&&(i.extend(!0,a,a.config),delete a.config),this._margins=i.extend({left:0,top:0,right:0,bottom:0},a.margins||{}),delete a.margins,a.initialDegrees=a.degrees,delete a.degrees,i.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:i.DEFAULT_SETTINGS.springStiffness,animationTime:i.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:i.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:i.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:i.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:i.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:i.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:i.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:i.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:i.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:i.DEFAULT_SETTINGS.degrees,flipped:i.DEFAULT_SETTINGS.flipped,homeFillsViewer:i.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:i.DEFAULT_SETTINGS.silenceMultiImageWarnings},a),this._updateContainerInnerSize(),this.centerSpringX=new i.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new i.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new i.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new i.Spring({initial:a.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new i.Rect(0,0,1,1),1),this.goHome(!0),this.update()},i.Viewport.prototype={get degrees(){return i.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(a){i.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(a)},resetContentSize:function(a){return i.console.assert(a,"[Viewport.resetContentSize] contentSize is required"),i.console.assert(a instanceof i.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),i.console.assert(a.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),i.console.assert(a.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new i.Rect(0,0,1,a.y/a.x),a.x),this},setHomeBounds:function(a,s){i.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(a,s)},_setContentBounds:function(a,s){i.console.assert(a,"[Viewport._setContentBounds] bounds is required"),i.console.assert(a instanceof i.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),i.console.assert(a.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),i.console.assert(a.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=a.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(s),this._contentBounds=a.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(s),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:s,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var a=this._contentAspectRatio/this.getAspectRatio(),s;return this.homeFillsViewer?s=a>=1?a:1:s=a>=1?1:a,s/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var a=this._contentBounds.getCenter(),s=1/this.getHomeZoom(),l=s/this.getAspectRatio();return new i.Rect(a.x-s/2,a.y-l/2,s,l)},goHome:function(a){return this.viewer&&this.viewer.raiseEvent("home",{immediately:a}),this.fitBounds(this.getHomeBounds(),a)},getMinZoom:function(){var a=this.getHomeZoom(),s=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*a;return s},getMaxZoom:function(){var a=this.maxZoomLevel;return a||(a=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,a/=this._contentBounds.width),Math.max(a,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new i.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return i.extend({},this._margins)},setMargins:function(a){i.console.assert(i.type(a)==="object","[Viewport.setMargins] margins must be an object"),this._margins=i.extend({left:0,top:0,right:0,bottom:0},a),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(a){return this.getBoundsNoRotate(a).rotate(-this.getRotation(a))},getBoundsNoRotate:function(a){var s=this.getCenter(a),l=1/this.getZoom(a),u=l/this.getAspectRatio();return new i.Rect(s.x-l/2,s.y-u/2,l,u)},getBoundsWithMargins:function(a){return this.getBoundsNoRotateWithMargins(a).rotate(-this.getRotation(a),this.getCenter(a))},getBoundsNoRotateWithMargins:function(a){var s=this.getBoundsNoRotate(a),l=this._containerInnerSize.x*this.getZoom(a);return s.x-=this._margins.left/l,s.y-=this._margins.top/l,s.width+=(this._margins.left+this._margins.right)/l,s.height+=(this._margins.top+this._margins.bottom)/l,s},getCenter:function(a){var s=new i.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),l=new i.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),u,d,h,c,g,v,y,w;return a?s:this.zoomPoint?(u=this.pixelFromPoint(this.zoomPoint,!0),d=this.getZoom(),h=1/d,c=h/this.getAspectRatio(),g=new i.Rect(s.x-h/2,s.y-c/2,h,c),v=this._pixelFromPoint(this.zoomPoint,g),y=v.minus(u).rotate(-this.getRotation(!0)),w=y.divide(this._containerInnerSize.x*d),l.plus(w)):l},getZoom:function(a){return a?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(a){return Math.max(Math.min(a,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(a){var s=this.viewportToViewerElementRectangle(a).getBoundingBox(),l=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),u=!1,d=!1;if(!this.wrapHorizontal){var h=s.x+s.width,c=l.x+l.width,g,v,y;s.width>l.width?g=this.visibilityRatio*l.width:g=this.visibilityRatio*s.width,v=l.x-h+g,y=c-s.x-g,g>l.width?(s.x+=(v+y)/2,u=!0):y<0?(s.x+=y,u=!0):v>0&&(s.x+=v,u=!0)}if(!this.wrapVertical){var w=s.y+s.height,_=l.y+l.height,b,D,A;s.height>l.height?b=this.visibilityRatio*l.height:b=this.visibilityRatio*s.height,D=l.y-w+b,A=_-s.y-b,b>l.height?(s.y+=(D+A)/2,d=!0):A<0?(s.y+=A,d=!0):D>0&&(s.y+=D,d=!0)}var L=u||d,j=L?this.viewerElementToViewportRectangle(s):a.clone();return j.xConstrained=u,j.yConstrained=d,j.constraintApplied=L,j},_raiseConstraintsEvent:function(a){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:a})},applyConstraints:function(a){var s=this.getZoom(),l=this._applyZoomConstraints(s);s!==l&&this.zoomTo(l,this.zoomPoint,a);var u=this.getConstrainedBounds(!1);return u.constraintApplied&&(this.fitBounds(u,a),this._raiseConstraintsEvent(a)),this},ensureVisible:function(a){return this.applyConstraints(a)},_fitBounds:function(a,s){s=s||{};var l=s.immediately||!1,u=s.constraints||!1,d=this.getAspectRatio(),h=a.getCenter(),c=new i.Rect(a.x,a.y,a.width,a.height,a.degrees+this.getRotation()).getBoundingBox();c.getAspectRatio()>=d?c.height=c.width/d:c.width=c.height*d,c.x=h.x-c.width/2,c.y=h.y-c.height/2;var g=1/c.width;if(l)return this.panTo(h,!0),this.zoomTo(g,null,!0),u&&this.applyConstraints(!0),this;var v=this.getCenter(!0),y=this.getZoom(!0);this.panTo(v,!0),this.zoomTo(y,null,!0);var w=this.getBounds(),_=this.getZoom();if(_===0||Math.abs(g/_-1)<1e-8)return this.zoomTo(g,null,!0),this.panTo(h,l),u&&this.applyConstraints(!1),this;if(u){this.panTo(h,!1),g=this._applyZoomConstraints(g),this.zoomTo(g,null,!1);var b=this.getConstrainedBounds();this.panTo(v,!0),this.zoomTo(y,null,!0),this.fitBounds(b)}else{var D=c.rotate(-this.getRotation()),A=D.getTopLeft().times(g).minus(w.getTopLeft().times(_)).divide(g-_);this.zoomTo(g,A,l)}return this},fitBounds:function(a,s){return this._fitBounds(a,{immediately:s,constraints:!1})},fitBoundsWithConstraints:function(a,s){return this._fitBounds(a,{immediately:s,constraints:!0})},fitVertically:function(a){var s=new i.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(s,a)},fitHorizontally:function(a){var s=new i.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(s,a)},getConstrainedBounds:function(a){var s,l;return s=this.getBounds(a),l=this._applyBoundaryConstraints(s),l},panBy:function(a,s){var l=new i.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(l.plus(a),s)},panTo:function(a,s){return s?(this.centerSpringX.resetTo(a.x),this.centerSpringY.resetTo(a.y)):(this.centerSpringX.springTo(a.x),this.centerSpringY.springTo(a.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:a,immediately:s}),this},zoomBy:function(a,s,l){return this.zoomTo(this.zoomSpring.target.value*a,s,l)},zoomTo:function(a,s,l){var u=this;return this.zoomPoint=s instanceof i.Point&&!isNaN(s.x)&&!isNaN(s.y)?s:null,l?this._adjustCenterSpringsForZoomPoint(function(){u.zoomSpring.resetTo(a)}):this.zoomSpring.springTo(a),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:a,refPoint:s,immediately:l}),this},setRotation:function(a,s){return this.rotateTo(a,null,s)},getRotation:function(a){return a?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(a,s,l){return this.rotateTo(a,s,l)},rotateTo:function(a,s,l){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(this.degreesSpring.target.value===a&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=s instanceof i.Point&&!isNaN(s.x)&&!isNaN(s.y)?s:null,l)if(this.rotationPivot){var u=a-this._oldDegrees;if(!u)return this.rotationPivot=null,this;this._rotateAboutPivot(a)}else this.degreesSpring.resetTo(a);else{var d=i.positiveModulo(this.degreesSpring.current.value,360),h=i.positiveModulo(a,360),c=h-d;c>180?h-=360:c<-180&&(h+=360);var g=d-h;this.degreesSpring.resetTo(a+g),this.degreesSpring.springTo(a)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:a,immediately:!!l,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(a,s,l){return this.rotateTo(this.degreesSpring.target.value+a,s,l)},resize:function(a,s){var l=this.getBoundsNoRotate(),u=l,d;this.containerSize.x=a.x,this.containerSize.y=a.y,this._updateContainerInnerSize(),s&&(d=a.x/this.containerSize.x,u.width=l.width*d,u.height=u.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:a,maintain:s});var h=this.fitBounds(u,!0);return this.viewer&&this.viewer.raiseEvent("after-resize",{newContainerSize:a,maintain:s}),h},_updateContainerInnerSize:function(){this._containerInnerSize=new i.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var a=this;this._adjustCenterSpringsForZoomPoint(function(){a.zoomSpring.update()}),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var s=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value;var l=s||!this.zoomSpring.isAtTargetValue()||!this.centerSpringX.isAtTargetValue()||!this.centerSpringY.isAtTargetValue()||!this.degreesSpring.isAtTargetValue();return l},_rotateAboutPivot:function(a){var s=a===!0,l=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(l.x),this.centerSpringY.shiftBy(l.y),s?this.degreesSpring.update():this.degreesSpring.resetTo(a);var u=this.degreesSpring.current.value-this._oldDegrees,d=l.rotate(u*-1).times(-1);this.centerSpringX.shiftBy(d.x),this.centerSpringY.shiftBy(d.y)},_adjustCenterSpringsForZoomPoint:function(a){if(this.zoomPoint){var s=this.pixelFromPoint(this.zoomPoint,!0);a();var l=this.pixelFromPoint(this.zoomPoint,!0),u=l.minus(s),d=this.deltaPointsFromPixels(u,!0);this.centerSpringX.shiftBy(d.x),this.centerSpringY.shiftBy(d.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else a()},deltaPixelsFromPointsNoRotate:function(a,s){return a.times(this._containerInnerSize.x*this.getZoom(s))},deltaPixelsFromPoints:function(a,s){return this.deltaPixelsFromPointsNoRotate(a.rotate(this.getRotation(s)),s)},deltaPointsFromPixelsNoRotate:function(a,s){return a.divide(this._containerInnerSize.x*this.getZoom(s))},deltaPointsFromPixels:function(a,s){return this.deltaPointsFromPixelsNoRotate(a,s).rotate(-this.getRotation(s))},pixelFromPointNoRotate:function(a,s){return this._pixelFromPointNoRotate(a,this.getBoundsNoRotate(s))},pixelFromPoint:function(a,s){return this._pixelFromPoint(a,this.getBoundsNoRotate(s))},_pixelFromPointNoRotate:function(a,s){return a.minus(s.getTopLeft()).times(this._containerInnerSize.x/s.width).plus(new i.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(a,s){return this._pixelFromPointNoRotate(a.rotate(this.getRotation(!0),this.getCenter(!0)),s)},pointFromPixelNoRotate:function(a,s){var l=this.getBoundsNoRotate(s);return a.minus(new i.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/l.width).plus(l.getTopLeft())},pointFromPixel:function(a,s){return this.pointFromPixelNoRotate(a,s).rotate(-this.getRotation(s),this.getCenter(s))},_viewportToImageDelta:function(a,s){var l=this._contentBoundsNoRotate.width;return new i.Point(a*this._contentSizeNoRotate.x/l,s*this._contentSizeNoRotate.x/l)},viewportToImageCoordinates:function(a,s){if(a instanceof i.Point)return this.viewportToImageCoordinates(a.x,a.y);if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||i.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(l===1){var u=this.viewer.world.getItemAt(0);return u.viewportToImageCoordinates(a,s,!0)}}return this._viewportToImageDelta(a-this._contentBoundsNoRotate.x,s-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(a,s){var l=this._contentBoundsNoRotate.width;return new i.Point(a/this._contentSizeNoRotate.x*l,s/this._contentSizeNoRotate.x*l)},imageToViewportCoordinates:function(a,s){if(a instanceof i.Point)return this.imageToViewportCoordinates(a.x,a.y);if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||i.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(l===1){var u=this.viewer.world.getItemAt(0);return u.imageToViewportCoordinates(a,s,!0)}}var d=this._imageToViewportDelta(a,s);return d.x+=this._contentBoundsNoRotate.x,d.y+=this._contentBoundsNoRotate.y,d},imageToViewportRectangle:function(a,s,l,u){var d=a;if(d instanceof i.Rect||(d=new i.Rect(a,s,l,u)),this.viewer){var h=this.viewer.world.getItemCount();if(h>1)this.silenceMultiImageWarnings||i.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(h===1){var c=this.viewer.world.getItemAt(0);return c.imageToViewportRectangle(a,s,l,u,!0)}}var g=this.imageToViewportCoordinates(d.x,d.y),v=this._imageToViewportDelta(d.width,d.height);return new i.Rect(g.x,g.y,v.x,v.y,d.degrees)},viewportToImageRectangle:function(a,s,l,u){var d=a;if(d instanceof i.Rect||(d=new i.Rect(a,s,l,u)),this.viewer){var h=this.viewer.world.getItemCount();if(h>1)this.silenceMultiImageWarnings||i.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(h===1){var c=this.viewer.world.getItemAt(0);return c.viewportToImageRectangle(a,s,l,u,!0)}}var g=this.viewportToImageCoordinates(d.x,d.y),v=this._viewportToImageDelta(d.width,d.height);return new i.Rect(g.x,g.y,v.x,v.y,d.degrees)},viewerElementToImageCoordinates:function(a){var s=this.pointFromPixel(a,!0);return this.viewportToImageCoordinates(s)},imageToViewerElementCoordinates:function(a){var s=this.imageToViewportCoordinates(a);return this.pixelFromPoint(s,!0)},windowToImageCoordinates:function(a){i.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var s=a.minus(i.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(s)},imageToWindowCoordinates:function(a){i.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var s=this.imageToViewerElementCoordinates(a);return s.plus(i.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(a){return this.pointFromPixel(a,!0)},viewportToViewerElementCoordinates:function(a){return this.pixelFromPoint(a,!0)},viewerElementToViewportRectangle:function(a){return i.Rect.fromSummits(this.pointFromPixel(a.getTopLeft(),!0),this.pointFromPixel(a.getTopRight(),!0),this.pointFromPixel(a.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(a){return i.Rect.fromSummits(this.pixelFromPoint(a.getTopLeft(),!0),this.pixelFromPoint(a.getTopRight(),!0),this.pixelFromPoint(a.getBottomLeft(),!0))},windowToViewportCoordinates:function(a){i.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var s=a.minus(i.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(s)},viewportToWindowCoordinates:function(a){i.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var s=this.viewportToViewerElementCoordinates(a);return s.plus(i.getElementPosition(this.viewer.element))},viewportToImageZoom:function(a){if(this.viewer){var s=this.viewer.world.getItemCount();if(s>1)this.silenceMultiImageWarnings||i.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(s===1){var l=this.viewer.world.getItemAt(0);return l.viewportToImageZoom(a)}}var u=this._contentSizeNoRotate.x,d=this._containerInnerSize.x,h=this._contentBoundsNoRotate.width,c=d/u*h;return a*c},imageToViewportZoom:function(a){if(this.viewer){var s=this.viewer.world.getItemCount();if(s>1)this.silenceMultiImageWarnings||i.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image. Instead, use [TiledImage.imageToViewportZoom] for the specific image of interest");else if(s===1){var l=this.viewer.world.getItemAt(0);return l.imageToViewportZoom(a)}}var u=this._contentSizeNoRotate.x,d=this._containerInnerSize.x,h=this._contentBoundsNoRotate.width,c=u/d/h;return a*c},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(a){return this.flipped===a?this:(this.flipped=a,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:a}),this)},getMaxZoomPixelRatio:function(){return this.maxZoomPixelRatio},setMaxZoomPixelRatio:function(a,s=!0,l=!1){i.console.assert(!isNaN(a),"[Viewport.setMaxZoomPixelRatio] ratio must be a number"),!isNaN(a)&&(this.maxZoomPixelRatio=a,s&&this.getZoom()>this.getMaxZoom()&&this.applyConstraints(l))}}}(p),function(i){i.TiledImage=function(a){this._initialized=!1,i.console.assert(a.tileCache,"[TiledImage] options.tileCache is required"),i.console.assert(a.drawer,"[TiledImage] options.drawer is required"),i.console.assert(a.viewer,"[TiledImage] options.viewer is required"),i.console.assert(a.imageLoader,"[TiledImage] options.imageLoader is required"),i.console.assert(a.source,"[TiledImage] options.source is required"),i.console.assert(!a.clip||a.clip instanceof i.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),i.EventSource.call(this),this._tileCache=a.tileCache,delete a.tileCache,this._drawer=a.drawer,delete a.drawer,this._imageLoader=a.imageLoader,delete a.imageLoader,a.clip instanceof i.Rect&&(this._clip=a.clip.clone()),delete a.clip;var s=a.x||0;delete a.x;var l=a.y||0;delete a.y,this.normHeight=a.source.dimensions.y/a.source.dimensions.x,this.contentAspectX=a.source.dimensions.x/a.source.dimensions.y;var u=1;a.width?(u=a.width,delete a.width,a.height&&(i.console.error("specifying both width and height to a tiledImage is not supported"),delete a.height)):a.height&&(u=a.height/this.normHeight,delete a.height);var d=a.fitBounds;delete a.fitBounds;var h=a.fitBoundsPlacement||p.Placement.CENTER;delete a.fitBoundsPlacement;var c=a.degrees||0;delete a.degrees;var g=a.ajaxHeaders;delete a.ajaxHeaders,i.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_needsDraw:!0,_needsUpdate:!0,_hasOpaqueTile:!1,_tilesLoading:0,_tilesToDraw:[],_lastDrawn:[],_isBlending:!1,_wasBlending:!1,_isTainted:!1,springStiffness:i.DEFAULT_SETTINGS.springStiffness,animationTime:i.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:i.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:i.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:i.DEFAULT_SETTINGS.wrapVertical,immediateRender:i.DEFAULT_SETTINGS.immediateRender,blendTime:i.DEFAULT_SETTINGS.blendTime,alwaysBlend:i.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:i.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:i.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:i.DEFAULT_SETTINGS.iOSDevice,debugMode:i.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:i.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:i.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:i.DEFAULT_SETTINGS.placeholderFillStyle,opacity:i.DEFAULT_SETTINGS.opacity,preload:i.DEFAULT_SETTINGS.preload,compositeOperation:i.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:i.DEFAULT_SETTINGS.subPixelRoundingForTransparency,maxTilesPerFrame:i.DEFAULT_SETTINGS.maxTilesPerFrame},a),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new i.Spring({initial:s,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new i.Spring({initial:l,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new i.Spring({initial:u,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new i.Spring({initial:c,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),d&&this.fitBounds(d,h,!0),this._ownAjaxHeaders={},this.setAjaxHeaders(g,!1),this._initialized=!0},i.extend(i.TiledImage.prototype,i.EventSource.prototype,{needsDraw:function(){return this._needsDraw},redraw:function(){this._needsDraw=!0},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(a){a!==this._fullyLoaded&&(this._fullyLoaded=a,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=i.now(),this._needsDraw=!0},update:function(a){let s=this._xSpring.update(),l=this._ySpring.update(),u=this._scaleSpring.update(),d=this._degreesSpring.update(),h=s||l||u||d||this._needsUpdate;if(h||a||!this._fullyLoaded){let c=this._updateLevelsForViewport();this._setFullyLoaded(c)}return this._needsUpdate=!1,h?(this._updateForScale(),this._raiseBoundsChange(),this._needsDraw=!0,!0):!1},setDrawn:function(){return this._needsDraw=this._isBlending||this._wasBlending,this._needsDraw},setTainted(a){this._isTainted=a},isTainted(){return this._isTainted},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy(this.viewer)},getBounds:function(a){return this.getBoundsNoRotate(a).rotate(this.getRotation(a),this._getRotationPoint(a))},getBoundsNoRotate:function(a){return a?new i.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new i.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return i.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(a){var s=this.getBoundsNoRotate(a);if(this._clip){var l=a?this._worldWidthCurrent:this._worldWidthTarget,u=l/this.source.dimensions.x,d=this._clip.times(u);s=new i.Rect(s.x+d.x,s.y+d.y,d.width,d.height)}return s.rotate(this.getRotation(a),this._getRotationPoint(a))},getTileBounds:function(a,s,l){var u=this.source.getNumTiles(a),d=(u.x+s%u.x)%u.x,h=(u.y+l%u.y)%u.y,c=this.source.getTileBounds(a,d,h);return this.getFlip()&&(c.x=Math.max(0,1-c.x-c.width)),c.x+=(s-d)/u.x,c.y+=this._worldHeightCurrent/this._worldWidthCurrent*((l-h)/u.y),c},getContentSize:function(){return new i.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var a=this.imageToWindowCoordinates(new i.Point(0,0)),s=this.imageToWindowCoordinates(this.getContentSize());return new i.Point(s.x-a.x,s.y-a.y)},_viewportToImageDelta:function(a,s,l){var u=l?this._scaleSpring.current.value:this._scaleSpring.target.value;return new i.Point(a*(this.source.dimensions.x/u),s*(this.source.dimensions.y*this.contentAspectX/u))},viewportToImageCoordinates:function(a,s,l){var u;return a instanceof i.Point?(l=s,u=a):u=new i.Point(a,s),u=u.rotate(-this.getRotation(l),this._getRotationPoint(l)),l?this._viewportToImageDelta(u.x-this._xSpring.current.value,u.y-this._ySpring.current.value):this._viewportToImageDelta(u.x-this._xSpring.target.value,u.y-this._ySpring.target.value)},_imageToViewportDelta:function(a,s,l){var u=l?this._scaleSpring.current.value:this._scaleSpring.target.value;return new i.Point(a/this.source.dimensions.x*u,s/this.source.dimensions.y/this.contentAspectX*u)},imageToViewportCoordinates:function(a,s,l){a instanceof i.Point&&(l=s,s=a.y,a=a.x);var u=this._imageToViewportDelta(a,s,l);return l?(u.x+=this._xSpring.current.value,u.y+=this._ySpring.current.value):(u.x+=this._xSpring.target.value,u.y+=this._ySpring.target.value),u.rotate(this.getRotation(l),this._getRotationPoint(l))},imageToViewportRectangle:function(a,s,l,u,d){var h=a;h instanceof i.Rect?d=s:h=new i.Rect(a,s,l,u);var c=this.imageToViewportCoordinates(h.getTopLeft(),d),g=this._imageToViewportDelta(h.width,h.height,d);return new i.Rect(c.x,c.y,g.x,g.y,h.degrees+this.getRotation(d))},viewportToImageRectangle:function(a,s,l,u,d){var h=a;a instanceof i.Rect?d=s:h=new i.Rect(a,s,l,u);var c=this.viewportToImageCoordinates(h.getTopLeft(),d),g=this._viewportToImageDelta(h.width,h.height,d);return new i.Rect(c.x,c.y,g.x,g.y,h.degrees-this.getRotation(d))},viewerElementToImageCoordinates:function(a){var s=this.viewport.pointFromPixel(a,!0);return this.viewportToImageCoordinates(s)},imageToViewerElementCoordinates:function(a){var s=this.imageToViewportCoordinates(a);return this.viewport.pixelFromPoint(s,!0)},windowToImageCoordinates:function(a){var s=a.minus(p.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(s)},imageToWindowCoordinates:function(a){var s=this.imageToViewerElementCoordinates(a);return s.plus(p.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(a){var s=this._scaleSpring.current.value;return a=a.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new i.Rect((a.x-this._xSpring.current.value)/s,(a.y-this._ySpring.current.value)/s,a.width/s,a.height/s,a.degrees)},viewportToImageZoom:function(a){var s=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return s*a},imageToViewportZoom:function(a){var s=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return a/s},setPosition:function(a,s){var l=this._xSpring.target.value===a.x&&this._ySpring.target.value===a.y;if(s){if(l&&this._xSpring.current.value===a.x&&this._ySpring.current.value===a.y)return;this._xSpring.resetTo(a.x),this._ySpring.resetTo(a.y),this._needsDraw=!0,this._needsUpdate=!0}else{if(l)return;this._xSpring.springTo(a.x),this._ySpring.springTo(a.y),this._needsDraw=!0,this._needsUpdate=!0}l||this._raiseBoundsChange()},setWidth:function(a,s){this._setScale(a,s)},setHeight:function(a,s){this._setScale(a/this.normHeight,s)},setCroppingPolygons:function(a){var s=function(u){return u instanceof i.Point||typeof u.x=="number"&&typeof u.y=="number"},l=function(u){return u.map(function(d){try{if(s(d))return{x:d.x,y:d.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!i.isArray(a))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=a.map(function(u){return l(u)}),this._needsDraw=!0}catch(u){i.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),i.console.error(u),this.resetCroppingPolygons()}},resetCroppingPolygons:function(){this._croppingPolygons=null,this._needsDraw=!0},fitBounds:function(a,s,l){s=s||i.Placement.CENTER;var u=i.Placement.properties[s],d=this.contentAspectX,h=0,c=0,g=1,v=1;if(this._clip&&(d=this._clip.getAspectRatio(),g=this._clip.width/this.source.dimensions.x,v=this._clip.height/this.source.dimensions.y,a.getAspectRatio()>d?(h=this._clip.x/this._clip.height*a.height,c=this._clip.y/this._clip.height*a.height):(h=this._clip.x/this._clip.width*a.width,c=this._clip.y/this._clip.width*a.width)),a.getAspectRatio()>d){var y=a.height/v,w=0;u.isHorizontallyCentered?w=(a.width-a.height*d)/2:u.isRight&&(w=a.width-a.height*d),this.setPosition(new i.Point(a.x-h+w,a.y-c),l),this.setHeight(y,l)}else{var _=a.width/g,b=0;u.isVerticallyCentered?b=(a.height-a.width/d)/2:u.isBottom&&(b=a.height-a.width/d),this.setPosition(new i.Point(a.x-h,a.y-c+b),l),this.setWidth(_,l)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(a){i.console.assert(!a||a instanceof i.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),a instanceof i.Rect?this._clip=a.clone():this._clip=null,this._needsUpdate=!0,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return this.flipped},setFlip:function(a){this.flipped=a},get flipped(){return this._flipped},set flipped(a){let s=this._flipped!==!!a;this._flipped=!!a,s&&(this.update(!0),this._needsDraw=!0,this._raiseBoundsChange())},get wrapHorizontal(){return this._wrapHorizontal},set wrapHorizontal(a){let s=this._wrapHorizontal!==!!a;this._wrapHorizontal=!!a,this._initialized&&s&&(this.update(!0),this._needsDraw=!0)},get wrapVertical(){return this._wrapVertical},set wrapVertical(a){let s=this._wrapVertical!==!!a;this._wrapVertical=!!a,this._initialized&&s&&(this.update(!0),this._needsDraw=!0)},get debugMode(){return this._debugMode},set debugMode(a){this._debugMode=!!a,this._needsDraw=!0},getOpacity:function(){return this.opacity},setOpacity:function(a){this.opacity=a},get opacity(){return this._opacity},set opacity(a){a!==this.opacity&&(this._opacity=a,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(a){this._preload=!!a,this._needsDraw=!0},getRotation:function(a){return a?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(a,s){this._degreesSpring.target.value===a&&this._degreesSpring.isAtTargetValue()||(s?this._degreesSpring.resetTo(a):this._degreesSpring.springTo(a),this._needsDraw=!0,this._needsUpdate=!0,this._raiseBoundsChange())},getDrawArea:function(){if(this._opacity===0&&!this._preload)return!1;var a=this._viewportToTiledImageRectangle(this.viewport.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var s=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));a=a.intersection(s)}return a},getTilesToDraw:function(){let a=this._tilesToDraw.flat();return this._updateTilesInViewport(a),a=this._tilesToDraw.flat(),a.forEach(s=>{s.tile.beingDrawn=!0}),this._lastDrawn=a,a},_getRotationPoint:function(a){return this.getBoundsNoRotate(a).getCenter()},get compositeOperation(){return this._compositeOperation},set compositeOperation(a){a!==this._compositeOperation&&(this._compositeOperation=a,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this._compositeOperation}))},getCompositeOperation:function(){return this._compositeOperation},setCompositeOperation:function(a){this.compositeOperation=a},setAjaxHeaders:function(a,s){if(a===null&&(a={}),!i.isPlainObject(a)){console.error("[TiledImage.setAjaxHeaders] Ignoring invalid headers, must be a plain object");return}this._ownAjaxHeaders=a,this._updateAjaxHeaders(s)},_updateAjaxHeaders:function(a){if(a===void 0&&(a=!0),i.isPlainObject(this.viewer.ajaxHeaders)?this.ajaxHeaders=i.extend({},this.viewer.ajaxHeaders,this._ownAjaxHeaders):this.ajaxHeaders=this._ownAjaxHeaders,a){var s,l,u,d;for(var h in this.tilesMatrix){s=this.source.getNumTiles(h);for(var c in this.tilesMatrix[h]){l=(s.x+c%s.x)%s.x;for(var g in this.tilesMatrix[h][c])if(u=(s.y+g%s.y)%s.y,d=this.tilesMatrix[h][c][g],d.loadWithAjax=this.loadTilesWithAjax,d.loadWithAjax){var v=this.source.getTileAjaxHeaders(h,l,u);d.ajaxHeaders=i.extend({},this.ajaxHeaders,v)}else d.ajaxHeaders=null}}for(var y=0;y<this._imageLoader.jobQueue.length;y++){var w=this._imageLoader.jobQueue[y];w.loadWithAjax=w.tile.loadWithAjax,w.ajaxHeaders=w.tile.loadWithAjax?w.tile.ajaxHeaders:null}}},_setScale:function(a,s){var l=this._scaleSpring.target.value===a;if(s){if(l&&this._scaleSpring.current.value===a)return;this._scaleSpring.resetTo(a),this._updateForScale(),this._needsDraw=!0,this._needsUpdate=!0}else{if(l)return;this._scaleSpring.springTo(a),this._updateForScale(),this._needsDraw=!0,this._needsUpdate=!0}l||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var a=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),s=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,l=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(s/this.minPixelRatio)/Math.log(2))));return l=Math.max(l,this.source.minLevel||0),a=Math.min(a,l),{lowestLevel:a,highestLevel:l}},_updateLevelsForViewport:function(){var a=this._getLevelsInterval(),s=a.lowestLevel,l=a.highestLevel,u=[],d=this.getDrawArea(),h=i.now();if(this._lastDrawn.forEach(I=>{I.tile.beingDrawn=!1}),this._tilesToDraw=[],this._tilesLoading=0,this.loadingCoverage={},!d)return this._needsDraw=!1,this._fullyLoaded;var c=new Array(l-s+1);for(let I=0,N=l;N>=s;N--,I++)c[I]=N;for(let I=l+1;I<=this.source.maxLevel;I++){var g=this.tilesMatrix[I]&&this.tilesMatrix[I][0]&&this.tilesMatrix[I][0][0];if(g&&g.isBottomMost&&g.isRightMost&&g.loaded){c.push(I);break}}let v=!1;for(let I=0;I<c.length;I++){let N=c[I];var y=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(N),!0).x*this._scaleSpring.current.value;if(I===c.length-1||y>=this.minPixelRatio)v=!0;else if(!v)continue;var w=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(N),!1).x*this._scaleSpring.current.value,_=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,b=this.immediateRender?1:_,D=Math.min(1,(y-.5)/.5),A=b/Math.abs(b-w),L=this._updateLevel(N,D,A,d,h,u);u=L.bestTiles;var j=L.updatedTiles.filter(he=>he.loaded),ae=function(he,pe,fe){return function(ke){return{tile:ke,level:he,levelOpacity:pe,currentTime:fe}}}(N,D,h);if(this._tilesToDraw[N]=j.map(ae),this._providesCoverage(this.coverage,N))break}return u&&u.length>0?(u.forEach(function(I){I&&!I.context2D&&this._loadTile(I,h)},this),this._needsDraw=!0,!1):this._tilesLoading===0},_updateTilesInViewport:function(a){let s=i.now(),l=this;this._tilesLoading=0,this._wasBlending=this._isBlending,this._isBlending=!1,this.loadingCoverage={};let u=a.length?a[0].level:0;if(!this.getDrawArea())return;function h(g){let v=g.tile;if(v&&v.loaded){let y=l._blendTile(v,v.x,v.y,g.level,g.levelOpacity,s,u);l._isBlending=l._isBlending||y,l._needsDraw=l._needsDraw||y||l._wasBlending}}let c=0;for(let g=0;g<a.length;g++){let v=a[g];h(v),this._providesCoverage(this.coverage,v.level)&&(c=Math.max(c,v.level))}if(c>0)for(let g in this._tilesToDraw)g<c&&delete this._tilesToDraw[g]},_blendTile:function(a,s,l,u,d,h,c){let g=1e3*this.blendTime,v,y;return a.blendStart||(a.blendStart=h),v=h-a.blendStart,y=g?Math.min(1,v/g):1,u===c&&(y=1,v=g),this.alwaysBlend&&(y*=d),a.opacity=y,y===1&&(this._setCoverage(this.coverage,u,s,l,!0),this._hasOpaqueTile=!0),v<g},_updateLevel:function(a,s,l,u,d,h){var c=u.getBoundingBox().getTopLeft(),g=u.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:!0,level:a,opacity:s,visibility:l,drawArea:u,topleft:c,bottomright:g,currenttime:d,best:h}),this._resetCoverage(this.coverage,a),this._resetCoverage(this.loadingCoverage,a);var v=this._getCornerTiles(a,c,g),y=v.topLeft,w=v.bottomRight,_=this.source.getNumTiles(a),b=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(w.x+=1,this.wrapHorizontal||(w.x=Math.min(w.x,_.x-1)));for(var D=Math.max(0,(w.x-y.x)*(w.y-y.y)),A=new Array(D),L=0,j=y.x;j<=w.x;j++)for(var ae=y.y;ae<=w.y;ae++){var I;if(this.getFlip()){var N=(_.x+j%_.x)%_.x;I=j+_.x-N-N-1}else I=j;if(u.intersection(this.getTileBounds(a,I,ae))!==null){var he=this._updateTile(I,ae,a,l,b,_,d,h);h=he.bestTiles,A[L]=he.tile,L+=1}}return{bestTiles:h,updatedTiles:A}},_positionTile:function(a,s,l,u,d){var h=a.bounds.getTopLeft();h.x*=this._scaleSpring.current.value,h.y*=this._scaleSpring.current.value,h.x+=this._xSpring.current.value,h.y+=this._ySpring.current.value;var c=a.bounds.getSize();c.x*=this._scaleSpring.current.value,c.y*=this._scaleSpring.current.value,a.positionedBounds.x=h.x,a.positionedBounds.y=h.y,a.positionedBounds.width=c.x,a.positionedBounds.height=c.y;var g=l.pixelFromPointNoRotate(h,!0),v=l.pixelFromPointNoRotate(h,!1),y=l.deltaPixelsFromPointsNoRotate(c,!0),w=l.deltaPixelsFromPointsNoRotate(c,!1),_=v.plus(w.divide(2)),b=u.squaredDistanceTo(_);this.viewer.drawer.minimumOverlapRequired(this)&&(s||(y=y.plus(new i.Point(1,1))),a.isRightMost&&this.wrapHorizontal&&(y.x+=.75),a.isBottomMost&&this.wrapVertical&&(y.y+=.75)),a.position=g,a.size=y,a.squaredDistance=b,a.visibility=d},_updateTile:function(a,s,l,u,d,h,c,g){var v=this._getTile(a,s,l,c,h);this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:v}),this._setCoverage(this.coverage,l,a,s,!1);var y=v.loaded||v.loading||this._isCovered(this.loadingCoverage,l,a,s);if(this._setCoverage(this.loadingCoverage,l,a,s,y),!v.exists)return{bestTiles:g,tile:v};if(v.loaded&&v.opacity===1&&this._setCoverage(this.coverage,l,a,s,!0),this._positionTile(v,this.source.tileOverlap,this.viewport,d,u),!v.loaded)if(v.context2D)this._setTileLoaded(v);else{var w=this._tileCache.getImageRecord(v.cacheKey);w&&this._setTileLoaded(v,w.getData())}return v.loading?this._tilesLoading++:y||(g=this._compareTiles(g,v,this.maxTilesPerFrame)),{bestTiles:g,tile:v}},_getCornerTiles:function(a,s,l){var u,d;this.wrapHorizontal?(u=i.positiveModulo(s.x,1),d=i.positiveModulo(l.x,1)):(u=Math.max(0,s.x),d=Math.min(1,l.x));var h,c,g=1/this.source.aspectRatio;this.wrapVertical?(h=i.positiveModulo(s.y,g),c=i.positiveModulo(l.y,g)):(h=Math.max(0,s.y),c=Math.min(g,l.y));var v=this.source.getTileAtPoint(a,new i.Point(u,h)),y=this.source.getTileAtPoint(a,new i.Point(d,c)),w=this.source.getNumTiles(a);return this.wrapHorizontal&&(v.x+=w.x*Math.floor(s.x),y.x+=w.x*Math.floor(l.x)),this.wrapVertical&&(v.y+=w.y*Math.floor(s.y/g),y.y+=w.y*Math.floor(l.y/g)),{topLeft:v,bottomRight:y}},_getTile:function(a,s,l,u,d){var h,c,g,v,y,w,_,b,D,A,L=this.tilesMatrix,j=this.source;return L[l]||(L[l]={}),L[l][a]||(L[l][a]={}),(!L[l][a][s]||!L[l][a][s].flipped!=!this.flipped)&&(h=(d.x+a%d.x)%d.x,c=(d.y+s%d.y)%d.y,g=this.getTileBounds(l,a,s),v=j.getTileBounds(l,h,c,!0),y=j.tileExists(l,h,c),w=j.getTileUrl(l,h,c),_=j.getTilePostData(l,h,c),this.loadTilesWithAjax?(b=j.getTileAjaxHeaders(l,h,c),i.isPlainObject(this.ajaxHeaders)&&(b=i.extend({},this.ajaxHeaders,b))):b=null,D=j.getContext2D?j.getContext2D(l,h,c):void 0,A=new i.Tile(l,a,s,g,y,w,D,this.loadTilesWithAjax,b,v,_,j.getTileHashKey(l,h,c,w,b,_)),this.getFlip()?h===0&&(A.isRightMost=!0):h===d.x-1&&(A.isRightMost=!0),c===d.y-1&&(A.isBottomMost=!0),A.flipped=this.flipped,L[l][a][s]=A),A=L[l][a][s],A.lastTouchTime=u,A},_loadTile:function(a,s){var l=this;a.loading=!0,this._imageLoader.addJob({src:a.getUrl(),tile:a,source:this.source,postData:a.postData,loadWithAjax:a.loadWithAjax,ajaxHeaders:a.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(u,d,h){l._onTileLoad(a,s,u,d,h)},abort:function(){a.loading=!1}})},_onTileLoad:function(a,s,l,u,d){if(l)a.exists=!0;else{i.console.error("Tile %s failed to load: %s - error: %s",a,a.getUrl(),u),this.viewer.raiseEvent("tile-load-failed",{tile:a,tiledImage:this,time:s,message:u,tileRequest:d}),a.loading=!1,a.exists=!1;return}if(s<this.lastResetTime){i.console.warn("Ignoring tile %s loaded before reset: %s",a,a.getUrl()),a.loading=!1;return}var h=this,c=function(){var g=h.source,v=g.getClosestLevel();h._setTileLoaded(a,l,v,d)};c()},_setTileLoaded:function(a,s,l,u){var d=0,h=!1,c=this;function g(){return h&&i.console.error("Event 'tile-loaded' argument getCompletionCallback must be called synchronously. Its return value should be called asynchronously."),d++,v}function v(){d--,d===0&&(a.loading=!1,a.loaded=!0,a.hasTransparency=c.source.hasTransparency(a.context2D,a.getUrl(),a.ajaxHeaders,a.postData),a.context2D||c._tileCache.cacheTile({data:s,tile:a,cutoff:l,tiledImage:c}),c.viewer.raiseEvent("tile-ready",{tile:a,tiledImage:c,tileRequest:u}),c._needsDraw=!0)}var y=g();this.viewer.raiseEvent("tile-loaded",{tile:a,tiledImage:this,tileRequest:u,get image(){return i.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),s},data:s,getCompletionCallback:g}),h=!0,y()},_compareTiles:function(a,s,l){return a?(a.push(s),this._sortTiles(a),a.length>l&&a.pop(),a):[s]},_sortTiles:function(a){a.sort(function(s,l){return s===null?1:l===null?-1:s.visibility===l.visibility?s.squaredDistance-l.squaredDistance:l.visibility-s.visibility})},_providesCoverage:function(a,s,l,u){var d,h,c,g;if(!a[s])return!1;if(l===void 0||u===void 0){d=a[s];for(c in d)if(Object.prototype.hasOwnProperty.call(d,c)){h=d[c];for(g in h)if(Object.prototype.hasOwnProperty.call(h,g)&&!h[g])return!1}return!0}return a[s][l]===void 0||a[s][l][u]===void 0||a[s][l][u]===!0},_isCovered:function(a,s,l,u){return l===void 0||u===void 0?this._providesCoverage(a,s+1):this._providesCoverage(a,s+1,2*l,2*u)&&this._providesCoverage(a,s+1,2*l,2*u+1)&&this._providesCoverage(a,s+1,2*l+1,2*u)&&this._providesCoverage(a,s+1,2*l+1,2*u+1)},_setCoverage:function(a,s,l,u,d){if(!a[s]){i.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",s);return}a[s][l]||(a[s][l]={}),a[s][l][u]=d},_resetCoverage:function(a,s){a[s]={}}})}(p),function(i){var a=function(l){i.console.assert(l,"[TileCache.cacheTile] options is required"),i.console.assert(l.tile,"[TileCache.cacheTile] options.tile is required"),i.console.assert(l.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=l.tile,this.tiledImage=l.tiledImage},s=function(l){i.console.assert(l,"[ImageRecord] options is required"),i.console.assert(l.data,"[ImageRecord] options.data is required"),this._tiles=[],l.create.apply(null,[this,l.data,l.ownerTile]),this._destroyImplementation=l.destroy.bind(null,this),this.getImage=l.getImage.bind(null,this),this.getData=l.getData.bind(null,this),this.getRenderedContext=l.getRenderedContext.bind(null,this)};s.prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(l){i.console.assert(l,"[ImageRecord.addTile] tile is required"),this._tiles.push(l)},removeTile:function(l){for(var u=0;u<this._tiles.length;u++)if(this._tiles[u]===l){this._tiles.splice(u,1);return}i.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",l)},getTileCount:function(){return this._tiles.length}},i.TileCache=function(l){l=l||{},this._maxImageCacheCount=l.maxImageCacheCount||i.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},i.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(l){i.console.assert(l,"[TileCache.cacheTile] options is required"),i.console.assert(l.tile,"[TileCache.cacheTile] options.tile is required"),i.console.assert(l.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),i.console.assert(l.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var u=l.cutoff||0,d=this._tilesLoaded.length,h=this._imagesLoaded[l.tile.cacheKey];if(h||(l.data||(i.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),l.data=l.image),i.console.assert(l.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),h=this._imagesLoaded[l.tile.cacheKey]=new s({data:l.data,ownerTile:l.tile,create:l.tiledImage.source.createTileCache,destroy:l.tiledImage.source.destroyTileCache,getImage:l.tiledImage.source.getTileCacheDataAsImage,getData:l.tiledImage.source.getTileCacheData,getRenderedContext:l.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),h.addTile(l.tile),l.tile.cacheImageRecord=h,this._imagesLoadedCount>this._maxImageCacheCount){for(var c=null,g=-1,v=null,y,w,_,b,D,A,L=this._tilesLoaded.length-1;L>=0;L--)if(A=this._tilesLoaded[L],y=A.tile,!(y.level<=u||y.beingDrawn)){if(!c){c=y,g=L,v=A;continue}b=y.lastTouchTime,w=c.lastTouchTime,D=y.level,_=c.level,(b<w||b===w&&D>_)&&(c=y,g=L,v=A)}c&&g>=0&&(this._unloadTile(v),d=g)}this._tilesLoaded[d]=new a({tile:l.tile,tiledImage:l.tiledImage})},clearTilesFor:function(l){i.console.assert(l,"[TileCache.clearTilesFor] tiledImage is required");for(var u,d=0;d<this._tilesLoaded.length;++d)u=this._tilesLoaded[d],u.tiledImage===l&&(this._unloadTile(u),this._tilesLoaded.splice(d,1),d--)},getImageRecord:function(l){return i.console.assert(l,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[l]},_unloadTile:function(l){i.console.assert(l,"[TileCache._unloadTile] tileRecord is required");var u=l.tile,d=l.tiledImage;let h=u.getCanvasContext&&u.getCanvasContext();u.unload(),u.cacheImageRecord=null;var c=this._imagesLoaded[u.cacheKey];c&&(c.removeTile(u),c.getTileCount()||(c.destroy(),delete this._imagesLoaded[u.cacheKey],this._imagesLoadedCount--,h&&(h.canvas.width=0,h.canvas.height=0,d.viewer.raiseEvent("image-unloaded",{context2D:h,tile:u}))),d.viewer.raiseEvent("tile-unloaded",{tile:u,tiledImage:d}))}}}(p),function(i){i.World=function(a){var s=this;i.console.assert(a.viewer,"[World] options.viewer is required"),i.EventSource.call(this),this.viewer=a.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(l){s._autoRefigureSizes?s._figureSizes():s._needsSizesFigured=!0},this._figureSizes()},i.extend(i.World.prototype,i.EventSource.prototype,{addItem:function(a,s){if(i.console.assert(a,"[World.addItem] item is required"),i.console.assert(a instanceof i.TiledImage,"[World.addItem] only TiledImages supported at this time"),s=s||{},s.index!==void 0){var l=Math.max(0,Math.min(this._items.length,s.index));this._items.splice(l,0,a)}else this._items.push(a);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,a.addHandler("bounds-change",this._delegatedFigureSizes),a.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:a})},getItemAt:function(a){return i.console.assert(a!==void 0,"[World.getItemAt] index is required"),this._items[a]},getIndexOfItem:function(a){return i.console.assert(a,"[World.getIndexOfItem] item is required"),i.indexOf(this._items,a)},getItemCount:function(){return this._items.length},setItemIndex:function(a,s){i.console.assert(a,"[World.setItemIndex] item is required"),i.console.assert(s!==void 0,"[World.setItemIndex] index is required");var l=this.getIndexOfItem(a);if(s>=this._items.length)throw new Error("Index bigger than number of layers.");s===l||l===-1||(this._items.splice(l,1),this._items.splice(s,0,a),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:a,previousIndex:l,newIndex:s}))},removeItem:function(a){i.console.assert(a,"[World.removeItem] item is required");var s=i.indexOf(this._items,a);s!==-1&&(a.removeHandler("bounds-change",this._delegatedFigureSizes),a.removeHandler("clip-change",this._delegatedFigureSizes),a.destroy(),this._items.splice(s,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(a))},removeAll:function(){this.viewer._cancelPendingImages();var a,s;for(s=0;s<this._items.length;s++)a=this._items[s],a.removeHandler("bounds-change",this._delegatedFigureSizes),a.removeHandler("clip-change",this._delegatedFigureSizes),a.destroy();var l=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,s=0;s<l.length;s++)a=l[s],this._raiseRemoveItem(a)},resetItems:function(){for(var a=0;a<this._items.length;a++)this._items[a].reset()},update:function(a){for(var s=!1,l=0;l<this._items.length;l++)s=this._items[l].update(a)||s;return s},draw:function(){this.viewer.drawer.draw(this._items),this._needsDraw=!1,this._items.forEach(a=>{this._needsDraw=a.setDrawn()||this._needsDraw})},needsDraw:function(){for(var a=0;a<this._items.length;a++)if(this._items[a].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(a){this._autoRefigureSizes=a,a&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(a){a=a||{};var s=a.immediately||!1,l=a.layout||i.DEFAULT_SETTINGS.collectionLayout,u=a.rows||i.DEFAULT_SETTINGS.collectionRows,d=a.columns||i.DEFAULT_SETTINGS.collectionColumns,h=a.tileSize||i.DEFAULT_SETTINGS.collectionTileSize,c=a.tileMargin||i.DEFAULT_SETTINGS.collectionTileMargin,g=h+c,v;!a.rows&&d?v=d:v=Math.ceil(this._items.length/u);var y=0,w=0,_,b,D,A,L;this.setAutoRefigureSizes(!1);for(var j=0;j<this._items.length;j++)j&&j%v===0&&(l==="horizontal"?(w+=g,y=0):(y+=g,w=0)),_=this._items[j],b=_.getBounds(),b.width>b.height?D=h:D=h*(b.width/b.height),A=D*(b.height/b.width),L=new i.Point(y+(h-D)/2,w+(h-A)/2),_.setPosition(L,s),_.setWidth(D,s),l==="horizontal"?y+=g:w+=g;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var a=this._homeBounds?this._homeBounds.clone():null,s=this._contentSize?this._contentSize.clone():null,l=this._contentFactor||0;if(!this._items.length)this._homeBounds=new i.Rect(0,0,1,1),this._contentSize=new i.Point(1,1),this._contentFactor=1;else{var u=this._items[0],d=u.getBounds();this._contentFactor=u.getContentSize().x/d.width;for(var h=u.getClippedBounds().getBoundingBox(),c=h.x,g=h.y,v=h.x+h.width,y=h.y+h.height,w=1;w<this._items.length;w++)u=this._items[w],d=u.getBounds(),this._contentFactor=Math.max(this._contentFactor,u.getContentSize().x/d.width),h=u.getClippedBounds().getBoundingBox(),c=Math.min(c,h.x),g=Math.min(g,h.y),v=Math.max(v,h.x+h.width),y=Math.max(y,h.y+h.height);this._homeBounds=new i.Rect(c,g,v-c,y-g),this._contentSize=new i.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==l||!this._homeBounds.equals(a)||!this._contentSize.equals(s))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(a){this.raiseEvent("remove-item",{item:a})}})}(p)}(xs)),xs.exports}var IT=VT();const qT=kv(IT);function ZT(o){F.useEffect(function(){let i=qT({id:"viewer",tileSources:{type:"image",url:`${Ot}/cards/${o.card}`},showNavigationControl:!1,maxZoomPixelRatio:3});return function(){i.destroy()}},[]);let p={width:`${o.width}px`,height:`${o.height}px`,touchAction:"none",border:`2px dashed ${o.dashes||"red"}`};return U.jsx("div",{id:"viewer",style:p})}var YT=28e5,WT=2800001,XT=5508011,QT=5663016,KT=8078007,JT=8078011,$T=8078012;function Op(o){return Array.isArray(o)?"%5B"+o.map(Op).join("%2C%20")+"%5D":typeof o=="bigint"?`${o}n`:encodeURIComponent(String(o!=null&&Object.getPrototypeOf(o)===null?{...o}:o))}function ew([o,p]){return`${o}=${Op(p)}`}function tw(o){const p=Object.entries(o).map(ew).join("&");return btoa(p)}function iw(o,p={}){{let i=`Solana error #${o}; Decode this error by running \`npx @solana/errors decode -- ${o}`;return Object.keys(p).length&&(i+=` '${tw(p)}'`),`${i}\``}}var la=class extends Error{constructor(...[p,i]){let a,s;if(i){const{cause:u,...d}=i;u&&(s={cause:u}),Object.keys(d).length>0&&(a=d)}const l=iw(p,a);super(l,s);ku(this,"cause",this.cause);ku(this,"context");this.context={__code:p,...a},this.name="SolanaError"}};function Cs(o,p){return"fixedSize"in p?p.fixedSize:p.getSizeFromValue(o)}function Hn(o){return Object.freeze({...o,encode:p=>{const i=new Uint8Array(Cs(p,o));return o.write(p,i,0),i}})}function xc(o){return"fixedSize"in o&&typeof o.fixedSize=="number"}function nw(o){return!xc(o)}function aw(o,p){return Hn({fixedSize:p,write:(i,a,s)=>{const l=o.encode(i),u=l.length>p?l.slice(0,p):l;return a.set(u,s),s+p}})}function rw(o,p){return Hn({...nw(o)?{...o,getSizeFromValue:i=>o.getSizeFromValue(p(i))}:o,write:(i,a,s)=>o.write(p(i),a,s)})}function lw(o,p,i=p){if(!p.match(new RegExp(`^[${o}]*$`)))throw new la($T,{alphabet:o,base:o.length,value:i})}var sw=o=>Hn({getSizeFromValue:p=>{const[i,a]=Ig(p,o[0]);if(!a)return p.length;const s=qg(a,o);return i.length+Math.ceil(s.toString(16).length/2)},write(p,i,a){if(lw(o,p),p==="")return a;const[s,l]=Ig(p,o[0]);if(!l)return i.set(new Uint8Array(s.length).fill(0),a),a+s.length;let u=qg(l,o);const d=[];for(;u>0n;)d.unshift(Number(u%256n)),u/=256n;const h=[...Array(s.length).fill(0),...d];return i.set(h,a),a+h.length}});function Ig(o,p){const[i,a]=o.split(new RegExp(`((?!${p}).*)`));return[i,a]}function qg(o,p){const i=BigInt(p.length);let a=0n;for(const s of o)a*=i,a+=BigInt(p.indexOf(s));return a}var ow="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",uw=()=>sw(ow),ec;function cw(){return ec||(ec=uw()),ec}function hw(o){if(o.length<32||o.length>44)throw new la(WT,{actualLength:o.length});const a=cw().encode(o).byteLength;if(a!==32)throw new la(YT,{actualLength:a})}function fw(o){return hw(o),o}function Mp(o,p,i,a){if(a<p||a>i)throw new la(JT,{codecDescription:o,max:i,min:p,value:a})}function dw(o){return(o==null?void 0:o.endian)!==1}function gw(o){return Hn({fixedSize:o.size,write(p,i,a){o.range&&Mp(o.name,o.range[0],o.range[1],p);const s=new ArrayBuffer(o.size);return o.set(new DataView(s),p,dw(o.config)),i.set(new Uint8Array(s),a),a+o.size}})}var pw=()=>Hn({getSizeFromValue:o=>o<=127?1:o<=16383?2:3,maxSize:3,write:(o,p,i)=>{Mp("shortU16",0,65535,o);const a=[0];for(let s=0;;s+=1){const l=Number(o)>>s*7;if(l===0)break;const u=127&l;a[s]=u,s>0&&(a[s-1]|=128)}return p.set(a,i),i+a.length}}),mw=(o={})=>gw({config:o,name:"u32",range:[0,+"0xffffffff"],set:(p,i,a)=>p.setUint32(0,Number(i),a),size:4});function vw(o,p,i){if(p!==i)throw new la(KT,{actual:i,codecDescription:o,expected:p})}function Zg(o){return o.reduce((p,i)=>p===null||i===null?null:p+i,0)}function Pp(o){return xc(o)?o.fixedSize:null}function zp(o){return xc(o)?o.fixedSize:o.maxSize??null}function yw(o,p={}){const i=p.size??mw(),a=Yg(i,Pp(o)),s=Yg(i,zp(o))??void 0;return Hn({...a!==null?{fixedSize:a}:{getSizeFromValue:l=>(typeof i=="object"?Cs(l.length,i):0)+[...l].reduce((d,h)=>d+Cs(h,o),0),maxSize:s},write:(l,u,d)=>(typeof i=="number"&&vw("array",i,l.length),typeof i=="object"&&(d=i.write(l.length,u,d)),l.forEach(h=>{d=o.write(h,u,d)}),d)})}function Yg(o,p){return typeof o!="number"?null:o===0?0:p===null?null:p*o}function Lp(){return Hn({getSizeFromValue:o=>o.length,write:(o,p,i)=>(p.set(o,i),i+o.length)})}function Tw(o){const p=o.map(([,s])=>s),i=Zg(p.map(Pp)),a=Zg(p.map(zp))??void 0;return Hn({...i===null?{getSizeFromValue:s=>o.map(([l,u])=>Cs(s[l],u)).reduce((l,u)=>l+u,0),maxSize:a}:{fixedSize:i},write:(s,l,u)=>(o.forEach(([d,h])=>{u=h.write(s[d],l,u)}),u)})}function Wg(o){return o!==null&&(typeof o=="object"||typeof o=="function")}function ww(o){const p=new Set,i={deferreds:p,settled:!1};return Promise.resolve(o).then(a=>{for(const{resolve:s}of p)s(a);p.clear(),i.settled=!0},a=>{for(const{reject:s}of p)s(a);p.clear(),i.settled=!0}),i}var tc=new WeakMap;async function xw(o){let p;return await new Promise((a,s)=>{p={reject:s,resolve:a};for(const l of o){if(!Wg(l)){Promise.resolve(l).then(a,s);continue}let u=tc.get(l);u===void 0?(u=ww(l),u.deferreds.add(p),tc.set(l,u)):u.settled?Promise.resolve(l).then(a,s):u.deferreds.add(p)}}).finally(()=>{for(const a of o)Wg(a)&&tc.get(a).deferreds.delete(p)})}function Ew(o,p){return p?xw([new Promise((i,a)=>{p.aborted?a(p.reason):p.addEventListener("abort",function(){a(this.reason)})}),o]):o}function Sw(o){const p=Object.values(o);if(p.length===0)throw new la(QT);return p.map(i=>i||new Uint8Array(64).fill(0))}function _w(){return rw(yw(aw(Lp(),64),{size:pw()}),Sw)}function bw(){return Tw([["signatures",_w()],["messageBytes",Lp()]])}function nl(o,p){const i=Rw(o,p);return F.useCallback(async a=>{const[s]=await i(a);return s},[i])}function Rw(o,p){if(!o.chains.includes(p))throw new qa(Ep,{address:o.address,chain:p,featureName:sc,supportedChains:[...o.chains],supportedFeatures:[...o.features]});const i=Ns(o,sc),a=Ls(o);return F.useCallback(async(...s)=>{const l=s.map(({options:d,...h})=>{const c=d==null?void 0:d.minContextSlot;return{...h,account:a,chain:p,...c!=null?{options:{minContextSlot:Number(c)}}:null}});return await i.signAndSendTransaction(...l)},[a,p,i])}function Ec(o,p){const i=Cw(o,p);return F.useCallback(async a=>{const[s]=await i(a);return s},[i])}function Cw(o,p){if(!o.chains.includes(p))throw new qa(Ep,{address:o.address,chain:p,featureName:sc,supportedChains:[...o.chains],supportedFeatures:[...o.features]});const i=Ns(o,NT),a=Ls(o);return F.useCallback(async(...s)=>{const l=s.map(({options:d,...h})=>{const c=d==null?void 0:d.minContextSlot;return{...h,account:a,chain:p,...c!=null?{options:{minContextSlot:Number(c)}}:null}});return await i.signTransaction(...l)},[i,a,p])}function Dw(o,p){const i=F.useRef(null),a=nl(o,p);return F.useMemo(()=>({address:fw(o.address),async signAndSendTransactions(s,l={}){const{abortSignal:u,...d}=l;u==null||u.throwIfAborted();const h=i.current||(i.current=bw());if(s.length>1)throw new la(XT);if(s.length===0)return[];const[c]=s,g=h.encode(c),v={...d,transaction:g},{signature:y}=await Ew(a(v),u);return Object.freeze([y])}}),[a,o.address])}const uc=F.createContext({B:!0,A:!0,MENU:!1});function Xg(){let{visible:o,setVisible:p}=F.useContext(uc);function i(a){p({...o,[a]:!o[a]})}return U.jsx("div",{id:"menu",style:{display:"flex",alignItems:"center",justifyContent:"center",position:"fixed",top:0,left:0,height:"100%",background:Ui.color.menus},children:U.jsx("nav",{children:U.jsxs("ul",{style:{padding:0},children:[U.jsx("li",{style:{listStyleType:"none",padding:"7px"},children:U.jsx("button",{className:"button",onClick:function(){i("MENU")},children:"THE ZONE"})}),[{href:"/#tokens",text:"YOUR TOKENS"},{href:"/#help",text:"HELP & FAQ"},{href:"/#settings",text:"SETINGS"}].map(function(a){return U.jsx("li",{style:{listStyleType:"none"},children:U.jsx("button",{className:"button",children:U.jsx("a",{href:a.href,children:a.text})})},a)})]})})})}function Aw({value:[o,p]}){let[i,a]=F.useContext(il),l=Nn()[0];Dw(l.accounts[0],"solana:devnet");let u=nl(l.accounts[0],"solana:devnet");async function d(c){let g=Uint8Array.from(atob(c),function(v){return v.charCodeAt(0)});return await u({transaction:g})}async function h(c,g){let v=null;if(g=="rent"){let w=await(await fetch(`${Ot}/cards/${c}/rent`,{headers:{Authorization:`Bearer ${localStorage.getItem("bearer")}`}})).json(),_=await d(w.txn_rent_fee);v=ys.encode(_.signature)}await fetch(`${Ot}/cards/pick`,{method:"POST",body:JSON.stringify({card:c,sig:v}),headers:{"Content-type":"application/json",Authorization:`Bearer ${localStorage.getItem("bearer")}`}})}return F.useEffect(function(){h(o,p)},[]),U.jsx("p",{children:"!"})}function Ow(o){let{style:p,value:i}=o;if(!i)return U.jsx("p",{children:"No card"});let[a,s]=F.useContext(il),u=Nn()[0],[d,h]=Tc(u);wc(u);async function c(v){let y=await h();s(y[0])}let g=`https://explorer.solana.com/address/${i.address}?cluster=devnet`;return U.jsxs("div",{children:[U.jsx(Ap,{value:o.value}),U.jsx("button",{className:"button",children:U.jsx("a",{target:"_blank",href:g,children:"see on chain ↗"})}),U.jsx("button",{disabled:i.spl.data.amount==0,className:"button",style:{background:i.spl.data.amount==0?"lightgrey":"#fff"},onClick:function(v){c()},children:i.access.toUpperCase()}),a&&U.jsx(Aw,{value:[i.identifier,i.access]}),U.jsx("p",{children:"-"})]})}function Mw(){let o=F.useContext(Ps);F.useRef(null);let[p,i]=F.useState(!0),[a,s]=F.useState({}),[l,u]=F.useState({B:!0,A:!0,MENU:!1,RATE:!1});function d(y){u({...l,[y]:!l[y]})}async function h(){let y=await fetch(`${Ot}/cards/choices`,{headers:{"Content-type":"application/json",Authorization:`Bearer ${localStorage.getItem("bearer")}`}});s(await y.json())}if(F.useEffect(function(){o&&i(!1)},[o]),F.useEffect(function(){a.picked||h()},[]),p)return U.jsx("div",{children:"Loading..."});if(!o)return U.jsx(w0,{to:{pathname:"/"}});if(!a.picked)return U.jsxs(uc.Provider,{value:{visible:l,setVisible:u},children:[l.MENU&&U.jsx(Xg,{}),U.jsx("p",{children:"Studycard picker!"}),U.jsx("button",{className:"button",onClick:function(){d("MENU")},children:"MENU"}),U.jsx("div",{style:{display:"flex"},children:Object.entries(a).filter(function([y,w]){return["rent","free"].includes(y)}).map(function([y,w]){return U.jsx("div",{style:{margin:"1em"},children:U.jsx(Ow,{value:w},y)})})})]});async function c(y,w){await fetch(`${Ot}/cards/${y}/review/${w}`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("bearer")}`}})}async function g(y,w){await fetch(`${Ot}/cards/${y}/rating/${w}`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("bearer")}`}})}async function v(y){await fetch(`${Ot}/cards/${y}/done`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("bearer")}`}})}return U.jsx("div",{id:"the-zone",style:{textTransform:"uppercase"},children:U.jsxs(uc.Provider,{value:{visible:l,setVisible:u},children:[l.MENU&&U.jsx(Xg,{}),U.jsx("h2",{children:"Welcome to The Zone!"}),U.jsx("p",{children:"THIS HERE IS THE CENTRAL POINT OF THE ENTIRE APPLICATION. NO MATTER WHAT YOU DO YOU ENTER THE ZONE AND EVERYTHING SHOULD BE READY FOR YOU"}),U.jsxs("div",{id:"the-zone-controls",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[U.jsx("button",{className:"button",style:{background:Ui.color.mentor},onClick:function(){d("B")},children:"TOGGLE SIDE B"}),U.jsx("button",{className:"button",style:{background:Ui.color.student},onClick:function(){d("A")},children:"TOGGLE SIDE A"}),U.jsx("button",{className:"button",onClick:function(){d("MENU")},children:"MENU"}),U.jsx("button",{className:"button",onClick:function(){d("RATE")},children:"DONE"}),l.RATE&&U.jsx("button",{className:"button",onClick:function(){v(a.picked)},children:"NEXT"})]}),U.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[!l.RATE&&l.B&&U.jsx("section",{className:"container",style:{flexGrow:1},children:U.jsx(ZT,{id:"focusedB",dashes:Ui.color.mentor,card:a.picked,width:"500",height:"500"})}),!l.RATE&&l.A&&U.jsx("section",{className:"container",style:{flexGrow:1},children:U.jsx(GT,{id:"focusedA",dashes:Ui.color.student,width:"500",height:"500"})})]}),l.RATE&&U.jsxs(U.Fragment,{children:[U.jsx("p",{children:"-"}),U.jsx("p",{children:"GRADE CARD SUCCESS FOR (SM-2 ALGORITHM):"}),U.jsx("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[{review:0,correct:!1,description:"BLACKOUT"},{review:1,correct:!1,description:"FAMILIAR"},{review:2,correct:!1,description:"EASY"},{review:3,correct:!0,description:"EFFORT"},{review:4,correct:!0,description:"HESITATED"},{review:5,correct:!0,description:"EFFORTLESS"}].map(function(y){return U.jsx("button",{className:"button",onClick:function(w){c(a.picked,y.review)},children:(y.correct?"(✓) ":"(✗) ")+y.description})})}),U.jsx("p",{children:"-"}),U.jsx("p",{children:"RATE CARD DIFFICULTY"}),U.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[...Array(10).keys()].map(function(y){return U.jsx("button",{className:"button",onClick:function(w){g(a.picked,y+1)},children:y+1})})})]})]})})}const Pw=F.createContext({B:!0,A:!0,MENU:!1});function zw({style:o}){let{visible:p,setVisible:i}=F.useContext(Pw);return U.jsx("div",{id:"menu",style:{...o,display:"flex",alignItems:"center",justifyContent:"center",top:0,left:0,height:"100%",background:Ui.color.menus},children:U.jsx("nav",{children:U.jsx("ul",{style:{padding:0},children:[{href:"/#zone",text:"THE ZONE"},{href:"/#tokens",text:"YOUR TOKENS"},{href:"/#help",text:"HELP & FAQ"},{href:"/#settings",text:"SETINGS"}].map(function(a){return U.jsx("li",{style:{listStyleType:"none"},children:U.jsx("button",{className:"button",children:U.jsx("a",{href:a.href,children:a.text})})},a.text)})})})})}function Lw({value:o}){let i=Nn()[0],a=Ec(i.accounts[0],"solana:devnet");nl(i.accounts[0],"solana:devnet");async function s(u){let d=Uint8Array.from(atob(u),function(v){return v.charCodeAt(0)}),h=await a({transaction:d}),c=String.fromCharCode.apply(null,h.signedTransaction);return btoa(c)}async function l(){let u,d;if(!o)throw new Error(`Invalid card identifier ${o}!`);u=await fetch(`${Ot}/token/account/mint/tx`,{headers:{"Content-type":"application/json",Authorization:`Bearer ${localStorage.getItem("bearer")}`}}),d=await u.json();let h=d.mint_account;await s(d.txn),u=await fetch(`${Ot}/token/account/tx?mint_account=${h}`,{headers:{"Content-type":"application/json",Authorization:`Bearer ${localStorage.getItem("bearer")}`}}),d=await u.json();let c=d.token_account;await s(d.txn),await s(d.txn_escrows),u=await fetch(`${Ot}/token/mint/tx?mint_account=${h}&token_account=${c}&card_id=${o}`,{headers:{"Content-type":"application/json",Authorization:`Bearer ${localStorage.getItem("bearer")}`}}),d=await u.json(),console.log(await s(d.txn_mint_to))}return F.useEffect(function(){l()},[]),U.jsx("p",{children:"!"})}function Bw({value:o}){let i=Nn()[0];Ec(i.accounts[0],"solana:devnet");let a=nl(i.accounts[0],"solana:devnet");async function s(u){let d=Uint8Array.from(atob(u),function(h){return h.charCodeAt(0)});return await a({transaction:d})}async function l(){let d=await(await fetch(`${Ot}/token/escrow/tx?card_id=${o}`,{headers:{"Content-type":"application/json",Authorization:`Bearer ${localStorage.getItem("bearer")}`}})).json();console.log(await s(d.txn_escrow_to))}return F.useEffect(function(){l()},[]),U.jsx("p",{children:"!"})}function Nw({value:o}){let i=Nn()[0];Ec(i.accounts[0],"solana:devnet");let a=nl(i.accounts[0],"solana:devnet");async function s(u){let d=Uint8Array.from(atob(u),function(h){return h.charCodeAt(0)});return await a({transaction:d})}async function l(){let d=await(await fetch(`${Ot}/token/retrieval/tx?card_id=${o}`,{headers:{"Content-type":"application/json",Authorization:`Bearer ${localStorage.getItem("bearer")}`}})).json();console.log(await s(d.txn_retrieval)),await fetch(`${Ot}/token/retrieve/tx?card_id=${o}`,{headers:{"Content-type":"application/json",Authorization:`Bearer ${localStorage.getItem("bearer")}`}})}return F.useEffect(function(){l()},[]),U.jsx("p",{children:"!"})}function Hw(){let[o,p]=F.useState([]),[i,a]=F.useState(null),[s,l]=F.useState([{raw:""}]),[u,d]=F.useState(!0),[h,c]=F.useState({CREATOR:!1,EDITOR:!1}),[g,v]=F.useContext(il),y=F.useContext(Ps),_=Nn()[0],[b,D]=Tc(_);wc(_);async function A(){let I=await D();v(I[0])}async function L(){let I=await fetch(`${Ot}/cards`,{headers:{"Content-type":"application/json",Authorization:`Bearer ${localStorage.getItem("bearer")}`}});p(await I.json())}async function j(I){let N=await fetch(`${Ot}/cards`,{method:"POST",body:I,headers:{Authorization:`Bearer ${localStorage.getItem("bearer")}`}});a(await N.json())}function ae(I,N){I.preventDefault(),s[N].raw||s.push({raw:""});try{s[N]={raw:URL.createObjectURL(I.target.files[0]),filename:I.target.files[0].name}}catch{s[N]={raw:""}}l([...s])}return F.useEffect(function(){L()},[]),F.useEffect(function(){},[i,s,g]),F.useEffect(function(){y&&d(!1)},[y]),u?U.jsx("p",{children:"Loading!"}):U.jsx(U.Fragment,{children:U.jsxs("div",{id:"tokens",style:{width:"100%",minWidth:"50vw",display:"flex",flexWrap:"nowrap"},children:[U.jsx(zw,{style:{width:"16%"}}),U.jsxs("div",{style:{width:"32%"},children:[o.some(Boolean)&&o.map(function(I){let N=`https://explorer.solana.com/address/${I.address}?cluster=devnet`;return U.jsxs("div",{children:[U.jsx(Ap,{style:{maxWidth:"0px"},value:I}),!I.spl&&U.jsx("button",{className:"button",onClick:function(he){A()},children:"MINT TOKEN"}),!I.spl&&g&&U.jsx(Lw,{value:I.identifier}),I.spl&&U.jsxs(U.Fragment,{children:[0<I.spl.data.amount&&U.jsx("button",{className:"button",style:{cursor:"help",background:"lightgrey"},title:"FOR RENTING",onClick:function(he){A()},children:"ESCROW"}),0<I.spl.data.amount&&g&&U.jsx(Bw,{value:I.identifier}),I.spl.data.amount==0&&U.jsx("button",{className:"button",style:{cursor:"help",background:"lightgrey"},title:"FROM RENTING",onClick:function(he){A()},children:"RETRIEVE"}),I.spl.data.amount==0&&g&&U.jsx(Nw,{value:I.identifier}),U.jsx("button",{className:"button",children:U.jsx("a",{target:"_blank",href:N,children:"see on chain ↗"})})]}),U.jsx("p",{children:"-"})]},I.address)}),U.jsxs("div",{children:[!o.some(Boolean)&&U.jsx("div",{children:U.jsx("p",{children:"NO CARDS!"})}),U.jsx("button",{onClick:function(I){c({...h,CREATOR:!0})},children:"MAKE ONE"})]})]}),U.jsxs("div",{className:"button",style:{width:"50%"},children:[h.CREATOR&&U.jsxs(U.Fragment,{children:[U.jsx("h2",{children:"CARD CREATOR"}),U.jsxs("form",{style:{},action:j,encType:"multipart/form-data",children:[s.map(function(I,N){return U.jsx("input",{type:"file",name:"media",onChange:function(he){ae(he,N)}},N)}),["media_front","media_back"].map(function(I){return U.jsxs(U.Fragment,{children:[U.jsx("label",{for:I,children:U.jsxs("p",{children:[I,":"]})}),s.filter(function(N){return N.raw}).map(function(N,he){return U.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-evenly"},children:[U.jsx("img",{width:"128px",src:N.raw}),U.jsx("input",{style:{margin:"1em"},value:N.filename,name:I,type:"checkbox"},he),U.jsx("br",{})]})})]})}),U.jsx("label",{for:"card_name",children:U.jsx("p",{children:"card_name:"})}),U.jsx("input",{id:"card_mame",type:"text",name:"name",placeholder:"Card name"}),U.jsx("label",{for:"for-rent",children:"Rent"}),U.jsx("input",{id:"for-rent",type:"radio",name:"access",value:"rent",required:!0}),U.jsx("label",{for:"for-free",children:"Free"}),U.jsx("input",{id:"for-free",type:"radio",name:"access",value:"free"}),U.jsx("label",{for:"tags",children:"Tags"}),U.jsx("input",{id:"tags",type:"tags",name:"tags",placeholder:"Comma separated list of tags"}),U.jsx("br",{}),U.jsx("input",{type:"submit"})]})]}),!Object.values(h).some(Boolean)&&U.jsx("h2",{children:"CARD MANAGER"})]})]})})}const Uw=q0([{path:"/",element:U.jsx(jT,{})},{path:"/zone",element:U.jsx(Mw,{})},{path:"/tokens",element:U.jsx(Hw,{})}]);function Fw(){return U.jsx(aT,{router:Uw})}function jw(){return U.jsx(UT,{children:U.jsx(lT,{children:U.jsx(Fw,{})})})}Kv.createRoot(document.getElementById("root")).render(U.jsx(F.StrictMode,{children:U.jsx(jw,{})}));
